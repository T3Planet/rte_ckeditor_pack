import{ContextPlugin,Plugin,PendingActions,Context}from"@ckeditor/ckeditor5-core";import{EmitterMixin,ObservableMixin,priorities,global as global$1,Collection,DomEmitterMixin,CKEditorError,version,uid,KeystrokeHandler}from"@ckeditor/ckeditor5-utils";import{Notification,View,ListView,ListItemView,LabelView,BalloonPanelView,clickOutsideHandler,BodyCollection}from"@ckeditor/ckeditor5-ui";import{ModelLiveRange,History,NoOperation,InsertOperation,MarkerOperation,RootAttributeOperation,transformOperationSets,OperationFactory}from"@ckeditor/ckeditor5-engine";import{Users,UserView}from"@ckeditor/ckeditor5-collaboration-core";import{Compressor}from"@ckeditor/ckeditor5-operations-compressor";class Descriptor{static DESCRIPTOR_NAME;static DESCRIPTOR;constructor(...n){}}class Message extends Descriptor{static TYPE="1000";static READABLE_TYPE_NAME;constructor(...n){super()}static fromJSON(n){throw new TypeError("Must be implemented in a child class!")}}class GetUserMessage extends Message{id;static TYPE="21";static READABLE_TYPE_NAME="getUser";static DESCRIPTOR_NAME="GetUserMessage";static DESCRIPTOR={fields:{id:{type:"string",id:1}}};constructor(n){super(),this.id=n}toJSON(){return{id:this.id}}static fromJSON(n){return new GetUserMessage(n.id)}}class GetUserResponse extends Message{attributes;static DESCRIPTOR_NAME="GetUserResponse";static DESCRIPTOR={fields:{attributes:{rule:"repeated",type:"KeyValueDescriptor",id:1}}};constructor(n){super(),this.attributes=n}toJSON(){return{attributes:Object.keys(this.attributes).map(n=>({key:n,value:JSON.stringify(this.attributes[n])}))}}static fromJSON(n){const s=n.attributes.reduce((a,o)=>(a[o.key]=o.value?JSON.parse(o.value):null,a),{});return new GetUserResponse(s)}}var commonjsGlobal=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function getDefaultExportFromCjs(c){return c&&c.__esModule&&Object.prototype.hasOwnProperty.call(c,"default")?c.default:c}var indexMinimal={},minimal$1={},aspromise,hasRequiredAspromise;function requireAspromise(){if(hasRequiredAspromise)return aspromise;hasRequiredAspromise=1,aspromise=c;function c(n,s){for(var a=new Array(arguments.length-1),o=0,t=2,e=!0;t<arguments.length;)a[o++]=arguments[t++];return new Promise(function(d,u){a[o]=function(m){if(e)if(e=!1,m)u(m);else{for(var h=new Array(arguments.length-1),g=0;g<h.length;)h[g++]=arguments[g];d.apply(null,h)}};try{n.apply(s||null,a)}catch(l){e&&(e=!1,u(l))}})}return aspromise}var base64={},hasRequiredBase64;function requireBase64(){return hasRequiredBase64||(hasRequiredBase64=1,(function(c){var n=c;n.length=function(r){var d=r.length;if(!d)return 0;for(var u=0;--d%4>1&&r.charAt(d)==="=";)++u;return Math.ceil(r.length*3)/4-u};for(var s=new Array(64),a=new Array(123),o=0;o<64;)a[s[o]=o<26?o+65:o<52?o+71:o<62?o-4:o-59|43]=o++;n.encode=function(r,d,u){for(var l=null,m=[],h=0,g=0,y;d<u;){var S=r[d++];switch(g){case 0:m[h++]=s[S>>2],y=(S&3)<<4,g=1;break;case 1:m[h++]=s[y|S>>4],y=(S&15)<<2,g=2;break;case 2:m[h++]=s[y|S>>6],m[h++]=s[S&63],g=0;break}h>8191&&((l||(l=[])).push(String.fromCharCode.apply(String,m)),h=0)}return g&&(m[h++]=s[y],m[h++]=61,g===1&&(m[h++]=61)),l?(h&&l.push(String.fromCharCode.apply(String,m.slice(0,h))),l.join("")):String.fromCharCode.apply(String,m.slice(0,h))};var t="invalid encoding";n.decode=function(r,d,u){for(var l=u,m=0,h,g=0;g<r.length;){var y=r.charCodeAt(g++);if(y===61&&m>1)break;if((y=a[y])===void 0)throw Error(t);switch(m){case 0:h=y,m=1;break;case 1:d[u++]=h<<2|(y&48)>>4,h=y,m=2;break;case 2:d[u++]=(h&15)<<4|(y&60)>>2,h=y,m=3;break;case 3:d[u++]=(h&3)<<6|y,m=0;break}}if(m===1)throw Error(t);return u-l},n.test=function(r){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(r)}})(base64)),base64}var eventemitter,hasRequiredEventemitter;function requireEventemitter(){if(hasRequiredEventemitter)return eventemitter;hasRequiredEventemitter=1,eventemitter=c;function c(){this._listeners={}}return c.prototype.on=function(s,a,o){return(this._listeners[s]||(this._listeners[s]=[])).push({fn:a,ctx:o||this}),this},c.prototype.off=function(s,a){if(s===void 0)this._listeners={};else if(a===void 0)this._listeners[s]=[];else for(var o=this._listeners[s],t=0;t<o.length;)o[t].fn===a?o.splice(t,1):++t;return this},c.prototype.emit=function(s){var a=this._listeners[s];if(a){for(var o=[],t=1;t<arguments.length;)o.push(arguments[t++]);for(t=0;t<a.length;)a[t].fn.apply(a[t++].ctx,o)}return this},eventemitter}var float,hasRequiredFloat;function requireFloat(){if(hasRequiredFloat)return float;hasRequiredFloat=1,float=c(c);function c(t){return typeof Float32Array<"u"?(function(){var e=new Float32Array([-0]),r=new Uint8Array(e.buffer),d=r[3]===128;function u(g,y,S){e[0]=g,y[S]=r[0],y[S+1]=r[1],y[S+2]=r[2],y[S+3]=r[3]}function l(g,y,S){e[0]=g,y[S]=r[3],y[S+1]=r[2],y[S+2]=r[1],y[S+3]=r[0]}t.writeFloatLE=d?u:l,t.writeFloatBE=d?l:u;function m(g,y){return r[0]=g[y],r[1]=g[y+1],r[2]=g[y+2],r[3]=g[y+3],e[0]}function h(g,y){return r[3]=g[y],r[2]=g[y+1],r[1]=g[y+2],r[0]=g[y+3],e[0]}t.readFloatLE=d?m:h,t.readFloatBE=d?h:m})():(function(){function e(d,u,l,m){var h=u<0?1:0;if(h&&(u=-u),u===0)d(1/u>0?0:2147483648,l,m);else if(isNaN(u))d(2143289344,l,m);else if(u>34028234663852886e22)d((h<<31|2139095040)>>>0,l,m);else if(u<11754943508222875e-54)d((h<<31|Math.round(u/1401298464324817e-60))>>>0,l,m);else{var g=Math.floor(Math.log(u)/Math.LN2),y=Math.round(u*Math.pow(2,-g)*8388608)&8388607;d((h<<31|g+127<<23|y)>>>0,l,m)}}t.writeFloatLE=e.bind(null,n),t.writeFloatBE=e.bind(null,s);function r(d,u,l){var m=d(u,l),h=(m>>31)*2+1,g=m>>>23&255,y=m&8388607;return g===255?y?NaN:h*(1/0):g===0?h*1401298464324817e-60*y:h*Math.pow(2,g-150)*(y+8388608)}t.readFloatLE=r.bind(null,a),t.readFloatBE=r.bind(null,o)})(),typeof Float64Array<"u"?(function(){var e=new Float64Array([-0]),r=new Uint8Array(e.buffer),d=r[7]===128;function u(g,y,S){e[0]=g,y[S]=r[0],y[S+1]=r[1],y[S+2]=r[2],y[S+3]=r[3],y[S+4]=r[4],y[S+5]=r[5],y[S+6]=r[6],y[S+7]=r[7]}function l(g,y,S){e[0]=g,y[S]=r[7],y[S+1]=r[6],y[S+2]=r[5],y[S+3]=r[4],y[S+4]=r[3],y[S+5]=r[2],y[S+6]=r[1],y[S+7]=r[0]}t.writeDoubleLE=d?u:l,t.writeDoubleBE=d?l:u;function m(g,y){return r[0]=g[y],r[1]=g[y+1],r[2]=g[y+2],r[3]=g[y+3],r[4]=g[y+4],r[5]=g[y+5],r[6]=g[y+6],r[7]=g[y+7],e[0]}function h(g,y){return r[7]=g[y],r[6]=g[y+1],r[5]=g[y+2],r[4]=g[y+3],r[3]=g[y+4],r[2]=g[y+5],r[1]=g[y+6],r[0]=g[y+7],e[0]}t.readDoubleLE=d?m:h,t.readDoubleBE=d?h:m})():(function(){function e(d,u,l,m,h,g){var y=m<0?1:0;if(y&&(m=-m),m===0)d(0,h,g+u),d(1/m>0?0:2147483648,h,g+l);else if(isNaN(m))d(0,h,g+u),d(2146959360,h,g+l);else if(m>17976931348623157e292)d(0,h,g+u),d((y<<31|2146435072)>>>0,h,g+l);else{var S;if(m<22250738585072014e-324)S=m/5e-324,d(S>>>0,h,g+u),d((y<<31|S/4294967296)>>>0,h,g+l);else{var k=Math.floor(Math.log(m)/Math.LN2);k===1024&&(k=1023),S=m*Math.pow(2,-k),d(S*4503599627370496>>>0,h,g+u),d((y<<31|k+1023<<20|S*1048576&1048575)>>>0,h,g+l)}}}t.writeDoubleLE=e.bind(null,n,0,4),t.writeDoubleBE=e.bind(null,s,4,0);function r(d,u,l,m,h){var g=d(m,h+u),y=d(m,h+l),S=(y>>31)*2+1,k=y>>>20&2047,w=4294967296*(y&1048575)+g;return k===2047?w?NaN:S*(1/0):k===0?S*5e-324*w:S*Math.pow(2,k-1075)*(w+4503599627370496)}t.readDoubleLE=r.bind(null,a,0,4),t.readDoubleBE=r.bind(null,o,4,0)})(),t}function n(t,e,r){e[r]=t&255,e[r+1]=t>>>8&255,e[r+2]=t>>>16&255,e[r+3]=t>>>24}function s(t,e,r){e[r]=t>>>24,e[r+1]=t>>>16&255,e[r+2]=t>>>8&255,e[r+3]=t&255}function a(t,e){return(t[e]|t[e+1]<<8|t[e+2]<<16|t[e+3]<<24)>>>0}function o(t,e){return(t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3])>>>0}return float}var inquire_1,hasRequiredInquire;function requireInquire(){if(hasRequiredInquire)return inquire_1;hasRequiredInquire=1,inquire_1=inquire;function inquire(moduleName){try{var mod=eval("quire".replace(/^/,"re"))(moduleName);if(mod&&(mod.length||Object.keys(mod).length))return mod}catch(c){}return null}return inquire_1}var utf8={},hasRequiredUtf8;function requireUtf8(){return hasRequiredUtf8||(hasRequiredUtf8=1,(function(c){var n=c;n.length=function(a){for(var o=0,t=0,e=0;e<a.length;++e)t=a.charCodeAt(e),t<128?o+=1:t<2048?o+=2:(t&64512)===55296&&(a.charCodeAt(e+1)&64512)===56320?(++e,o+=4):o+=3;return o},n.read=function(a,o,t){var e=t-o;if(e<1)return"";for(var r=null,d=[],u=0,l;o<t;)l=a[o++],l<128?d[u++]=l:l>191&&l<224?d[u++]=(l&31)<<6|a[o++]&63:l>239&&l<365?(l=((l&7)<<18|(a[o++]&63)<<12|(a[o++]&63)<<6|a[o++]&63)-65536,d[u++]=55296+(l>>10),d[u++]=56320+(l&1023)):d[u++]=(l&15)<<12|(a[o++]&63)<<6|a[o++]&63,u>8191&&((r||(r=[])).push(String.fromCharCode.apply(String,d)),u=0);return r?(u&&r.push(String.fromCharCode.apply(String,d.slice(0,u))),r.join("")):String.fromCharCode.apply(String,d.slice(0,u))},n.write=function(a,o,t){for(var e=t,r,d,u=0;u<a.length;++u)r=a.charCodeAt(u),r<128?o[t++]=r:r<2048?(o[t++]=r>>6|192,o[t++]=r&63|128):(r&64512)===55296&&((d=a.charCodeAt(u+1))&64512)===56320?(r=65536+((r&1023)<<10)+(d&1023),++u,o[t++]=r>>18|240,o[t++]=r>>12&63|128,o[t++]=r>>6&63|128,o[t++]=r&63|128):(o[t++]=r>>12|224,o[t++]=r>>6&63|128,o[t++]=r&63|128);return t-e}})(utf8)),utf8}var pool_1,hasRequiredPool;function requirePool(){if(hasRequiredPool)return pool_1;hasRequiredPool=1,pool_1=c;function c(n,s,a){var o=a||8192,t=o>>>1,e=null,r=o;return function(u){if(u<1||u>t)return n(u);r+u>o&&(e=n(o),r=0);var l=s.call(e,r,r+=u);return r&7&&(r=(r|7)+1),l}}return pool_1}var longbits,hasRequiredLongbits;function requireLongbits(){if(hasRequiredLongbits)return longbits;hasRequiredLongbits=1,longbits=n;var c=requireMinimal$1();function n(t,e){this.lo=t>>>0,this.hi=e>>>0}var s=n.zero=new n(0,0);s.toNumber=function(){return 0},s.zzEncode=s.zzDecode=function(){return this},s.length=function(){return 1};var a=n.zeroHash="\0\0\0\0\0\0\0\0";n.fromNumber=function(e){if(e===0)return s;var r=e<0;r&&(e=-e);var d=e>>>0,u=(e-d)/4294967296>>>0;return r&&(u=~u>>>0,d=~d>>>0,++d>4294967295&&(d=0,++u>4294967295&&(u=0))),new n(d,u)},n.from=function(e){if(typeof e=="number")return n.fromNumber(e);if(c.isString(e))if(c.Long)e=c.Long.fromString(e);else return n.fromNumber(parseInt(e,10));return e.low||e.high?new n(e.low>>>0,e.high>>>0):s},n.prototype.toNumber=function(e){if(!e&&this.hi>>>31){var r=~this.lo+1>>>0,d=~this.hi>>>0;return r||(d=d+1>>>0),-(r+d*4294967296)}return this.lo+this.hi*4294967296},n.prototype.toLong=function(e){return c.Long?new c.Long(this.lo|0,this.hi|0,!!e):{low:this.lo|0,high:this.hi|0,unsigned:!!e}};var o=String.prototype.charCodeAt;return n.fromHash=function(e){return e===a?s:new n((o.call(e,0)|o.call(e,1)<<8|o.call(e,2)<<16|o.call(e,3)<<24)>>>0,(o.call(e,4)|o.call(e,5)<<8|o.call(e,6)<<16|o.call(e,7)<<24)>>>0)},n.prototype.toHash=function(){return String.fromCharCode(this.lo&255,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,this.hi&255,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24)},n.prototype.zzEncode=function(){var e=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^e)>>>0,this.lo=(this.lo<<1^e)>>>0,this},n.prototype.zzDecode=function(){var e=-(this.lo&1);return this.lo=((this.lo>>>1|this.hi<<31)^e)>>>0,this.hi=(this.hi>>>1^e)>>>0,this},n.prototype.length=function(){var e=this.lo,r=(this.lo>>>28|this.hi<<4)>>>0,d=this.hi>>>24;return d===0?r===0?e<16384?e<128?1:2:e<2097152?3:4:r<16384?r<128?5:6:r<2097152?7:8:d<128?9:10},longbits}var hasRequiredMinimal$1;function requireMinimal$1(){return hasRequiredMinimal$1||(hasRequiredMinimal$1=1,(function(c){var n=c;n.asPromise=requireAspromise(),n.base64=requireBase64(),n.EventEmitter=requireEventemitter(),n.float=requireFloat(),n.inquire=requireInquire(),n.utf8=requireUtf8(),n.pool=requirePool(),n.LongBits=requireLongbits(),n.isNode=!!(typeof commonjsGlobal<"u"&&commonjsGlobal&&commonjsGlobal.process&&commonjsGlobal.process.versions&&commonjsGlobal.process.versions.node),n.global=n.isNode&&commonjsGlobal||typeof window<"u"&&window||typeof self<"u"&&self||minimal$1,n.emptyArray=Object.freeze?Object.freeze([]):[],n.emptyObject=Object.freeze?Object.freeze({}):{},n.isInteger=Number.isInteger||function(t){return typeof t=="number"&&isFinite(t)&&Math.floor(t)===t},n.isString=function(t){return typeof t=="string"||t instanceof String},n.isObject=function(t){return t&&typeof t=="object"},n.isset=n.isSet=function(t,e){var r=t[e];return r!=null&&t.hasOwnProperty(e)?typeof r!="object"||(Array.isArray(r)?r.length:Object.keys(r).length)>0:!1},n.Buffer=(function(){try{var o=n.inquire("buffer").Buffer;return o.prototype.utf8Write?o:null}catch{return null}})(),n._Buffer_from=null,n._Buffer_allocUnsafe=null,n.newBuffer=function(t){return typeof t=="number"?n.Buffer?n._Buffer_allocUnsafe(t):new n.Array(t):n.Buffer?n._Buffer_from(t):typeof Uint8Array>"u"?t:new Uint8Array(t)},n.Array=typeof Uint8Array<"u"?Uint8Array:Array,n.Long=n.global.dcodeIO&&n.global.dcodeIO.Long||n.global.Long||n.inquire("long"),n.key2Re=/^true|false|0|1$/,n.key32Re=/^-?(?:0|[1-9][0-9]*)$/,n.key64Re=/^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/,n.longToHash=function(t){return t?n.LongBits.from(t).toHash():n.LongBits.zeroHash},n.longFromHash=function(t,e){var r=n.LongBits.fromHash(t);return n.Long?n.Long.fromBits(r.lo,r.hi,e):r.toNumber(!!e)};function s(o,t,e){for(var r=Object.keys(t),d=0;d<r.length;++d)(o[r[d]]===void 0||!e)&&(o[r[d]]=t[r[d]]);return o}n.merge=s,n.lcFirst=function(t){return t.charAt(0).toLowerCase()+t.substring(1)};function a(o){function t(e,r){if(!(this instanceof t))return new t(e,r);Object.defineProperty(this,"message",{get:function(){return e}}),Error.captureStackTrace?Error.captureStackTrace(this,t):Object.defineProperty(this,"stack",{value:new Error().stack||""}),r&&s(this,r)}return t.prototype=Object.create(Error.prototype,{constructor:{value:t,writable:!0,enumerable:!1,configurable:!0},name:{get:function(){return o},set:void 0,enumerable:!1,configurable:!0},toString:{value:function(){return this.name+": "+this.message},writable:!0,enumerable:!1,configurable:!0}}),t}n.newError=a,n.ProtocolError=a("ProtocolError"),n.oneOfGetter=function(t){for(var e={},r=0;r<t.length;++r)e[t[r]]=1;return function(){for(var d=Object.keys(this),u=d.length-1;u>-1;--u)if(e[d[u]]===1&&this[d[u]]!==void 0&&this[d[u]]!==null)return d[u]}},n.oneOfSetter=function(t){return function(e){for(var r=0;r<t.length;++r)t[r]!==e&&delete this[t[r]]}},n.toJSONOptions={longs:String,enums:String,bytes:String,json:!0},n._configure=function(){var o=n.Buffer;if(!o){n._Buffer_from=n._Buffer_allocUnsafe=null;return}n._Buffer_from=o.from!==Uint8Array.from&&o.from||function(e,r){return new o(e,r)},n._Buffer_allocUnsafe=o.allocUnsafe||function(e){return new o(e)}}})(minimal$1)),minimal$1}var writer,hasRequiredWriter;function requireWriter(){if(hasRequiredWriter)return writer;hasRequiredWriter=1,writer=d;var c=requireMinimal$1(),n,s=c.LongBits,a=c.base64,o=c.utf8;function t(k,w,O){this.fn=k,this.len=w,this.next=void 0,this.val=O}function e(){}function r(k){this.head=k.head,this.tail=k.tail,this.len=k.len,this.next=k.states}function d(){this.len=0,this.head=new t(e,0,0),this.tail=this.head,this.states=null}var u=function(){return c.Buffer?function(){return(d.create=function(){return new n})()}:function(){return new d}};d.create=u(),d.alloc=function(w){return new c.Array(w)},c.Array!==Array&&(d.alloc=c.pool(d.alloc,c.Array.prototype.subarray)),d.prototype._push=function(w,O,I){return this.tail=this.tail.next=new t(w,O,I),this.len+=O,this};function l(k,w,O){w[O]=k&255}function m(k,w,O){for(;k>127;)w[O++]=k&127|128,k>>>=7;w[O]=k}function h(k,w){this.len=k,this.next=void 0,this.val=w}h.prototype=Object.create(t.prototype),h.prototype.fn=m,d.prototype.uint32=function(w){return this.len+=(this.tail=this.tail.next=new h((w=w>>>0)<128?1:w<16384?2:w<2097152?3:w<268435456?4:5,w)).len,this},d.prototype.int32=function(w){return w<0?this._push(g,10,s.fromNumber(w)):this.uint32(w)},d.prototype.sint32=function(w){return this.uint32((w<<1^w>>31)>>>0)};function g(k,w,O){for(;k.hi;)w[O++]=k.lo&127|128,k.lo=(k.lo>>>7|k.hi<<25)>>>0,k.hi>>>=7;for(;k.lo>127;)w[O++]=k.lo&127|128,k.lo=k.lo>>>7;w[O++]=k.lo}d.prototype.uint64=function(w){var O=s.from(w);return this._push(g,O.length(),O)},d.prototype.int64=d.prototype.uint64,d.prototype.sint64=function(w){var O=s.from(w).zzEncode();return this._push(g,O.length(),O)},d.prototype.bool=function(w){return this._push(l,1,w?1:0)};function y(k,w,O){w[O]=k&255,w[O+1]=k>>>8&255,w[O+2]=k>>>16&255,w[O+3]=k>>>24}d.prototype.fixed32=function(w){return this._push(y,4,w>>>0)},d.prototype.sfixed32=d.prototype.fixed32,d.prototype.fixed64=function(w){var O=s.from(w);return this._push(y,4,O.lo)._push(y,4,O.hi)},d.prototype.sfixed64=d.prototype.fixed64,d.prototype.float=function(w){return this._push(c.float.writeFloatLE,4,w)},d.prototype.double=function(w){return this._push(c.float.writeDoubleLE,8,w)};var S=c.Array.prototype.set?function(w,O,I){O.set(w,I)}:function(w,O,I){for(var C=0;C<w.length;++C)O[I+C]=w[C]};return d.prototype.bytes=function(w){var O=w.length>>>0;if(!O)return this._push(l,1,0);if(c.isString(w)){var I=d.alloc(O=a.length(w));a.decode(w,I,0),w=I}return this.uint32(O)._push(S,O,w)},d.prototype.string=function(w){var O=o.length(w);return O?this.uint32(O)._push(o.write,O,w):this._push(l,1,0)},d.prototype.fork=function(){return this.states=new r(this),this.head=this.tail=new t(e,0,0),this.len=0,this},d.prototype.reset=function(){return this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new t(e,0,0),this.len=0),this},d.prototype.ldelim=function(){var w=this.head,O=this.tail,I=this.len;return this.reset().uint32(I),I&&(this.tail.next=w.next,this.tail=O,this.len+=I),this},d.prototype.finish=function(){for(var w=this.head.next,O=this.constructor.alloc(this.len),I=0;w;)w.fn(w.val,O,I),I+=w.len,w=w.next;return O},d._configure=function(k){n=k,d.create=u(),n._configure()},writer}var writer_buffer,hasRequiredWriter_buffer;function requireWriter_buffer(){if(hasRequiredWriter_buffer)return writer_buffer;hasRequiredWriter_buffer=1,writer_buffer=s;var c=requireWriter();(s.prototype=Object.create(c.prototype)).constructor=s;var n=requireMinimal$1();function s(){c.call(this)}s._configure=function(){s.alloc=n._Buffer_allocUnsafe,s.writeBytesBuffer=n.Buffer&&n.Buffer.prototype instanceof Uint8Array&&n.Buffer.prototype.set.name==="set"?function(t,e,r){e.set(t,r)}:function(t,e,r){if(t.copy)t.copy(e,r,0,t.length);else for(var d=0;d<t.length;)e[r++]=t[d++]}},s.prototype.bytes=function(t){n.isString(t)&&(t=n._Buffer_from(t,"base64"));var e=t.length>>>0;return this.uint32(e),e&&this._push(s.writeBytesBuffer,e,t),this};function a(o,t,e){o.length<40?n.utf8.write(o,t,e):t.utf8Write?t.utf8Write(o,e):t.write(o,e)}return s.prototype.string=function(t){var e=n.Buffer.byteLength(t);return this.uint32(e),e&&this._push(a,e,t),this},s._configure(),writer_buffer}var reader,hasRequiredReader;function requireReader(){if(hasRequiredReader)return reader;hasRequiredReader=1,reader=t;var c=requireMinimal$1(),n,s=c.LongBits,a=c.utf8;function o(m,h){return RangeError("index out of range: "+m.pos+" + "+(h||1)+" > "+m.len)}function t(m){this.buf=m,this.pos=0,this.len=m.length}var e=typeof Uint8Array<"u"?function(h){if(h instanceof Uint8Array||Array.isArray(h))return new t(h);throw Error("illegal buffer")}:function(h){if(Array.isArray(h))return new t(h);throw Error("illegal buffer")},r=function(){return c.Buffer?function(g){return(t.create=function(S){return c.Buffer.isBuffer(S)?new n(S):e(S)})(g)}:e};t.create=r(),t.prototype._slice=c.Array.prototype.subarray||c.Array.prototype.slice,t.prototype.uint32=(function(){var h=4294967295;return function(){if(h=(this.buf[this.pos]&127)>>>0,this.buf[this.pos++]<128||(h=(h|(this.buf[this.pos]&127)<<7)>>>0,this.buf[this.pos++]<128)||(h=(h|(this.buf[this.pos]&127)<<14)>>>0,this.buf[this.pos++]<128)||(h=(h|(this.buf[this.pos]&127)<<21)>>>0,this.buf[this.pos++]<128)||(h=(h|(this.buf[this.pos]&15)<<28)>>>0,this.buf[this.pos++]<128))return h;if((this.pos+=5)>this.len)throw this.pos=this.len,o(this,10);return h}})(),t.prototype.int32=function(){return this.uint32()|0},t.prototype.sint32=function(){var h=this.uint32();return h>>>1^-(h&1)|0};function d(){var m=new s(0,0),h=0;if(this.len-this.pos>4){for(;h<4;++h)if(m.lo=(m.lo|(this.buf[this.pos]&127)<<h*7)>>>0,this.buf[this.pos++]<128)return m;if(m.lo=(m.lo|(this.buf[this.pos]&127)<<28)>>>0,m.hi=(m.hi|(this.buf[this.pos]&127)>>4)>>>0,this.buf[this.pos++]<128)return m;h=0}else{for(;h<3;++h){if(this.pos>=this.len)throw o(this);if(m.lo=(m.lo|(this.buf[this.pos]&127)<<h*7)>>>0,this.buf[this.pos++]<128)return m}return m.lo=(m.lo|(this.buf[this.pos++]&127)<<h*7)>>>0,m}if(this.len-this.pos>4){for(;h<5;++h)if(m.hi=(m.hi|(this.buf[this.pos]&127)<<h*7+3)>>>0,this.buf[this.pos++]<128)return m}else for(;h<5;++h){if(this.pos>=this.len)throw o(this);if(m.hi=(m.hi|(this.buf[this.pos]&127)<<h*7+3)>>>0,this.buf[this.pos++]<128)return m}throw Error("invalid varint encoding")}t.prototype.bool=function(){return this.uint32()!==0};function u(m,h){return(m[h-4]|m[h-3]<<8|m[h-2]<<16|m[h-1]<<24)>>>0}t.prototype.fixed32=function(){if(this.pos+4>this.len)throw o(this,4);return u(this.buf,this.pos+=4)},t.prototype.sfixed32=function(){if(this.pos+4>this.len)throw o(this,4);return u(this.buf,this.pos+=4)|0};function l(){if(this.pos+8>this.len)throw o(this,8);return new s(u(this.buf,this.pos+=4),u(this.buf,this.pos+=4))}return t.prototype.float=function(){if(this.pos+4>this.len)throw o(this,4);var h=c.float.readFloatLE(this.buf,this.pos);return this.pos+=4,h},t.prototype.double=function(){if(this.pos+8>this.len)throw o(this,4);var h=c.float.readDoubleLE(this.buf,this.pos);return this.pos+=8,h},t.prototype.bytes=function(){var h=this.uint32(),g=this.pos,y=this.pos+h;if(y>this.len)throw o(this,h);if(this.pos+=h,Array.isArray(this.buf))return this.buf.slice(g,y);if(g===y){var S=c.Buffer;return S?S.alloc(0):new this.buf.constructor(0)}return this._slice.call(this.buf,g,y)},t.prototype.string=function(){var h=this.bytes();return a.read(h,0,h.length)},t.prototype.skip=function(h){if(typeof h=="number"){if(this.pos+h>this.len)throw o(this,h);this.pos+=h}else do if(this.pos>=this.len)throw o(this);while(this.buf[this.pos++]&128);return this},t.prototype.skipType=function(m){switch(m){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;(m=this.uint32()&7)!==4;)this.skipType(m);break;case 5:this.skip(4);break;default:throw Error("invalid wire type "+m+" at offset "+this.pos)}return this},t._configure=function(m){n=m,t.create=r(),n._configure();var h=c.Long?"toLong":"toNumber";c.merge(t.prototype,{int64:function(){return d.call(this)[h](!1)},uint64:function(){return d.call(this)[h](!0)},sint64:function(){return d.call(this).zzDecode()[h](!1)},fixed64:function(){return l.call(this)[h](!0)},sfixed64:function(){return l.call(this)[h](!1)}})},reader}var reader_buffer,hasRequiredReader_buffer;function requireReader_buffer(){if(hasRequiredReader_buffer)return reader_buffer;hasRequiredReader_buffer=1,reader_buffer=s;var c=requireReader();(s.prototype=Object.create(c.prototype)).constructor=s;var n=requireMinimal$1();function s(a){c.call(this,a)}return s._configure=function(){n.Buffer&&(s.prototype._slice=n.Buffer.prototype.slice)},s.prototype.string=function(){var o=this.uint32();return this.buf.utf8Slice?this.buf.utf8Slice(this.pos,this.pos=Math.min(this.pos+o,this.len)):this.buf.toString("utf-8",this.pos,this.pos=Math.min(this.pos+o,this.len))},s._configure(),reader_buffer}var rpc={},service,hasRequiredService;function requireService(){if(hasRequiredService)return service;hasRequiredService=1,service=n;var c=requireMinimal$1();(n.prototype=Object.create(c.EventEmitter.prototype)).constructor=n;function n(s,a,o){if(typeof s!="function")throw TypeError("rpcImpl must be a function");c.EventEmitter.call(this),this.rpcImpl=s,this.requestDelimited=!!a,this.responseDelimited=!!o}return n.prototype.rpcCall=function s(a,o,t,e,r){if(!e)throw TypeError("request must be specified");var d=this;if(!r)return c.asPromise(s,d,a,o,t,e);if(!d.rpcImpl){setTimeout(function(){r(Error("already ended"))},0);return}try{return d.rpcImpl(a,o[d.requestDelimited?"encodeDelimited":"encode"](e).finish(),function(l,m){if(l)return d.emit("error",l,a),r(l);if(m===null){d.end(!0);return}if(!(m instanceof t))try{m=t[d.responseDelimited?"decodeDelimited":"decode"](m)}catch(h){return d.emit("error",h,a),r(h)}return d.emit("data",m,a),r(null,m)})}catch(u){d.emit("error",u,a),setTimeout(function(){r(u)},0);return}},n.prototype.end=function(a){return this.rpcImpl&&(a||this.rpcImpl(null,null,null),this.rpcImpl=null,this.emit("end").off()),this},service}var hasRequiredRpc;function requireRpc(){return hasRequiredRpc||(hasRequiredRpc=1,(function(c){var n=c;n.Service=requireService()})(rpc)),rpc}var roots,hasRequiredRoots;function requireRoots(){return hasRequiredRoots||(hasRequiredRoots=1,roots={}),roots}var hasRequiredIndexMinimal;function requireIndexMinimal(){return hasRequiredIndexMinimal||(hasRequiredIndexMinimal=1,(function(c){var n=c;n.build="minimal",n.Writer=requireWriter(),n.BufferWriter=requireWriter_buffer(),n.Reader=requireReader(),n.BufferReader=requireReader_buffer(),n.util=requireMinimal$1(),n.rpc=requireRpc(),n.roots=requireRoots(),n.configure=s;function s(){n.util._configure(),n.Writer._configure(n.BufferWriter),n.Reader._configure(n.BufferReader)}s()})(indexMinimal)),indexMinimal}var minimal,hasRequiredMinimal;function requireMinimal(){return hasRequiredMinimal||(hasRequiredMinimal=1,minimal=requireIndexMinimal()),minimal}var minimalExports=requireMinimal(),_0x19253a=getDefaultExportFromCjs(minimalExports);const messages=(()=>{var c=_0x19253a.Reader,n=_0x19253a.Writer,s=_0x19253a.util,a=_0x19253a.roots.default||(_0x19253a.roots.default={});return a.OperationMetadataDescriptor=(function(){function o(t){if(t)for(var e=Object.keys(t),r=0;r<e.length;++r)t[e[r]]!=null&&(this[e[r]]=t[e[r]])}return o.prototype.userId="",o.prototype.type="",o.prototype.createdAt="",o.create=function(t){return new o(t)},o.encode=function(t,e){return e||(e=n.create()),t.userId!=null&&Object.hasOwnProperty.call(t,"userId")&&e.uint32(10).string(t.userId),t.type!=null&&Object.hasOwnProperty.call(t,"type")&&e.uint32(18).string(t.type),t.createdAt!=null&&Object.hasOwnProperty.call(t,"createdAt")&&e.uint32(26).string(t.createdAt),e},o.encodeDelimited=function(t,e){return this.encode(t,e).ldelim()},o.decode=function(t,e,r){t instanceof c||(t=c.create(t));for(var d=e===void 0?t.len:t.pos+e,u=new a.OperationMetadataDescriptor;t.pos<d;){var l=t.uint32();if(l===r)break;switch(l>>>3){case 1:u.userId=t.string();break;case 2:u.type=t.string();break;case 3:u.createdAt=t.string();break;default:t.skipType(7&l)}}return u},o.decodeDelimited=function(t){return t instanceof c||(t=new c(t)),this.decode(t,t.uint32())},o.verify=function(t){return typeof t!="object"||t===null?"object expected":t.userId!=null&&t.hasOwnProperty("userId")&&!s.isString(t.userId)?"userId: string expected":t.type!=null&&t.hasOwnProperty("type")&&!s.isString(t.type)?"type: string expected":t.createdAt!=null&&t.hasOwnProperty("createdAt")&&!s.isString(t.createdAt)?"createdAt: string expected":null},o.fromObject=function(t){if(t instanceof a.OperationMetadataDescriptor)return t;var e=new a.OperationMetadataDescriptor;return t.userId!=null&&(e.userId=String(t.userId)),t.type!=null&&(e.type=String(t.type)),t.createdAt!=null&&(e.createdAt=String(t.createdAt)),e},o.toObject=function(t,e){e||(e={});var r={};return e.defaults&&(r.userId="",r.type="",r.createdAt=""),t.userId!=null&&t.hasOwnProperty("userId")&&(r.userId=t.userId),t.type!=null&&t.hasOwnProperty("type")&&(r.type=t.type),t.createdAt!=null&&t.hasOwnProperty("createdAt")&&(r.createdAt=t.createdAt),r},o.prototype.toJSON=function(){return this.constructor.toObject(this,_0x19253a.util.toJSONOptions)},o.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/OperationMetadataDescriptor"},o})(),a.CollaborativeEditingConnectMessage=(function(){function o(t){if(this.buffers=[],this.types=[],t)for(var e=Object.keys(t),r=0;r<e.length;++r)t[e[r]]!=null&&(this[e[r]]=t[e[r]])}return o.prototype.id="",o.prototype.bundleVersion="",o.prototype.buffers=s.emptyArray,o.prototype.types=s.emptyArray,o.prototype.lastOperationId="",o.create=function(t){return new o(t)},o.encode=function(t,e){if(e||(e=n.create()),t.id!=null&&Object.hasOwnProperty.call(t,"id")&&e.uint32(10).string(t.id),t.bundleVersion!=null&&Object.hasOwnProperty.call(t,"bundleVersion")&&e.uint32(18).string(t.bundleVersion),t.buffers!=null&&t.buffers.length)for(var r=0;r<t.buffers.length;++r)e.uint32(26).bytes(t.buffers[r]);if(t.types!=null&&t.types.length){for(e.uint32(34).fork(),r=0;r<t.types.length;++r)e.uint32(t.types[r]);e.ldelim()}return t.lastOperationId!=null&&Object.hasOwnProperty.call(t,"lastOperationId")&&e.uint32(42).string(t.lastOperationId),e},o.encodeDelimited=function(t,e){return this.encode(t,e).ldelim()},o.decode=function(t,e,r){t instanceof c||(t=c.create(t));for(var d=e===void 0?t.len:t.pos+e,u=new a.CollaborativeEditingConnectMessage;t.pos<d;){var l=t.uint32();if(l===r)break;switch(l>>>3){case 1:u.id=t.string();break;case 2:u.bundleVersion=t.string();break;case 3:u.buffers&&u.buffers.length||(u.buffers=[]),u.buffers.push(t.bytes());break;case 4:if(u.types&&u.types.length||(u.types=[]),(7&l)==2)for(var m=t.uint32()+t.pos;t.pos<m;)u.types.push(t.uint32());else u.types.push(t.uint32());break;case 5:u.lastOperationId=t.string();break;default:t.skipType(7&l)}}return u},o.decodeDelimited=function(t){return t instanceof c||(t=new c(t)),this.decode(t,t.uint32())},o.verify=function(t){if(typeof t!="object"||t===null)return"object expected";if(t.id!=null&&t.hasOwnProperty("id")&&!s.isString(t.id))return"id: string expected";if(t.bundleVersion!=null&&t.hasOwnProperty("bundleVersion")&&!s.isString(t.bundleVersion))return"bundleVersion: string expected";if(t.buffers!=null&&t.hasOwnProperty("buffers")){if(!Array.isArray(t.buffers))return"buffers: array expected";for(var e=0;e<t.buffers.length;++e)if(!(t.buffers[e]&&typeof t.buffers[e].length=="number"||s.isString(t.buffers[e])))return"buffers: buffer[] expected"}if(t.types!=null&&t.hasOwnProperty("types")){if(!Array.isArray(t.types))return"types: array expected";for(e=0;e<t.types.length;++e)if(!s.isInteger(t.types[e]))return"types: integer[] expected"}return t.lastOperationId!=null&&t.hasOwnProperty("lastOperationId")&&!s.isString(t.lastOperationId)?"lastOperationId: string expected":null},o.fromObject=function(t){if(t instanceof a.CollaborativeEditingConnectMessage)return t;var e=new a.CollaborativeEditingConnectMessage;if(t.id!=null&&(e.id=String(t.id)),t.bundleVersion!=null&&(e.bundleVersion=String(t.bundleVersion)),t.buffers){if(!Array.isArray(t.buffers))throw TypeError(".CollaborativeEditingConnectMessage.buffers: array expected");e.buffers=[];for(var r=0;r<t.buffers.length;++r)typeof t.buffers[r]=="string"?s.base64.decode(t.buffers[r],e.buffers[r]=s.newBuffer(s.base64.length(t.buffers[r])),0):t.buffers[r].length>=0&&(e.buffers[r]=t.buffers[r])}if(t.types){if(!Array.isArray(t.types))throw TypeError(".CollaborativeEditingConnectMessage.types: array expected");for(e.types=[],r=0;r<t.types.length;++r)e.types[r]=t.types[r]>>>0}return t.lastOperationId!=null&&(e.lastOperationId=String(t.lastOperationId)),e},o.toObject=function(t,e){e||(e={});var r={};if((e.arrays||e.defaults)&&(r.buffers=[],r.types=[]),e.defaults&&(r.id="",r.bundleVersion="",r.lastOperationId=""),t.id!=null&&t.hasOwnProperty("id")&&(r.id=t.id),t.bundleVersion!=null&&t.hasOwnProperty("bundleVersion")&&(r.bundleVersion=t.bundleVersion),t.buffers&&t.buffers.length){r.buffers=[];for(var d=0;d<t.buffers.length;++d)r.buffers[d]=e.bytes===String?s.base64.encode(t.buffers[d],0,t.buffers[d].length):e.bytes===Array?Array.prototype.slice.call(t.buffers[d]):t.buffers[d]}if(t.types&&t.types.length)for(r.types=[],d=0;d<t.types.length;++d)r.types[d]=t.types[d];return t.lastOperationId!=null&&t.hasOwnProperty("lastOperationId")&&(r.lastOperationId=t.lastOperationId),r},o.prototype.toJSON=function(){return this.constructor.toObject(this,_0x19253a.util.toJSONOptions)},o.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/CollaborativeEditingConnectMessage"},o})(),a.CollaborativeEditingReconnectMessage=(function(){function o(t){if(t)for(var e=Object.keys(t),r=0;r<e.length;++r)t[e[r]]!=null&&(this[e[r]]=t[e[r]])}return o.prototype.id="",o.prototype.bundleVersion="",o.prototype.lastKnowVersion=0,o.create=function(t){return new o(t)},o.encode=function(t,e){return e||(e=n.create()),t.id!=null&&Object.hasOwnProperty.call(t,"id")&&e.uint32(10).string(t.id),t.bundleVersion!=null&&Object.hasOwnProperty.call(t,"bundleVersion")&&e.uint32(18).string(t.bundleVersion),t.lastKnowVersion!=null&&Object.hasOwnProperty.call(t,"lastKnowVersion")&&e.uint32(24).uint32(t.lastKnowVersion),e},o.encodeDelimited=function(t,e){return this.encode(t,e).ldelim()},o.decode=function(t,e,r){t instanceof c||(t=c.create(t));for(var d=e===void 0?t.len:t.pos+e,u=new a.CollaborativeEditingReconnectMessage;t.pos<d;){var l=t.uint32();if(l===r)break;switch(l>>>3){case 1:u.id=t.string();break;case 2:u.bundleVersion=t.string();break;case 3:u.lastKnowVersion=t.uint32();break;default:t.skipType(7&l)}}return u},o.decodeDelimited=function(t){return t instanceof c||(t=new c(t)),this.decode(t,t.uint32())},o.verify=function(t){return typeof t!="object"||t===null?"object expected":t.id!=null&&t.hasOwnProperty("id")&&!s.isString(t.id)?"id: string expected":t.bundleVersion!=null&&t.hasOwnProperty("bundleVersion")&&!s.isString(t.bundleVersion)?"bundleVersion: string expected":t.lastKnowVersion!=null&&t.hasOwnProperty("lastKnowVersion")&&!s.isInteger(t.lastKnowVersion)?"lastKnowVersion: integer expected":null},o.fromObject=function(t){if(t instanceof a.CollaborativeEditingReconnectMessage)return t;var e=new a.CollaborativeEditingReconnectMessage;return t.id!=null&&(e.id=String(t.id)),t.bundleVersion!=null&&(e.bundleVersion=String(t.bundleVersion)),t.lastKnowVersion!=null&&(e.lastKnowVersion=t.lastKnowVersion>>>0),e},o.toObject=function(t,e){e||(e={});var r={};return e.defaults&&(r.id="",r.bundleVersion="",r.lastKnowVersion=0),t.id!=null&&t.hasOwnProperty("id")&&(r.id=t.id),t.bundleVersion!=null&&t.hasOwnProperty("bundleVersion")&&(r.bundleVersion=t.bundleVersion),t.lastKnowVersion!=null&&t.hasOwnProperty("lastKnowVersion")&&(r.lastKnowVersion=t.lastKnowVersion),r},o.prototype.toJSON=function(){return this.constructor.toObject(this,_0x19253a.util.toJSONOptions)},o.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/CollaborativeEditingReconnectMessage"},o})(),a.CollaborativeEditingUpdateMessage=(function(){function o(t){if(this.buffers=[],this.types=[],this.metadata=[],t)for(var e=Object.keys(t),r=0;r<e.length;++r)t[e[r]]!=null&&(this[e[r]]=t[e[r]])}return o.prototype.id="",o.prototype.baseVersion=0,o.prototype.buffers=s.emptyArray,o.prototype.types=s.emptyArray,o.prototype.metadata=s.emptyArray,o.prototype.lastOperationId="",o.create=function(t){return new o(t)},o.encode=function(t,e){if(e||(e=n.create()),t.id!=null&&Object.hasOwnProperty.call(t,"id")&&e.uint32(10).string(t.id),t.baseVersion!=null&&Object.hasOwnProperty.call(t,"baseVersion")&&e.uint32(16).uint32(t.baseVersion),t.buffers!=null&&t.buffers.length)for(var r=0;r<t.buffers.length;++r)e.uint32(26).bytes(t.buffers[r]);if(t.types!=null&&t.types.length){for(e.uint32(34).fork(),r=0;r<t.types.length;++r)e.uint32(t.types[r]);e.ldelim()}if(t.metadata!=null&&t.metadata.length)for(r=0;r<t.metadata.length;++r)a.OperationMetadataDescriptor.encode(t.metadata[r],e.uint32(50).fork()).ldelim();return t.lastOperationId!=null&&Object.hasOwnProperty.call(t,"lastOperationId")&&e.uint32(58).string(t.lastOperationId),e},o.encodeDelimited=function(t,e){return this.encode(t,e).ldelim()},o.decode=function(t,e,r){t instanceof c||(t=c.create(t));for(var d=e===void 0?t.len:t.pos+e,u=new a.CollaborativeEditingUpdateMessage;t.pos<d;){var l=t.uint32();if(l===r)break;switch(l>>>3){case 1:u.id=t.string();break;case 2:u.baseVersion=t.uint32();break;case 3:u.buffers&&u.buffers.length||(u.buffers=[]),u.buffers.push(t.bytes());break;case 4:if(u.types&&u.types.length||(u.types=[]),(7&l)==2)for(var m=t.uint32()+t.pos;t.pos<m;)u.types.push(t.uint32());else u.types.push(t.uint32());break;case 6:u.metadata&&u.metadata.length||(u.metadata=[]),u.metadata.push(a.OperationMetadataDescriptor.decode(t,t.uint32()));break;case 7:u.lastOperationId=t.string();break;default:t.skipType(7&l)}}return u},o.decodeDelimited=function(t){return t instanceof c||(t=new c(t)),this.decode(t,t.uint32())},o.verify=function(t){if(typeof t!="object"||t===null)return"object expected";if(t.id!=null&&t.hasOwnProperty("id")&&!s.isString(t.id))return"id: string expected";if(t.baseVersion!=null&&t.hasOwnProperty("baseVersion")&&!s.isInteger(t.baseVersion))return"baseVersion: integer expected";if(t.buffers!=null&&t.hasOwnProperty("buffers")){if(!Array.isArray(t.buffers))return"buffers: array expected";for(var e=0;e<t.buffers.length;++e)if(!(t.buffers[e]&&typeof t.buffers[e].length=="number"||s.isString(t.buffers[e])))return"buffers: buffer[] expected"}if(t.types!=null&&t.hasOwnProperty("types")){if(!Array.isArray(t.types))return"types: array expected";for(e=0;e<t.types.length;++e)if(!s.isInteger(t.types[e]))return"types: integer[] expected"}if(t.metadata!=null&&t.hasOwnProperty("metadata")){if(!Array.isArray(t.metadata))return"metadata: array expected";for(e=0;e<t.metadata.length;++e){var r=a.OperationMetadataDescriptor.verify(t.metadata[e]);if(r)return"metadata."+r}}return t.lastOperationId!=null&&t.hasOwnProperty("lastOperationId")&&!s.isString(t.lastOperationId)?"lastOperationId: string expected":null},o.fromObject=function(t){if(t instanceof a.CollaborativeEditingUpdateMessage)return t;var e=new a.CollaborativeEditingUpdateMessage;if(t.id!=null&&(e.id=String(t.id)),t.baseVersion!=null&&(e.baseVersion=t.baseVersion>>>0),t.buffers){if(!Array.isArray(t.buffers))throw TypeError(".CollaborativeEditingUpdateMessage.buffers: array expected");e.buffers=[];for(var r=0;r<t.buffers.length;++r)typeof t.buffers[r]=="string"?s.base64.decode(t.buffers[r],e.buffers[r]=s.newBuffer(s.base64.length(t.buffers[r])),0):t.buffers[r].length>=0&&(e.buffers[r]=t.buffers[r])}if(t.types){if(!Array.isArray(t.types))throw TypeError(".CollaborativeEditingUpdateMessage.types: array expected");for(e.types=[],r=0;r<t.types.length;++r)e.types[r]=t.types[r]>>>0}if(t.metadata){if(!Array.isArray(t.metadata))throw TypeError(".CollaborativeEditingUpdateMessage.metadata: array expected");for(e.metadata=[],r=0;r<t.metadata.length;++r){if(typeof t.metadata[r]!="object")throw TypeError(".CollaborativeEditingUpdateMessage.metadata: object expected");e.metadata[r]=a.OperationMetadataDescriptor.fromObject(t.metadata[r])}}return t.lastOperationId!=null&&(e.lastOperationId=String(t.lastOperationId)),e},o.toObject=function(t,e){e||(e={});var r={};if((e.arrays||e.defaults)&&(r.buffers=[],r.types=[],r.metadata=[]),e.defaults&&(r.id="",r.baseVersion=0,r.lastOperationId=""),t.id!=null&&t.hasOwnProperty("id")&&(r.id=t.id),t.baseVersion!=null&&t.hasOwnProperty("baseVersion")&&(r.baseVersion=t.baseVersion),t.buffers&&t.buffers.length){r.buffers=[];for(var d=0;d<t.buffers.length;++d)r.buffers[d]=e.bytes===String?s.base64.encode(t.buffers[d],0,t.buffers[d].length):e.bytes===Array?Array.prototype.slice.call(t.buffers[d]):t.buffers[d]}if(t.types&&t.types.length)for(r.types=[],d=0;d<t.types.length;++d)r.types[d]=t.types[d];if(t.metadata&&t.metadata.length)for(r.metadata=[],d=0;d<t.metadata.length;++d)r.metadata[d]=a.OperationMetadataDescriptor.toObject(t.metadata[d],e);return t.lastOperationId!=null&&t.hasOwnProperty("lastOperationId")&&(r.lastOperationId=t.lastOperationId),r},o.prototype.toJSON=function(){return this.constructor.toObject(this,_0x19253a.util.toJSONOptions)},o.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/CollaborativeEditingUpdateMessage"},o})(),a.GetDocumentDetailsMessage=(function(){function o(t){if(t)for(var e=Object.keys(t),r=0;r<e.length;++r)t[e[r]]!=null&&(this[e[r]]=t[e[r]])}return o.prototype.documentId="",o.prototype.environmentId="",o.create=function(t){return new o(t)},o.encode=function(t,e){return e||(e=n.create()),t.documentId!=null&&Object.hasOwnProperty.call(t,"documentId")&&e.uint32(10).string(t.documentId),t.environmentId!=null&&Object.hasOwnProperty.call(t,"environmentId")&&e.uint32(18).string(t.environmentId),e},o.encodeDelimited=function(t,e){return this.encode(t,e).ldelim()},o.decode=function(t,e,r){t instanceof c||(t=c.create(t));for(var d=e===void 0?t.len:t.pos+e,u=new a.GetDocumentDetailsMessage;t.pos<d;){var l=t.uint32();if(l===r)break;switch(l>>>3){case 1:u.documentId=t.string();break;case 2:u.environmentId=t.string();break;default:t.skipType(7&l)}}return u},o.decodeDelimited=function(t){return t instanceof c||(t=new c(t)),this.decode(t,t.uint32())},o.verify=function(t){return typeof t!="object"||t===null?"object expected":t.documentId!=null&&t.hasOwnProperty("documentId")&&!s.isString(t.documentId)?"documentId: string expected":t.environmentId!=null&&t.hasOwnProperty("environmentId")&&!s.isString(t.environmentId)?"environmentId: string expected":null},o.fromObject=function(t){if(t instanceof a.GetDocumentDetailsMessage)return t;var e=new a.GetDocumentDetailsMessage;return t.documentId!=null&&(e.documentId=String(t.documentId)),t.environmentId!=null&&(e.environmentId=String(t.environmentId)),e},o.toObject=function(t,e){e||(e={});var r={};return e.defaults&&(r.documentId="",r.environmentId=""),t.documentId!=null&&t.hasOwnProperty("documentId")&&(r.documentId=t.documentId),t.environmentId!=null&&t.hasOwnProperty("environmentId")&&(r.environmentId=t.environmentId),r},o.prototype.toJSON=function(){return this.constructor.toObject(this,_0x19253a.util.toJSONOptions)},o.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/GetDocumentDetailsMessage"},o})(),a.CollaborativeEditingConnectResponse=(function(){function o(t){if(this.buffers=[],this.types=[],this.metadata=[],t)for(var e=Object.keys(t),r=0;r<e.length;++r)t[e[r]]!=null&&(this[e[r]]=t[e[r]])}return o.prototype.channel="",o.prototype.offset=0,o.prototype.version=0,o.prototype.buffers=s.emptyArray,o.prototype.types=s.emptyArray,o.prototype.metadata=s.emptyArray,o.prototype.initData="",o.prototype.isInitialized=!1,o.prototype.sessionId="",o.prototype.lastOperationId="",o.prototype.sessionCreatedAt="",o.create=function(t){return new o(t)},o.encode=function(t,e){if(e||(e=n.create()),t.channel!=null&&Object.hasOwnProperty.call(t,"channel")&&e.uint32(10).string(t.channel),t.offset!=null&&Object.hasOwnProperty.call(t,"offset")&&e.uint32(16).uint32(t.offset),t.version!=null&&Object.hasOwnProperty.call(t,"version")&&e.uint32(24).uint32(t.version),t.buffers!=null&&t.buffers.length)for(var r=0;r<t.buffers.length;++r)e.uint32(34).bytes(t.buffers[r]);if(t.types!=null&&t.types.length){for(e.uint32(42).fork(),r=0;r<t.types.length;++r)e.uint32(t.types[r]);e.ldelim()}if(t.metadata!=null&&t.metadata.length)for(r=0;r<t.metadata.length;++r)a.OperationMetadataDescriptor.encode(t.metadata[r],e.uint32(58).fork()).ldelim();return t.initData!=null&&Object.hasOwnProperty.call(t,"initData")&&e.uint32(66).string(t.initData),t.isInitialized!=null&&Object.hasOwnProperty.call(t,"isInitialized")&&e.uint32(72).bool(t.isInitialized),t.sessionId!=null&&Object.hasOwnProperty.call(t,"sessionId")&&e.uint32(82).string(t.sessionId),t.lastOperationId!=null&&Object.hasOwnProperty.call(t,"lastOperationId")&&e.uint32(90).string(t.lastOperationId),t.sessionCreatedAt!=null&&Object.hasOwnProperty.call(t,"sessionCreatedAt")&&e.uint32(98).string(t.sessionCreatedAt),e},o.encodeDelimited=function(t,e){return this.encode(t,e).ldelim()},o.decode=function(t,e,r){t instanceof c||(t=c.create(t));for(var d=e===void 0?t.len:t.pos+e,u=new a.CollaborativeEditingConnectResponse;t.pos<d;){var l=t.uint32();if(l===r)break;switch(l>>>3){case 1:u.channel=t.string();break;case 2:u.offset=t.uint32();break;case 3:u.version=t.uint32();break;case 4:u.buffers&&u.buffers.length||(u.buffers=[]),u.buffers.push(t.bytes());break;case 5:if(u.types&&u.types.length||(u.types=[]),(7&l)==2)for(var m=t.uint32()+t.pos;t.pos<m;)u.types.push(t.uint32());else u.types.push(t.uint32());break;case 7:u.metadata&&u.metadata.length||(u.metadata=[]),u.metadata.push(a.OperationMetadataDescriptor.decode(t,t.uint32()));break;case 8:u.initData=t.string();break;case 9:u.isInitialized=t.bool();break;case 10:u.sessionId=t.string();break;case 11:u.lastOperationId=t.string();break;case 12:u.sessionCreatedAt=t.string();break;default:t.skipType(7&l)}}return u},o.decodeDelimited=function(t){return t instanceof c||(t=new c(t)),this.decode(t,t.uint32())},o.verify=function(t){if(typeof t!="object"||t===null)return"object expected";if(t.channel!=null&&t.hasOwnProperty("channel")&&!s.isString(t.channel))return"channel: string expected";if(t.offset!=null&&t.hasOwnProperty("offset")&&!s.isInteger(t.offset))return"offset: integer expected";if(t.version!=null&&t.hasOwnProperty("version")&&!s.isInteger(t.version))return"version: integer expected";if(t.buffers!=null&&t.hasOwnProperty("buffers")){if(!Array.isArray(t.buffers))return"buffers: array expected";for(var e=0;e<t.buffers.length;++e)if(!(t.buffers[e]&&typeof t.buffers[e].length=="number"||s.isString(t.buffers[e])))return"buffers: buffer[] expected"}if(t.types!=null&&t.hasOwnProperty("types")){if(!Array.isArray(t.types))return"types: array expected";for(e=0;e<t.types.length;++e)if(!s.isInteger(t.types[e]))return"types: integer[] expected"}if(t.metadata!=null&&t.hasOwnProperty("metadata")){if(!Array.isArray(t.metadata))return"metadata: array expected";for(e=0;e<t.metadata.length;++e){var r=a.OperationMetadataDescriptor.verify(t.metadata[e]);if(r)return"metadata."+r}}return t.initData!=null&&t.hasOwnProperty("initData")&&!s.isString(t.initData)?"initData: string expected":t.isInitialized!=null&&t.hasOwnProperty("isInitialized")&&typeof t.isInitialized!="boolean"?"isInitialized: boolean expected":t.sessionId!=null&&t.hasOwnProperty("sessionId")&&!s.isString(t.sessionId)?"sessionId: string expected":t.lastOperationId!=null&&t.hasOwnProperty("lastOperationId")&&!s.isString(t.lastOperationId)?"lastOperationId: string expected":t.sessionCreatedAt!=null&&t.hasOwnProperty("sessionCreatedAt")&&!s.isString(t.sessionCreatedAt)?"sessionCreatedAt: string expected":null},o.fromObject=function(t){if(t instanceof a.CollaborativeEditingConnectResponse)return t;var e=new a.CollaborativeEditingConnectResponse;if(t.channel!=null&&(e.channel=String(t.channel)),t.offset!=null&&(e.offset=t.offset>>>0),t.version!=null&&(e.version=t.version>>>0),t.buffers){if(!Array.isArray(t.buffers))throw TypeError(".CollaborativeEditingConnectResponse.buffers: array expected");e.buffers=[];for(var r=0;r<t.buffers.length;++r)typeof t.buffers[r]=="string"?s.base64.decode(t.buffers[r],e.buffers[r]=s.newBuffer(s.base64.length(t.buffers[r])),0):t.buffers[r].length>=0&&(e.buffers[r]=t.buffers[r])}if(t.types){if(!Array.isArray(t.types))throw TypeError(".CollaborativeEditingConnectResponse.types: array expected");for(e.types=[],r=0;r<t.types.length;++r)e.types[r]=t.types[r]>>>0}if(t.metadata){if(!Array.isArray(t.metadata))throw TypeError(".CollaborativeEditingConnectResponse.metadata: array expected");for(e.metadata=[],r=0;r<t.metadata.length;++r){if(typeof t.metadata[r]!="object")throw TypeError(".CollaborativeEditingConnectResponse.metadata: object expected");e.metadata[r]=a.OperationMetadataDescriptor.fromObject(t.metadata[r])}}return t.initData!=null&&(e.initData=String(t.initData)),t.isInitialized!=null&&(e.isInitialized=!!t.isInitialized),t.sessionId!=null&&(e.sessionId=String(t.sessionId)),t.lastOperationId!=null&&(e.lastOperationId=String(t.lastOperationId)),t.sessionCreatedAt!=null&&(e.sessionCreatedAt=String(t.sessionCreatedAt)),e},o.toObject=function(t,e){e||(e={});var r={};if((e.arrays||e.defaults)&&(r.buffers=[],r.types=[],r.metadata=[]),e.defaults&&(r.channel="",r.offset=0,r.version=0,r.initData="",r.isInitialized=!1,r.sessionId="",r.lastOperationId="",r.sessionCreatedAt=""),t.channel!=null&&t.hasOwnProperty("channel")&&(r.channel=t.channel),t.offset!=null&&t.hasOwnProperty("offset")&&(r.offset=t.offset),t.version!=null&&t.hasOwnProperty("version")&&(r.version=t.version),t.buffers&&t.buffers.length){r.buffers=[];for(var d=0;d<t.buffers.length;++d)r.buffers[d]=e.bytes===String?s.base64.encode(t.buffers[d],0,t.buffers[d].length):e.bytes===Array?Array.prototype.slice.call(t.buffers[d]):t.buffers[d]}if(t.types&&t.types.length)for(r.types=[],d=0;d<t.types.length;++d)r.types[d]=t.types[d];if(t.metadata&&t.metadata.length)for(r.metadata=[],d=0;d<t.metadata.length;++d)r.metadata[d]=a.OperationMetadataDescriptor.toObject(t.metadata[d],e);return t.initData!=null&&t.hasOwnProperty("initData")&&(r.initData=t.initData),t.isInitialized!=null&&t.hasOwnProperty("isInitialized")&&(r.isInitialized=t.isInitialized),t.sessionId!=null&&t.hasOwnProperty("sessionId")&&(r.sessionId=t.sessionId),t.lastOperationId!=null&&t.hasOwnProperty("lastOperationId")&&(r.lastOperationId=t.lastOperationId),t.sessionCreatedAt!=null&&t.hasOwnProperty("sessionCreatedAt")&&(r.sessionCreatedAt=t.sessionCreatedAt),r},o.prototype.toJSON=function(){return this.constructor.toObject(this,_0x19253a.util.toJSONOptions)},o.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/CollaborativeEditingConnectResponse"},o})(),a.CollaborativeEditingResponse=(function(){function o(t){if(this.buffers=[],this.types=[],this.metadata=[],t)for(var e=Object.keys(t),r=0;r<e.length;++r)t[e[r]]!=null&&(this[e[r]]=t[e[r]])}return o.prototype.version=0,o.prototype.buffers=s.emptyArray,o.prototype.types=s.emptyArray,o.prototype.metadata=s.emptyArray,o.prototype.lastOperationId="",o.prototype.lastOperationAcceptedAt="",o.create=function(t){return new o(t)},o.encode=function(t,e){if(e||(e=n.create()),t.version!=null&&Object.hasOwnProperty.call(t,"version")&&e.uint32(8).uint32(t.version),t.buffers!=null&&t.buffers.length)for(var r=0;r<t.buffers.length;++r)e.uint32(18).bytes(t.buffers[r]);if(t.types!=null&&t.types.length){for(e.uint32(26).fork(),r=0;r<t.types.length;++r)e.uint32(t.types[r]);e.ldelim()}if(t.metadata!=null&&t.metadata.length)for(r=0;r<t.metadata.length;++r)a.OperationMetadataDescriptor.encode(t.metadata[r],e.uint32(42).fork()).ldelim();return t.lastOperationId!=null&&Object.hasOwnProperty.call(t,"lastOperationId")&&e.uint32(50).string(t.lastOperationId),t.lastOperationAcceptedAt!=null&&Object.hasOwnProperty.call(t,"lastOperationAcceptedAt")&&e.uint32(58).string(t.lastOperationAcceptedAt),e},o.encodeDelimited=function(t,e){return this.encode(t,e).ldelim()},o.decode=function(t,e,r){t instanceof c||(t=c.create(t));for(var d=e===void 0?t.len:t.pos+e,u=new a.CollaborativeEditingResponse;t.pos<d;){var l=t.uint32();if(l===r)break;switch(l>>>3){case 1:u.version=t.uint32();break;case 2:u.buffers&&u.buffers.length||(u.buffers=[]),u.buffers.push(t.bytes());break;case 3:if(u.types&&u.types.length||(u.types=[]),(7&l)==2)for(var m=t.uint32()+t.pos;t.pos<m;)u.types.push(t.uint32());else u.types.push(t.uint32());break;case 5:u.metadata&&u.metadata.length||(u.metadata=[]),u.metadata.push(a.OperationMetadataDescriptor.decode(t,t.uint32()));break;case 6:u.lastOperationId=t.string();break;case 7:u.lastOperationAcceptedAt=t.string();break;default:t.skipType(7&l)}}return u},o.decodeDelimited=function(t){return t instanceof c||(t=new c(t)),this.decode(t,t.uint32())},o.verify=function(t){if(typeof t!="object"||t===null)return"object expected";if(t.version!=null&&t.hasOwnProperty("version")&&!s.isInteger(t.version))return"version: integer expected";if(t.buffers!=null&&t.hasOwnProperty("buffers")){if(!Array.isArray(t.buffers))return"buffers: array expected";for(var e=0;e<t.buffers.length;++e)if(!(t.buffers[e]&&typeof t.buffers[e].length=="number"||s.isString(t.buffers[e])))return"buffers: buffer[] expected"}if(t.types!=null&&t.hasOwnProperty("types")){if(!Array.isArray(t.types))return"types: array expected";for(e=0;e<t.types.length;++e)if(!s.isInteger(t.types[e]))return"types: integer[] expected"}if(t.metadata!=null&&t.hasOwnProperty("metadata")){if(!Array.isArray(t.metadata))return"metadata: array expected";for(e=0;e<t.metadata.length;++e){var r=a.OperationMetadataDescriptor.verify(t.metadata[e]);if(r)return"metadata."+r}}return t.lastOperationId!=null&&t.hasOwnProperty("lastOperationId")&&!s.isString(t.lastOperationId)?"lastOperationId: string expected":t.lastOperationAcceptedAt!=null&&t.hasOwnProperty("lastOperationAcceptedAt")&&!s.isString(t.lastOperationAcceptedAt)?"lastOperationAcceptedAt: string expected":null},o.fromObject=function(t){if(t instanceof a.CollaborativeEditingResponse)return t;var e=new a.CollaborativeEditingResponse;if(t.version!=null&&(e.version=t.version>>>0),t.buffers){if(!Array.isArray(t.buffers))throw TypeError(".CollaborativeEditingResponse.buffers: array expected");e.buffers=[];for(var r=0;r<t.buffers.length;++r)typeof t.buffers[r]=="string"?s.base64.decode(t.buffers[r],e.buffers[r]=s.newBuffer(s.base64.length(t.buffers[r])),0):t.buffers[r].length>=0&&(e.buffers[r]=t.buffers[r])}if(t.types){if(!Array.isArray(t.types))throw TypeError(".CollaborativeEditingResponse.types: array expected");for(e.types=[],r=0;r<t.types.length;++r)e.types[r]=t.types[r]>>>0}if(t.metadata){if(!Array.isArray(t.metadata))throw TypeError(".CollaborativeEditingResponse.metadata: array expected");for(e.metadata=[],r=0;r<t.metadata.length;++r){if(typeof t.metadata[r]!="object")throw TypeError(".CollaborativeEditingResponse.metadata: object expected");e.metadata[r]=a.OperationMetadataDescriptor.fromObject(t.metadata[r])}}return t.lastOperationId!=null&&(e.lastOperationId=String(t.lastOperationId)),t.lastOperationAcceptedAt!=null&&(e.lastOperationAcceptedAt=String(t.lastOperationAcceptedAt)),e},o.toObject=function(t,e){e||(e={});var r={};if((e.arrays||e.defaults)&&(r.buffers=[],r.types=[],r.metadata=[]),e.defaults&&(r.version=0,r.lastOperationId="",r.lastOperationAcceptedAt=""),t.version!=null&&t.hasOwnProperty("version")&&(r.version=t.version),t.buffers&&t.buffers.length){r.buffers=[];for(var d=0;d<t.buffers.length;++d)r.buffers[d]=e.bytes===String?s.base64.encode(t.buffers[d],0,t.buffers[d].length):e.bytes===Array?Array.prototype.slice.call(t.buffers[d]):t.buffers[d]}if(t.types&&t.types.length)for(r.types=[],d=0;d<t.types.length;++d)r.types[d]=t.types[d];if(t.metadata&&t.metadata.length)for(r.metadata=[],d=0;d<t.metadata.length;++d)r.metadata[d]=a.OperationMetadataDescriptor.toObject(t.metadata[d],e);return t.lastOperationId!=null&&t.hasOwnProperty("lastOperationId")&&(r.lastOperationId=t.lastOperationId),t.lastOperationAcceptedAt!=null&&t.hasOwnProperty("lastOperationAcceptedAt")&&(r.lastOperationAcceptedAt=t.lastOperationAcceptedAt),r},o.prototype.toJSON=function(){return this.constructor.toObject(this,_0x19253a.util.toJSONOptions)},o.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/CollaborativeEditingResponse"},o})(),a.GetDocumentDetailsResponse=(function(){function o(t){if(t)for(var e=Object.keys(t),r=0;r<e.length;++r)t[e[r]]!=null&&(this[e[r]]=t[e[r]])}return o.prototype.lastDocumentSessionId="",o.prototype.lastDocumentSessionOperationId="",o.prototype.currentDocumentSessionId="",o.prototype.currentDocumentSessionVersion=0,o.prototype.currentDocumentSessionOperationId="",o.create=function(t){return new o(t)},o.encode=function(t,e){return e||(e=n.create()),t.lastDocumentSessionId!=null&&Object.hasOwnProperty.call(t,"lastDocumentSessionId")&&e.uint32(10).string(t.lastDocumentSessionId),t.lastDocumentSessionOperationId!=null&&Object.hasOwnProperty.call(t,"lastDocumentSessionOperationId")&&e.uint32(18).string(t.lastDocumentSessionOperationId),t.currentDocumentSessionId!=null&&Object.hasOwnProperty.call(t,"currentDocumentSessionId")&&e.uint32(26).string(t.currentDocumentSessionId),t.currentDocumentSessionVersion!=null&&Object.hasOwnProperty.call(t,"currentDocumentSessionVersion")&&e.uint32(32).uint32(t.currentDocumentSessionVersion),t.currentDocumentSessionOperationId!=null&&Object.hasOwnProperty.call(t,"currentDocumentSessionOperationId")&&e.uint32(42).string(t.currentDocumentSessionOperationId),e},o.encodeDelimited=function(t,e){return this.encode(t,e).ldelim()},o.decode=function(t,e,r){t instanceof c||(t=c.create(t));for(var d=e===void 0?t.len:t.pos+e,u=new a.GetDocumentDetailsResponse;t.pos<d;){var l=t.uint32();if(l===r)break;switch(l>>>3){case 1:u.lastDocumentSessionId=t.string();break;case 2:u.lastDocumentSessionOperationId=t.string();break;case 3:u.currentDocumentSessionId=t.string();break;case 4:u.currentDocumentSessionVersion=t.uint32();break;case 5:u.currentDocumentSessionOperationId=t.string();break;default:t.skipType(7&l)}}return u},o.decodeDelimited=function(t){return t instanceof c||(t=new c(t)),this.decode(t,t.uint32())},o.verify=function(t){return typeof t!="object"||t===null?"object expected":t.lastDocumentSessionId!=null&&t.hasOwnProperty("lastDocumentSessionId")&&!s.isString(t.lastDocumentSessionId)?"lastDocumentSessionId: string expected":t.lastDocumentSessionOperationId!=null&&t.hasOwnProperty("lastDocumentSessionOperationId")&&!s.isString(t.lastDocumentSessionOperationId)?"lastDocumentSessionOperationId: string expected":t.currentDocumentSessionId!=null&&t.hasOwnProperty("currentDocumentSessionId")&&!s.isString(t.currentDocumentSessionId)?"currentDocumentSessionId: string expected":t.currentDocumentSessionVersion!=null&&t.hasOwnProperty("currentDocumentSessionVersion")&&!s.isInteger(t.currentDocumentSessionVersion)?"currentDocumentSessionVersion: integer expected":t.currentDocumentSessionOperationId!=null&&t.hasOwnProperty("currentDocumentSessionOperationId")&&!s.isString(t.currentDocumentSessionOperationId)?"currentDocumentSessionOperationId: string expected":null},o.fromObject=function(t){if(t instanceof a.GetDocumentDetailsResponse)return t;var e=new a.GetDocumentDetailsResponse;return t.lastDocumentSessionId!=null&&(e.lastDocumentSessionId=String(t.lastDocumentSessionId)),t.lastDocumentSessionOperationId!=null&&(e.lastDocumentSessionOperationId=String(t.lastDocumentSessionOperationId)),t.currentDocumentSessionId!=null&&(e.currentDocumentSessionId=String(t.currentDocumentSessionId)),t.currentDocumentSessionVersion!=null&&(e.currentDocumentSessionVersion=t.currentDocumentSessionVersion>>>0),t.currentDocumentSessionOperationId!=null&&(e.currentDocumentSessionOperationId=String(t.currentDocumentSessionOperationId)),e},o.toObject=function(t,e){e||(e={});var r={};return e.defaults&&(r.lastDocumentSessionId="",r.lastDocumentSessionOperationId="",r.currentDocumentSessionId="",r.currentDocumentSessionVersion=0,r.currentDocumentSessionOperationId=""),t.lastDocumentSessionId!=null&&t.hasOwnProperty("lastDocumentSessionId")&&(r.lastDocumentSessionId=t.lastDocumentSessionId),t.lastDocumentSessionOperationId!=null&&t.hasOwnProperty("lastDocumentSessionOperationId")&&(r.lastDocumentSessionOperationId=t.lastDocumentSessionOperationId),t.currentDocumentSessionId!=null&&t.hasOwnProperty("currentDocumentSessionId")&&(r.currentDocumentSessionId=t.currentDocumentSessionId),t.currentDocumentSessionVersion!=null&&t.hasOwnProperty("currentDocumentSessionVersion")&&(r.currentDocumentSessionVersion=t.currentDocumentSessionVersion),t.currentDocumentSessionOperationId!=null&&t.hasOwnProperty("currentDocumentSessionOperationId")&&(r.currentDocumentSessionOperationId=t.currentDocumentSessionOperationId),r},o.prototype.toJSON=function(){return this.constructor.toObject(this,_0x19253a.util.toJSONOptions)},o.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/GetDocumentDetailsResponse"},o})(),a.CommentDescriptor=(function(){function o(t){if(t)for(var e=Object.keys(t),r=0;r<e.length;++r)t[e[r]]!=null&&(this[e[r]]=t[e[r]])}return o.prototype.commentId="",o.prototype.commentThreadId="",o.prototype.userId="",o.prototype.content="",o.prototype.documentId="",o.prototype.createdAt="",o.prototype.attributes="",o.create=function(t){return new o(t)},o.encode=function(t,e){return e||(e=n.create()),t.commentId!=null&&Object.hasOwnProperty.call(t,"commentId")&&e.uint32(10).string(t.commentId),t.commentThreadId!=null&&Object.hasOwnProperty.call(t,"commentThreadId")&&e.uint32(18).string(t.commentThreadId),t.userId!=null&&Object.hasOwnProperty.call(t,"userId")&&e.uint32(26).string(t.userId),t.content!=null&&Object.hasOwnProperty.call(t,"content")&&e.uint32(34).string(t.content),t.documentId!=null&&Object.hasOwnProperty.call(t,"documentId")&&e.uint32(42).string(t.documentId),t.createdAt!=null&&Object.hasOwnProperty.call(t,"createdAt")&&e.uint32(50).string(t.createdAt),t.attributes!=null&&Object.hasOwnProperty.call(t,"attributes")&&e.uint32(58).string(t.attributes),e},o.encodeDelimited=function(t,e){return this.encode(t,e).ldelim()},o.decode=function(t,e,r){t instanceof c||(t=c.create(t));for(var d=e===void 0?t.len:t.pos+e,u=new a.CommentDescriptor;t.pos<d;){var l=t.uint32();if(l===r)break;switch(l>>>3){case 1:u.commentId=t.string();break;case 2:u.commentThreadId=t.string();break;case 3:u.userId=t.string();break;case 4:u.content=t.string();break;case 5:u.documentId=t.string();break;case 6:u.createdAt=t.string();break;case 7:u.attributes=t.string();break;default:t.skipType(7&l)}}return u},o.decodeDelimited=function(t){return t instanceof c||(t=new c(t)),this.decode(t,t.uint32())},o.verify=function(t){return typeof t!="object"||t===null?"object expected":t.commentId!=null&&t.hasOwnProperty("commentId")&&!s.isString(t.commentId)?"commentId: string expected":t.commentThreadId!=null&&t.hasOwnProperty("commentThreadId")&&!s.isString(t.commentThreadId)?"commentThreadId: string expected":t.userId!=null&&t.hasOwnProperty("userId")&&!s.isString(t.userId)?"userId: string expected":t.content!=null&&t.hasOwnProperty("content")&&!s.isString(t.content)?"content: string expected":t.documentId!=null&&t.hasOwnProperty("documentId")&&!s.isString(t.documentId)?"documentId: string expected":t.createdAt!=null&&t.hasOwnProperty("createdAt")&&!s.isString(t.createdAt)?"createdAt: string expected":t.attributes!=null&&t.hasOwnProperty("attributes")&&!s.isString(t.attributes)?"attributes: string expected":null},o.fromObject=function(t){if(t instanceof a.CommentDescriptor)return t;var e=new a.CommentDescriptor;return t.commentId!=null&&(e.commentId=String(t.commentId)),t.commentThreadId!=null&&(e.commentThreadId=String(t.commentThreadId)),t.userId!=null&&(e.userId=String(t.userId)),t.content!=null&&(e.content=String(t.content)),t.documentId!=null&&(e.documentId=String(t.documentId)),t.createdAt!=null&&(e.createdAt=String(t.createdAt)),t.attributes!=null&&(e.attributes=String(t.attributes)),e},o.toObject=function(t,e){e||(e={});var r={};return e.defaults&&(r.commentId="",r.commentThreadId="",r.userId="",r.content="",r.documentId="",r.createdAt="",r.attributes=""),t.commentId!=null&&t.hasOwnProperty("commentId")&&(r.commentId=t.commentId),t.commentThreadId!=null&&t.hasOwnProperty("commentThreadId")&&(r.commentThreadId=t.commentThreadId),t.userId!=null&&t.hasOwnProperty("userId")&&(r.userId=t.userId),t.content!=null&&t.hasOwnProperty("content")&&(r.content=t.content),t.documentId!=null&&t.hasOwnProperty("documentId")&&(r.documentId=t.documentId),t.createdAt!=null&&t.hasOwnProperty("createdAt")&&(r.createdAt=t.createdAt),t.attributes!=null&&t.hasOwnProperty("attributes")&&(r.attributes=t.attributes),r},o.prototype.toJSON=function(){return this.constructor.toObject(this,_0x19253a.util.toJSONOptions)},o.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/CommentDescriptor"},o})(),a.CommentsThreadDescriptor=(function(){function o(t){if(this.comments=[],t)for(var e=Object.keys(t),r=0;r<e.length;++r)t[e[r]]!=null&&(this[e[r]]=t[e[r]])}return o.prototype.commentThreadId="",o.prototype.comments=s.emptyArray,o.prototype.resolvedAt="",o.prototype.resolvedBy="",o.prototype.context="",o.prototype.createdAt="",o.prototype.deletedAt="",o.prototype.attributes="",o.prototype.unlinkedAt="",o.create=function(t){return new o(t)},o.encode=function(t,e){if(e||(e=n.create()),t.commentThreadId!=null&&Object.hasOwnProperty.call(t,"commentThreadId")&&e.uint32(10).string(t.commentThreadId),t.comments!=null&&t.comments.length)for(var r=0;r<t.comments.length;++r)a.CommentDescriptor.encode(t.comments[r],e.uint32(18).fork()).ldelim();return t.resolvedAt!=null&&Object.hasOwnProperty.call(t,"resolvedAt")&&e.uint32(26).string(t.resolvedAt),t.resolvedBy!=null&&Object.hasOwnProperty.call(t,"resolvedBy")&&e.uint32(34).string(t.resolvedBy),t.context!=null&&Object.hasOwnProperty.call(t,"context")&&e.uint32(42).string(t.context),t.createdAt!=null&&Object.hasOwnProperty.call(t,"createdAt")&&e.uint32(50).string(t.createdAt),t.deletedAt!=null&&Object.hasOwnProperty.call(t,"deletedAt")&&e.uint32(58).string(t.deletedAt),t.attributes!=null&&Object.hasOwnProperty.call(t,"attributes")&&e.uint32(66).string(t.attributes),t.unlinkedAt!=null&&Object.hasOwnProperty.call(t,"unlinkedAt")&&e.uint32(74).string(t.unlinkedAt),e},o.encodeDelimited=function(t,e){return this.encode(t,e).ldelim()},o.decode=function(t,e,r){t instanceof c||(t=c.create(t));for(var d=e===void 0?t.len:t.pos+e,u=new a.CommentsThreadDescriptor;t.pos<d;){var l=t.uint32();if(l===r)break;switch(l>>>3){case 1:u.commentThreadId=t.string();break;case 2:u.comments&&u.comments.length||(u.comments=[]),u.comments.push(a.CommentDescriptor.decode(t,t.uint32()));break;case 3:u.resolvedAt=t.string();break;case 4:u.resolvedBy=t.string();break;case 5:u.context=t.string();break;case 6:u.createdAt=t.string();break;case 7:u.deletedAt=t.string();break;case 8:u.attributes=t.string();break;case 9:u.unlinkedAt=t.string();break;default:t.skipType(7&l)}}return u},o.decodeDelimited=function(t){return t instanceof c||(t=new c(t)),this.decode(t,t.uint32())},o.verify=function(t){if(typeof t!="object"||t===null)return"object expected";if(t.commentThreadId!=null&&t.hasOwnProperty("commentThreadId")&&!s.isString(t.commentThreadId))return"commentThreadId: string expected";if(t.comments!=null&&t.hasOwnProperty("comments")){if(!Array.isArray(t.comments))return"comments: array expected";for(var e=0;e<t.comments.length;++e){var r=a.CommentDescriptor.verify(t.comments[e]);if(r)return"comments."+r}}return t.resolvedAt!=null&&t.hasOwnProperty("resolvedAt")&&!s.isString(t.resolvedAt)?"resolvedAt: string expected":t.resolvedBy!=null&&t.hasOwnProperty("resolvedBy")&&!s.isString(t.resolvedBy)?"resolvedBy: string expected":t.context!=null&&t.hasOwnProperty("context")&&!s.isString(t.context)?"context: string expected":t.createdAt!=null&&t.hasOwnProperty("createdAt")&&!s.isString(t.createdAt)?"createdAt: string expected":t.deletedAt!=null&&t.hasOwnProperty("deletedAt")&&!s.isString(t.deletedAt)?"deletedAt: string expected":t.attributes!=null&&t.hasOwnProperty("attributes")&&!s.isString(t.attributes)?"attributes: string expected":t.unlinkedAt!=null&&t.hasOwnProperty("unlinkedAt")&&!s.isString(t.unlinkedAt)?"unlinkedAt: string expected":null},o.fromObject=function(t){if(t instanceof a.CommentsThreadDescriptor)return t;var e=new a.CommentsThreadDescriptor;if(t.commentThreadId!=null&&(e.commentThreadId=String(t.commentThreadId)),t.comments){if(!Array.isArray(t.comments))throw TypeError(".CommentsThreadDescriptor.comments: array expected");e.comments=[];for(var r=0;r<t.comments.length;++r){if(typeof t.comments[r]!="object")throw TypeError(".CommentsThreadDescriptor.comments: object expected");e.comments[r]=a.CommentDescriptor.fromObject(t.comments[r])}}return t.resolvedAt!=null&&(e.resolvedAt=String(t.resolvedAt)),t.resolvedBy!=null&&(e.resolvedBy=String(t.resolvedBy)),t.context!=null&&(e.context=String(t.context)),t.createdAt!=null&&(e.createdAt=String(t.createdAt)),t.deletedAt!=null&&(e.deletedAt=String(t.deletedAt)),t.attributes!=null&&(e.attributes=String(t.attributes)),t.unlinkedAt!=null&&(e.unlinkedAt=String(t.unlinkedAt)),e},o.toObject=function(t,e){e||(e={});var r={};if((e.arrays||e.defaults)&&(r.comments=[]),e.defaults&&(r.commentThreadId="",r.resolvedAt="",r.resolvedBy="",r.context="",r.createdAt="",r.deletedAt="",r.attributes="",r.unlinkedAt=""),t.commentThreadId!=null&&t.hasOwnProperty("commentThreadId")&&(r.commentThreadId=t.commentThreadId),t.comments&&t.comments.length){r.comments=[];for(var d=0;d<t.comments.length;++d)r.comments[d]=a.CommentDescriptor.toObject(t.comments[d],e)}return t.resolvedAt!=null&&t.hasOwnProperty("resolvedAt")&&(r.resolvedAt=t.resolvedAt),t.resolvedBy!=null&&t.hasOwnProperty("resolvedBy")&&(r.resolvedBy=t.resolvedBy),t.context!=null&&t.hasOwnProperty("context")&&(r.context=t.context),t.createdAt!=null&&t.hasOwnProperty("createdAt")&&(r.createdAt=t.createdAt),t.deletedAt!=null&&t.hasOwnProperty("deletedAt")&&(r.deletedAt=t.deletedAt),t.attributes!=null&&t.hasOwnProperty("attributes")&&(r.attributes=t.attributes),t.unlinkedAt!=null&&t.hasOwnProperty("unlinkedAt")&&(r.unlinkedAt=t.unlinkedAt),r},o.prototype.toJSON=function(){return this.constructor.toObject(this,_0x19253a.util.toJSONOptions)},o.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/CommentsThreadDescriptor"},o})(),a.CommentThreadAddedCommentDescriptor=(function(){function o(t){if(t)for(var e=Object.keys(t),r=0;r<e.length;++r)t[e[r]]!=null&&(this[e[r]]=t[e[r]])}return o.prototype.commentId="",o.prototype.createdAt="",o.create=function(t){return new o(t)},o.encode=function(t,e){return e||(e=n.create()),t.commentId!=null&&Object.hasOwnProperty.call(t,"commentId")&&e.uint32(10).string(t.commentId),t.createdAt!=null&&Object.hasOwnProperty.call(t,"createdAt")&&e.uint32(18).string(t.createdAt),e},o.encodeDelimited=function(t,e){return this.encode(t,e).ldelim()},o.decode=function(t,e,r){t instanceof c||(t=c.create(t));for(var d=e===void 0?t.len:t.pos+e,u=new a.CommentThreadAddedCommentDescriptor;t.pos<d;){var l=t.uint32();if(l===r)break;switch(l>>>3){case 1:u.commentId=t.string();break;case 2:u.createdAt=t.string();break;default:t.skipType(7&l)}}return u},o.decodeDelimited=function(t){return t instanceof c||(t=new c(t)),this.decode(t,t.uint32())},o.verify=function(t){return typeof t!="object"||t===null?"object expected":t.commentId!=null&&t.hasOwnProperty("commentId")&&!s.isString(t.commentId)?"commentId: string expected":t.createdAt!=null&&t.hasOwnProperty("createdAt")&&!s.isString(t.createdAt)?"createdAt: string expected":null},o.fromObject=function(t){if(t instanceof a.CommentThreadAddedCommentDescriptor)return t;var e=new a.CommentThreadAddedCommentDescriptor;return t.commentId!=null&&(e.commentId=String(t.commentId)),t.createdAt!=null&&(e.createdAt=String(t.createdAt)),e},o.toObject=function(t,e){e||(e={});var r={};return e.defaults&&(r.commentId="",r.createdAt=""),t.commentId!=null&&t.hasOwnProperty("commentId")&&(r.commentId=t.commentId),t.createdAt!=null&&t.hasOwnProperty("createdAt")&&(r.createdAt=t.createdAt),r},o.prototype.toJSON=function(){return this.constructor.toObject(this,_0x19253a.util.toJSONOptions)},o.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/CommentThreadAddedCommentDescriptor"},o})(),a.CommentsV2AddCommentMessage=(function(){function o(t){if(t)for(var e=Object.keys(t),r=0;r<e.length;++r)t[e[r]]!=null&&(this[e[r]]=t[e[r]])}return o.prototype.commentThreadId="",o.prototype.content="",o.prototype.documentId="",o.prototype.commentId="",o.prototype.createdAt="",o.prototype.userId="",o.prototype.attributes="",o.prototype.commentThread=null,o.create=function(t){return new o(t)},o.encode=function(t,e){return e||(e=n.create()),t.commentThreadId!=null&&Object.hasOwnProperty.call(t,"commentThreadId")&&e.uint32(10).string(t.commentThreadId),t.content!=null&&Object.hasOwnProperty.call(t,"content")&&e.uint32(18).string(t.content),t.documentId!=null&&Object.hasOwnProperty.call(t,"documentId")&&e.uint32(26).string(t.documentId),t.commentId!=null&&Object.hasOwnProperty.call(t,"commentId")&&e.uint32(34).string(t.commentId),t.createdAt!=null&&Object.hasOwnProperty.call(t,"createdAt")&&e.uint32(42).string(t.createdAt),t.userId!=null&&Object.hasOwnProperty.call(t,"userId")&&e.uint32(50).string(t.userId),t.attributes!=null&&Object.hasOwnProperty.call(t,"attributes")&&e.uint32(58).string(t.attributes),t.commentThread!=null&&Object.hasOwnProperty.call(t,"commentThread")&&a.CommentsThreadDescriptor.encode(t.commentThread,e.uint32(66).fork()).ldelim(),e},o.encodeDelimited=function(t,e){return this.encode(t,e).ldelim()},o.decode=function(t,e,r){t instanceof c||(t=c.create(t));for(var d=e===void 0?t.len:t.pos+e,u=new a.CommentsV2AddCommentMessage;t.pos<d;){var l=t.uint32();if(l===r)break;switch(l>>>3){case 1:u.commentThreadId=t.string();break;case 2:u.content=t.string();break;case 3:u.documentId=t.string();break;case 4:u.commentId=t.string();break;case 5:u.createdAt=t.string();break;case 6:u.userId=t.string();break;case 7:u.attributes=t.string();break;case 8:u.commentThread=a.CommentsThreadDescriptor.decode(t,t.uint32());break;default:t.skipType(7&l)}}return u},o.decodeDelimited=function(t){return t instanceof c||(t=new c(t)),this.decode(t,t.uint32())},o.verify=function(t){if(typeof t!="object"||t===null)return"object expected";if(t.commentThreadId!=null&&t.hasOwnProperty("commentThreadId")&&!s.isString(t.commentThreadId))return"commentThreadId: string expected";if(t.content!=null&&t.hasOwnProperty("content")&&!s.isString(t.content))return"content: string expected";if(t.documentId!=null&&t.hasOwnProperty("documentId")&&!s.isString(t.documentId))return"documentId: string expected";if(t.commentId!=null&&t.hasOwnProperty("commentId")&&!s.isString(t.commentId))return"commentId: string expected";if(t.createdAt!=null&&t.hasOwnProperty("createdAt")&&!s.isString(t.createdAt))return"createdAt: string expected";if(t.userId!=null&&t.hasOwnProperty("userId")&&!s.isString(t.userId))return"userId: string expected";if(t.attributes!=null&&t.hasOwnProperty("attributes")&&!s.isString(t.attributes))return"attributes: string expected";if(t.commentThread!=null&&t.hasOwnProperty("commentThread")){var e=a.CommentsThreadDescriptor.verify(t.commentThread);if(e)return"commentThread."+e}return null},o.fromObject=function(t){if(t instanceof a.CommentsV2AddCommentMessage)return t;var e=new a.CommentsV2AddCommentMessage;if(t.commentThreadId!=null&&(e.commentThreadId=String(t.commentThreadId)),t.content!=null&&(e.content=String(t.content)),t.documentId!=null&&(e.documentId=String(t.documentId)),t.commentId!=null&&(e.commentId=String(t.commentId)),t.createdAt!=null&&(e.createdAt=String(t.createdAt)),t.userId!=null&&(e.userId=String(t.userId)),t.attributes!=null&&(e.attributes=String(t.attributes)),t.commentThread!=null){if(typeof t.commentThread!="object")throw TypeError(".CommentsV2AddCommentMessage.commentThread: object expected");e.commentThread=a.CommentsThreadDescriptor.fromObject(t.commentThread)}return e},o.toObject=function(t,e){e||(e={});var r={};return e.defaults&&(r.commentThreadId="",r.content="",r.documentId="",r.commentId="",r.createdAt="",r.userId="",r.attributes="",r.commentThread=null),t.commentThreadId!=null&&t.hasOwnProperty("commentThreadId")&&(r.commentThreadId=t.commentThreadId),t.content!=null&&t.hasOwnProperty("content")&&(r.content=t.content),t.documentId!=null&&t.hasOwnProperty("documentId")&&(r.documentId=t.documentId),t.commentId!=null&&t.hasOwnProperty("commentId")&&(r.commentId=t.commentId),t.createdAt!=null&&t.hasOwnProperty("createdAt")&&(r.createdAt=t.createdAt),t.userId!=null&&t.hasOwnProperty("userId")&&(r.userId=t.userId),t.attributes!=null&&t.hasOwnProperty("attributes")&&(r.attributes=t.attributes),t.commentThread!=null&&t.hasOwnProperty("commentThread")&&(r.commentThread=a.CommentsThreadDescriptor.toObject(t.commentThread,e)),r},o.prototype.toJSON=function(){return this.constructor.toObject(this,_0x19253a.util.toJSONOptions)},o.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/CommentsV2AddCommentMessage"},o})(),a.CommentsV2AddCommentThreadMessage=(function(){function o(t){if(this.comments=[],t)for(var e=Object.keys(t),r=0;r<e.length;++r)t[e[r]]!=null&&(this[e[r]]=t[e[r]])}return o.prototype.documentId="",o.prototype.commentThreadId="",o.prototype.context="",o.prototype.createdAt="",o.prototype.resolvedAt="",o.prototype.resolvedBy="",o.prototype.attributes="",o.prototype.deletedAt="",o.prototype.comments=s.emptyArray,o.create=function(t){return new o(t)},o.encode=function(t,e){if(e||(e=n.create()),t.documentId!=null&&Object.hasOwnProperty.call(t,"documentId")&&e.uint32(10).string(t.documentId),t.commentThreadId!=null&&Object.hasOwnProperty.call(t,"commentThreadId")&&e.uint32(18).string(t.commentThreadId),t.context!=null&&Object.hasOwnProperty.call(t,"context")&&e.uint32(26).string(t.context),t.createdAt!=null&&Object.hasOwnProperty.call(t,"createdAt")&&e.uint32(34).string(t.createdAt),t.resolvedAt!=null&&Object.hasOwnProperty.call(t,"resolvedAt")&&e.uint32(42).string(t.resolvedAt),t.resolvedBy!=null&&Object.hasOwnProperty.call(t,"resolvedBy")&&e.uint32(50).string(t.resolvedBy),t.attributes!=null&&Object.hasOwnProperty.call(t,"attributes")&&e.uint32(58).string(t.attributes),t.deletedAt!=null&&Object.hasOwnProperty.call(t,"deletedAt")&&e.uint32(66).string(t.deletedAt),t.comments!=null&&t.comments.length)for(var r=0;r<t.comments.length;++r)a.CommentDescriptor.encode(t.comments[r],e.uint32(74).fork()).ldelim();return e},o.encodeDelimited=function(t,e){return this.encode(t,e).ldelim()},o.decode=function(t,e,r){t instanceof c||(t=c.create(t));for(var d=e===void 0?t.len:t.pos+e,u=new a.CommentsV2AddCommentThreadMessage;t.pos<d;){var l=t.uint32();if(l===r)break;switch(l>>>3){case 1:u.documentId=t.string();break;case 2:u.commentThreadId=t.string();break;case 3:u.context=t.string();break;case 4:u.createdAt=t.string();break;case 5:u.resolvedAt=t.string();break;case 6:u.resolvedBy=t.string();break;case 7:u.attributes=t.string();break;case 8:u.deletedAt=t.string();break;case 9:u.comments&&u.comments.length||(u.comments=[]),u.comments.push(a.CommentDescriptor.decode(t,t.uint32()));break;default:t.skipType(7&l)}}return u},o.decodeDelimited=function(t){return t instanceof c||(t=new c(t)),this.decode(t,t.uint32())},o.verify=function(t){if(typeof t!="object"||t===null)return"object expected";if(t.documentId!=null&&t.hasOwnProperty("documentId")&&!s.isString(t.documentId))return"documentId: string expected";if(t.commentThreadId!=null&&t.hasOwnProperty("commentThreadId")&&!s.isString(t.commentThreadId))return"commentThreadId: string expected";if(t.context!=null&&t.hasOwnProperty("context")&&!s.isString(t.context))return"context: string expected";if(t.createdAt!=null&&t.hasOwnProperty("createdAt")&&!s.isString(t.createdAt))return"createdAt: string expected";if(t.resolvedAt!=null&&t.hasOwnProperty("resolvedAt")&&!s.isString(t.resolvedAt))return"resolvedAt: string expected";if(t.resolvedBy!=null&&t.hasOwnProperty("resolvedBy")&&!s.isString(t.resolvedBy))return"resolvedBy: string expected";if(t.attributes!=null&&t.hasOwnProperty("attributes")&&!s.isString(t.attributes))return"attributes: string expected";if(t.deletedAt!=null&&t.hasOwnProperty("deletedAt")&&!s.isString(t.deletedAt))return"deletedAt: string expected";if(t.comments!=null&&t.hasOwnProperty("comments")){if(!Array.isArray(t.comments))return"comments: array expected";for(var e=0;e<t.comments.length;++e){var r=a.CommentDescriptor.verify(t.comments[e]);if(r)return"comments."+r}}return null},o.fromObject=function(t){if(t instanceof a.CommentsV2AddCommentThreadMessage)return t;var e=new a.CommentsV2AddCommentThreadMessage;if(t.documentId!=null&&(e.documentId=String(t.documentId)),t.commentThreadId!=null&&(e.commentThreadId=String(t.commentThreadId)),t.context!=null&&(e.context=String(t.context)),t.createdAt!=null&&(e.createdAt=String(t.createdAt)),t.resolvedAt!=null&&(e.resolvedAt=String(t.resolvedAt)),t.resolvedBy!=null&&(e.resolvedBy=String(t.resolvedBy)),t.attributes!=null&&(e.attributes=String(t.attributes)),t.deletedAt!=null&&(e.deletedAt=String(t.deletedAt)),t.comments){if(!Array.isArray(t.comments))throw TypeError(".CommentsV2AddCommentThreadMessage.comments: array expected");e.comments=[];for(var r=0;r<t.comments.length;++r){if(typeof t.comments[r]!="object")throw TypeError(".CommentsV2AddCommentThreadMessage.comments: object expected");e.comments[r]=a.CommentDescriptor.fromObject(t.comments[r])}}return e},o.toObject=function(t,e){e||(e={});var r={};if((e.arrays||e.defaults)&&(r.comments=[]),e.defaults&&(r.documentId="",r.commentThreadId="",r.context="",r.createdAt="",r.resolvedAt="",r.resolvedBy="",r.attributes="",r.deletedAt=""),t.documentId!=null&&t.hasOwnProperty("documentId")&&(r.documentId=t.documentId),t.commentThreadId!=null&&t.hasOwnProperty("commentThreadId")&&(r.commentThreadId=t.commentThreadId),t.context!=null&&t.hasOwnProperty("context")&&(r.context=t.context),t.createdAt!=null&&t.hasOwnProperty("createdAt")&&(r.createdAt=t.createdAt),t.resolvedAt!=null&&t.hasOwnProperty("resolvedAt")&&(r.resolvedAt=t.resolvedAt),t.resolvedBy!=null&&t.hasOwnProperty("resolvedBy")&&(r.resolvedBy=t.resolvedBy),t.attributes!=null&&t.hasOwnProperty("attributes")&&(r.attributes=t.attributes),t.deletedAt!=null&&t.hasOwnProperty("deletedAt")&&(r.deletedAt=t.deletedAt),t.comments&&t.comments.length){r.comments=[];for(var d=0;d<t.comments.length;++d)r.comments[d]=a.CommentDescriptor.toObject(t.comments[d],e)}return r},o.prototype.toJSON=function(){return this.constructor.toObject(this,_0x19253a.util.toJSONOptions)},o.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/CommentsV2AddCommentThreadMessage"},o})(),a.CommentsV2ReopenCommentThreadMessage=(function(){function o(t){if(t)for(var e=Object.keys(t),r=0;r<e.length;++r)t[e[r]]!=null&&(this[e[r]]=t[e[r]])}return o.prototype.commentThreadId="",o.prototype.documentId="",o.create=function(t){return new o(t)},o.encode=function(t,e){return e||(e=n.create()),t.commentThreadId!=null&&Object.hasOwnProperty.call(t,"commentThreadId")&&e.uint32(10).string(t.commentThreadId),t.documentId!=null&&Object.hasOwnProperty.call(t,"documentId")&&e.uint32(18).string(t.documentId),e},o.encodeDelimited=function(t,e){return this.encode(t,e).ldelim()},o.decode=function(t,e,r){t instanceof c||(t=c.create(t));for(var d=e===void 0?t.len:t.pos+e,u=new a.CommentsV2ReopenCommentThreadMessage;t.pos<d;){var l=t.uint32();if(l===r)break;switch(l>>>3){case 1:u.commentThreadId=t.string();break;case 2:u.documentId=t.string();break;default:t.skipType(7&l)}}return u},o.decodeDelimited=function(t){return t instanceof c||(t=new c(t)),this.decode(t,t.uint32())},o.verify=function(t){return typeof t!="object"||t===null?"object expected":t.commentThreadId!=null&&t.hasOwnProperty("commentThreadId")&&!s.isString(t.commentThreadId)?"commentThreadId: string expected":t.documentId!=null&&t.hasOwnProperty("documentId")&&!s.isString(t.documentId)?"documentId: string expected":null},o.fromObject=function(t){if(t instanceof a.CommentsV2ReopenCommentThreadMessage)return t;var e=new a.CommentsV2ReopenCommentThreadMessage;return t.commentThreadId!=null&&(e.commentThreadId=String(t.commentThreadId)),t.documentId!=null&&(e.documentId=String(t.documentId)),e},o.toObject=function(t,e){e||(e={});var r={};return e.defaults&&(r.commentThreadId="",r.documentId=""),t.commentThreadId!=null&&t.hasOwnProperty("commentThreadId")&&(r.commentThreadId=t.commentThreadId),t.documentId!=null&&t.hasOwnProperty("documentId")&&(r.documentId=t.documentId),r},o.prototype.toJSON=function(){return this.constructor.toObject(this,_0x19253a.util.toJSONOptions)},o.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/CommentsV2ReopenCommentThreadMessage"},o})(),a.CommentsV2ResolveCommentThreadMessage=(function(){function o(t){if(t)for(var e=Object.keys(t),r=0;r<e.length;++r)t[e[r]]!=null&&(this[e[r]]=t[e[r]])}return o.prototype.commentThreadId="",o.prototype.documentId="",o.prototype.resolvedBy="",o.prototype.resolvedAt="",o.create=function(t){return new o(t)},o.encode=function(t,e){return e||(e=n.create()),t.commentThreadId!=null&&Object.hasOwnProperty.call(t,"commentThreadId")&&e.uint32(10).string(t.commentThreadId),t.documentId!=null&&Object.hasOwnProperty.call(t,"documentId")&&e.uint32(18).string(t.documentId),t.resolvedBy!=null&&Object.hasOwnProperty.call(t,"resolvedBy")&&e.uint32(26).string(t.resolvedBy),t.resolvedAt!=null&&Object.hasOwnProperty.call(t,"resolvedAt")&&e.uint32(34).string(t.resolvedAt),e},o.encodeDelimited=function(t,e){return this.encode(t,e).ldelim()},o.decode=function(t,e,r){t instanceof c||(t=c.create(t));for(var d=e===void 0?t.len:t.pos+e,u=new a.CommentsV2ResolveCommentThreadMessage;t.pos<d;){var l=t.uint32();if(l===r)break;switch(l>>>3){case 1:u.commentThreadId=t.string();break;case 2:u.documentId=t.string();break;case 3:u.resolvedBy=t.string();break;case 4:u.resolvedAt=t.string();break;default:t.skipType(7&l)}}return u},o.decodeDelimited=function(t){return t instanceof c||(t=new c(t)),this.decode(t,t.uint32())},o.verify=function(t){return typeof t!="object"||t===null?"object expected":t.commentThreadId!=null&&t.hasOwnProperty("commentThreadId")&&!s.isString(t.commentThreadId)?"commentThreadId: string expected":t.documentId!=null&&t.hasOwnProperty("documentId")&&!s.isString(t.documentId)?"documentId: string expected":t.resolvedBy!=null&&t.hasOwnProperty("resolvedBy")&&!s.isString(t.resolvedBy)?"resolvedBy: string expected":t.resolvedAt!=null&&t.hasOwnProperty("resolvedAt")&&!s.isString(t.resolvedAt)?"resolvedAt: string expected":null},o.fromObject=function(t){if(t instanceof a.CommentsV2ResolveCommentThreadMessage)return t;var e=new a.CommentsV2ResolveCommentThreadMessage;return t.commentThreadId!=null&&(e.commentThreadId=String(t.commentThreadId)),t.documentId!=null&&(e.documentId=String(t.documentId)),t.resolvedBy!=null&&(e.resolvedBy=String(t.resolvedBy)),t.resolvedAt!=null&&(e.resolvedAt=String(t.resolvedAt)),e},o.toObject=function(t,e){e||(e={});var r={};return e.defaults&&(r.commentThreadId="",r.documentId="",r.resolvedBy="",r.resolvedAt=""),t.commentThreadId!=null&&t.hasOwnProperty("commentThreadId")&&(r.commentThreadId=t.commentThreadId),t.documentId!=null&&t.hasOwnProperty("documentId")&&(r.documentId=t.documentId),t.resolvedBy!=null&&t.hasOwnProperty("resolvedBy")&&(r.resolvedBy=t.resolvedBy),t.resolvedAt!=null&&t.hasOwnProperty("resolvedAt")&&(r.resolvedAt=t.resolvedAt),r},o.prototype.toJSON=function(){return this.constructor.toObject(this,_0x19253a.util.toJSONOptions)},o.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/CommentsV2ResolveCommentThreadMessage"},o})(),a.CommentsV2UpdateCommentThreadMessage=(function(){function o(t){if(t)for(var e=Object.keys(t),r=0;r<e.length;++r)t[e[r]]!=null&&(this[e[r]]=t[e[r]])}return o.prototype.commentThreadId="",o.prototype.documentId="",o.prototype.context="",o.prototype.attributes="",o.prototype.unlinkedAt="",o.create=function(t){return new o(t)},o.encode=function(t,e){return e||(e=n.create()),t.commentThreadId!=null&&Object.hasOwnProperty.call(t,"commentThreadId")&&e.uint32(10).string(t.commentThreadId),t.documentId!=null&&Object.hasOwnProperty.call(t,"documentId")&&e.uint32(18).string(t.documentId),t.context!=null&&Object.hasOwnProperty.call(t,"context")&&e.uint32(26).string(t.context),t.attributes!=null&&Object.hasOwnProperty.call(t,"attributes")&&e.uint32(34).string(t.attributes),t.unlinkedAt!=null&&Object.hasOwnProperty.call(t,"unlinkedAt")&&e.uint32(42).string(t.unlinkedAt),e},o.encodeDelimited=function(t,e){return this.encode(t,e).ldelim()},o.decode=function(t,e,r){t instanceof c||(t=c.create(t));for(var d=e===void 0?t.len:t.pos+e,u=new a.CommentsV2UpdateCommentThreadMessage;t.pos<d;){var l=t.uint32();if(l===r)break;switch(l>>>3){case 1:u.commentThreadId=t.string();break;case 2:u.documentId=t.string();break;case 3:u.context=t.string();break;case 4:u.attributes=t.string();break;case 5:u.unlinkedAt=t.string();break;default:t.skipType(7&l)}}return u},o.decodeDelimited=function(t){return t instanceof c||(t=new c(t)),this.decode(t,t.uint32())},o.verify=function(t){return typeof t!="object"||t===null?"object expected":t.commentThreadId!=null&&t.hasOwnProperty("commentThreadId")&&!s.isString(t.commentThreadId)?"commentThreadId: string expected":t.documentId!=null&&t.hasOwnProperty("documentId")&&!s.isString(t.documentId)?"documentId: string expected":t.context!=null&&t.hasOwnProperty("context")&&!s.isString(t.context)?"context: string expected":t.attributes!=null&&t.hasOwnProperty("attributes")&&!s.isString(t.attributes)?"attributes: string expected":t.unlinkedAt!=null&&t.hasOwnProperty("unlinkedAt")&&!s.isString(t.unlinkedAt)?"unlinkedAt: string expected":null},o.fromObject=function(t){if(t instanceof a.CommentsV2UpdateCommentThreadMessage)return t;var e=new a.CommentsV2UpdateCommentThreadMessage;return t.commentThreadId!=null&&(e.commentThreadId=String(t.commentThreadId)),t.documentId!=null&&(e.documentId=String(t.documentId)),t.context!=null&&(e.context=String(t.context)),t.attributes!=null&&(e.attributes=String(t.attributes)),t.unlinkedAt!=null&&(e.unlinkedAt=String(t.unlinkedAt)),e},o.toObject=function(t,e){e||(e={});var r={};return e.defaults&&(r.commentThreadId="",r.documentId="",r.context="",r.attributes="",r.unlinkedAt=""),t.commentThreadId!=null&&t.hasOwnProperty("commentThreadId")&&(r.commentThreadId=t.commentThreadId),t.documentId!=null&&t.hasOwnProperty("documentId")&&(r.documentId=t.documentId),t.context!=null&&t.hasOwnProperty("context")&&(r.context=t.context),t.attributes!=null&&t.hasOwnProperty("attributes")&&(r.attributes=t.attributes),t.unlinkedAt!=null&&t.hasOwnProperty("unlinkedAt")&&(r.unlinkedAt=t.unlinkedAt),r},o.prototype.toJSON=function(){return this.constructor.toObject(this,_0x19253a.util.toJSONOptions)},o.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/CommentsV2UpdateCommentThreadMessage"},o})(),a.CommentsV2ConnectMessage=(function(){function o(t){if(t)for(var e=Object.keys(t),r=0;r<e.length;++r)t[e[r]]!=null&&(this[e[r]]=t[e[r]])}return o.prototype.documentId="",o.create=function(t){return new o(t)},o.encode=function(t,e){return e||(e=n.create()),t.documentId!=null&&Object.hasOwnProperty.call(t,"documentId")&&e.uint32(10).string(t.documentId),e},o.encodeDelimited=function(t,e){return this.encode(t,e).ldelim()},o.decode=function(t,e,r){t instanceof c||(t=c.create(t));for(var d=e===void 0?t.len:t.pos+e,u=new a.CommentsV2ConnectMessage;t.pos<d;){var l=t.uint32();if(l===r)break;l>>>3==1?u.documentId=t.string():t.skipType(7&l)}return u},o.decodeDelimited=function(t){return t instanceof c||(t=new c(t)),this.decode(t,t.uint32())},o.verify=function(t){return typeof t!="object"||t===null?"object expected":t.documentId!=null&&t.hasOwnProperty("documentId")&&!s.isString(t.documentId)?"documentId: string expected":null},o.fromObject=function(t){if(t instanceof a.CommentsV2ConnectMessage)return t;var e=new a.CommentsV2ConnectMessage;return t.documentId!=null&&(e.documentId=String(t.documentId)),e},o.toObject=function(t,e){e||(e={});var r={};return e.defaults&&(r.documentId=""),t.documentId!=null&&t.hasOwnProperty("documentId")&&(r.documentId=t.documentId),r},o.prototype.toJSON=function(){return this.constructor.toObject(this,_0x19253a.util.toJSONOptions)},o.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/CommentsV2ConnectMessage"},o})(),a.CommentsV2GetCommentThreadMessage=(function(){function o(t){if(t)for(var e=Object.keys(t),r=0;r<e.length;++r)t[e[r]]!=null&&(this[e[r]]=t[e[r]])}return o.prototype.commentThreadId="",o.prototype.documentId="",o.create=function(t){return new o(t)},o.encode=function(t,e){return e||(e=n.create()),t.commentThreadId!=null&&Object.hasOwnProperty.call(t,"commentThreadId")&&e.uint32(10).string(t.commentThreadId),t.documentId!=null&&Object.hasOwnProperty.call(t,"documentId")&&e.uint32(18).string(t.documentId),e},o.encodeDelimited=function(t,e){return this.encode(t,e).ldelim()},o.decode=function(t,e,r){t instanceof c||(t=c.create(t));for(var d=e===void 0?t.len:t.pos+e,u=new a.CommentsV2GetCommentThreadMessage;t.pos<d;){var l=t.uint32();if(l===r)break;switch(l>>>3){case 1:u.commentThreadId=t.string();break;case 2:u.documentId=t.string();break;default:t.skipType(7&l)}}return u},o.decodeDelimited=function(t){return t instanceof c||(t=new c(t)),this.decode(t,t.uint32())},o.verify=function(t){return typeof t!="object"||t===null?"object expected":t.commentThreadId!=null&&t.hasOwnProperty("commentThreadId")&&!s.isString(t.commentThreadId)?"commentThreadId: string expected":t.documentId!=null&&t.hasOwnProperty("documentId")&&!s.isString(t.documentId)?"documentId: string expected":null},o.fromObject=function(t){if(t instanceof a.CommentsV2GetCommentThreadMessage)return t;var e=new a.CommentsV2GetCommentThreadMessage;return t.commentThreadId!=null&&(e.commentThreadId=String(t.commentThreadId)),t.documentId!=null&&(e.documentId=String(t.documentId)),e},o.toObject=function(t,e){e||(e={});var r={};return e.defaults&&(r.commentThreadId="",r.documentId=""),t.commentThreadId!=null&&t.hasOwnProperty("commentThreadId")&&(r.commentThreadId=t.commentThreadId),t.documentId!=null&&t.hasOwnProperty("documentId")&&(r.documentId=t.documentId),r},o.prototype.toJSON=function(){return this.constructor.toObject(this,_0x19253a.util.toJSONOptions)},o.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/CommentsV2GetCommentThreadMessage"},o})(),a.CommentsV2GetDocumentThreadsMessage=(function(){function o(t){if(t)for(var e=Object.keys(t),r=0;r<e.length;++r)t[e[r]]!=null&&(this[e[r]]=t[e[r]])}return o.prototype.documentId="",o.create=function(t){return new o(t)},o.encode=function(t,e){return e||(e=n.create()),t.documentId!=null&&Object.hasOwnProperty.call(t,"documentId")&&e.uint32(10).string(t.documentId),e},o.encodeDelimited=function(t,e){return this.encode(t,e).ldelim()},o.decode=function(t,e,r){t instanceof c||(t=c.create(t));for(var d=e===void 0?t.len:t.pos+e,u=new a.CommentsV2GetDocumentThreadsMessage;t.pos<d;){var l=t.uint32();if(l===r)break;l>>>3==1?u.documentId=t.string():t.skipType(7&l)}return u},o.decodeDelimited=function(t){return t instanceof c||(t=new c(t)),this.decode(t,t.uint32())},o.verify=function(t){return typeof t!="object"||t===null?"object expected":t.documentId!=null&&t.hasOwnProperty("documentId")&&!s.isString(t.documentId)?"documentId: string expected":null},o.fromObject=function(t){if(t instanceof a.CommentsV2GetDocumentThreadsMessage)return t;var e=new a.CommentsV2GetDocumentThreadsMessage;return t.documentId!=null&&(e.documentId=String(t.documentId)),e},o.toObject=function(t,e){e||(e={});var r={};return e.defaults&&(r.documentId=""),t.documentId!=null&&t.hasOwnProperty("documentId")&&(r.documentId=t.documentId),r},o.prototype.toJSON=function(){return this.constructor.toObject(this,_0x19253a.util.toJSONOptions)},o.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/CommentsV2GetDocumentThreadsMessage"},o})(),a.CommentsV2RemoveCommentMessage=(function(){function o(t){if(t)for(var e=Object.keys(t),r=0;r<e.length;++r)t[e[r]]!=null&&(this[e[r]]=t[e[r]])}return o.prototype.commentThreadId="",o.prototype.commentId="",o.prototype.documentId="",o.create=function(t){return new o(t)},o.encode=function(t,e){return e||(e=n.create()),t.commentThreadId!=null&&Object.hasOwnProperty.call(t,"commentThreadId")&&e.uint32(10).string(t.commentThreadId),t.commentId!=null&&Object.hasOwnProperty.call(t,"commentId")&&e.uint32(18).string(t.commentId),t.documentId!=null&&Object.hasOwnProperty.call(t,"documentId")&&e.uint32(26).string(t.documentId),e},o.encodeDelimited=function(t,e){return this.encode(t,e).ldelim()},o.decode=function(t,e,r){t instanceof c||(t=c.create(t));for(var d=e===void 0?t.len:t.pos+e,u=new a.CommentsV2RemoveCommentMessage;t.pos<d;){var l=t.uint32();if(l===r)break;switch(l>>>3){case 1:u.commentThreadId=t.string();break;case 2:u.commentId=t.string();break;case 3:u.documentId=t.string();break;default:t.skipType(7&l)}}return u},o.decodeDelimited=function(t){return t instanceof c||(t=new c(t)),this.decode(t,t.uint32())},o.verify=function(t){return typeof t!="object"||t===null?"object expected":t.commentThreadId!=null&&t.hasOwnProperty("commentThreadId")&&!s.isString(t.commentThreadId)?"commentThreadId: string expected":t.commentId!=null&&t.hasOwnProperty("commentId")&&!s.isString(t.commentId)?"commentId: string expected":t.documentId!=null&&t.hasOwnProperty("documentId")&&!s.isString(t.documentId)?"documentId: string expected":null},o.fromObject=function(t){if(t instanceof a.CommentsV2RemoveCommentMessage)return t;var e=new a.CommentsV2RemoveCommentMessage;return t.commentThreadId!=null&&(e.commentThreadId=String(t.commentThreadId)),t.commentId!=null&&(e.commentId=String(t.commentId)),t.documentId!=null&&(e.documentId=String(t.documentId)),e},o.toObject=function(t,e){e||(e={});var r={};return e.defaults&&(r.commentThreadId="",r.commentId="",r.documentId=""),t.commentThreadId!=null&&t.hasOwnProperty("commentThreadId")&&(r.commentThreadId=t.commentThreadId),t.commentId!=null&&t.hasOwnProperty("commentId")&&(r.commentId=t.commentId),t.documentId!=null&&t.hasOwnProperty("documentId")&&(r.documentId=t.documentId),r},o.prototype.toJSON=function(){return this.constructor.toObject(this,_0x19253a.util.toJSONOptions)},o.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/CommentsV2RemoveCommentMessage"},o})(),a.CommentsV2RemoveCommentThreadMessage=(function(){function o(t){if(t)for(var e=Object.keys(t),r=0;r<e.length;++r)t[e[r]]!=null&&(this[e[r]]=t[e[r]])}return o.prototype.commentThreadId="",o.prototype.documentId="",o.create=function(t){return new o(t)},o.encode=function(t,e){return e||(e=n.create()),t.commentThreadId!=null&&Object.hasOwnProperty.call(t,"commentThreadId")&&e.uint32(10).string(t.commentThreadId),t.documentId!=null&&Object.hasOwnProperty.call(t,"documentId")&&e.uint32(18).string(t.documentId),e},o.encodeDelimited=function(t,e){return this.encode(t,e).ldelim()},o.decode=function(t,e,r){t instanceof c||(t=c.create(t));for(var d=e===void 0?t.len:t.pos+e,u=new a.CommentsV2RemoveCommentThreadMessage;t.pos<d;){var l=t.uint32();if(l===r)break;switch(l>>>3){case 1:u.commentThreadId=t.string();break;case 2:u.documentId=t.string();break;default:t.skipType(7&l)}}return u},o.decodeDelimited=function(t){return t instanceof c||(t=new c(t)),this.decode(t,t.uint32())},o.verify=function(t){return typeof t!="object"||t===null?"object expected":t.commentThreadId!=null&&t.hasOwnProperty("commentThreadId")&&!s.isString(t.commentThreadId)?"commentThreadId: string expected":t.documentId!=null&&t.hasOwnProperty("documentId")&&!s.isString(t.documentId)?"documentId: string expected":null},o.fromObject=function(t){if(t instanceof a.CommentsV2RemoveCommentThreadMessage)return t;var e=new a.CommentsV2RemoveCommentThreadMessage;return t.commentThreadId!=null&&(e.commentThreadId=String(t.commentThreadId)),t.documentId!=null&&(e.documentId=String(t.documentId)),e},o.toObject=function(t,e){e||(e={});var r={};return e.defaults&&(r.commentThreadId="",r.documentId=""),t.commentThreadId!=null&&t.hasOwnProperty("commentThreadId")&&(r.commentThreadId=t.commentThreadId),t.documentId!=null&&t.hasOwnProperty("documentId")&&(r.documentId=t.documentId),r},o.prototype.toJSON=function(){return this.constructor.toObject(this,_0x19253a.util.toJSONOptions)},o.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/CommentsV2RemoveCommentThreadMessage"},o})(),a.CommentsV2UpdateCommentMessage=(function(){function o(t){if(t)for(var e=Object.keys(t),r=0;r<e.length;++r)t[e[r]]!=null&&(this[e[r]]=t[e[r]])}return o.prototype.commentThreadId="",o.prototype.commentId="",o.prototype.content="",o.prototype.documentId="",o.prototype.attributes="",o.prototype.isAttributesUpdated=!1,o.prototype.commentThread=null,o.create=function(t){return new o(t)},o.encode=function(t,e){return e||(e=n.create()),t.commentThreadId!=null&&Object.hasOwnProperty.call(t,"commentThreadId")&&e.uint32(10).string(t.commentThreadId),t.commentId!=null&&Object.hasOwnProperty.call(t,"commentId")&&e.uint32(18).string(t.commentId),t.content!=null&&Object.hasOwnProperty.call(t,"content")&&e.uint32(26).string(t.content),t.documentId!=null&&Object.hasOwnProperty.call(t,"documentId")&&e.uint32(34).string(t.documentId),t.attributes!=null&&Object.hasOwnProperty.call(t,"attributes")&&e.uint32(42).string(t.attributes),t.isAttributesUpdated!=null&&Object.hasOwnProperty.call(t,"isAttributesUpdated")&&e.uint32(48).bool(t.isAttributesUpdated),t.commentThread!=null&&Object.hasOwnProperty.call(t,"commentThread")&&a.CommentsThreadDescriptor.encode(t.commentThread,e.uint32(58).fork()).ldelim(),e},o.encodeDelimited=function(t,e){return this.encode(t,e).ldelim()},o.decode=function(t,e,r){t instanceof c||(t=c.create(t));for(var d=e===void 0?t.len:t.pos+e,u=new a.CommentsV2UpdateCommentMessage;t.pos<d;){var l=t.uint32();if(l===r)break;switch(l>>>3){case 1:u.commentThreadId=t.string();break;case 2:u.commentId=t.string();break;case 3:u.content=t.string();break;case 4:u.documentId=t.string();break;case 5:u.attributes=t.string();break;case 6:u.isAttributesUpdated=t.bool();break;case 7:u.commentThread=a.CommentsThreadDescriptor.decode(t,t.uint32());break;default:t.skipType(7&l)}}return u},o.decodeDelimited=function(t){return t instanceof c||(t=new c(t)),this.decode(t,t.uint32())},o.verify=function(t){if(typeof t!="object"||t===null)return"object expected";if(t.commentThreadId!=null&&t.hasOwnProperty("commentThreadId")&&!s.isString(t.commentThreadId))return"commentThreadId: string expected";if(t.commentId!=null&&t.hasOwnProperty("commentId")&&!s.isString(t.commentId))return"commentId: string expected";if(t.content!=null&&t.hasOwnProperty("content")&&!s.isString(t.content))return"content: string expected";if(t.documentId!=null&&t.hasOwnProperty("documentId")&&!s.isString(t.documentId))return"documentId: string expected";if(t.attributes!=null&&t.hasOwnProperty("attributes")&&!s.isString(t.attributes))return"attributes: string expected";if(t.isAttributesUpdated!=null&&t.hasOwnProperty("isAttributesUpdated")&&typeof t.isAttributesUpdated!="boolean")return"isAttributesUpdated: boolean expected";if(t.commentThread!=null&&t.hasOwnProperty("commentThread")){var e=a.CommentsThreadDescriptor.verify(t.commentThread);if(e)return"commentThread."+e}return null},o.fromObject=function(t){if(t instanceof a.CommentsV2UpdateCommentMessage)return t;var e=new a.CommentsV2UpdateCommentMessage;if(t.commentThreadId!=null&&(e.commentThreadId=String(t.commentThreadId)),t.commentId!=null&&(e.commentId=String(t.commentId)),t.content!=null&&(e.content=String(t.content)),t.documentId!=null&&(e.documentId=String(t.documentId)),t.attributes!=null&&(e.attributes=String(t.attributes)),t.isAttributesUpdated!=null&&(e.isAttributesUpdated=!!t.isAttributesUpdated),t.commentThread!=null){if(typeof t.commentThread!="object")throw TypeError(".CommentsV2UpdateCommentMessage.commentThread: object expected");e.commentThread=a.CommentsThreadDescriptor.fromObject(t.commentThread)}return e},o.toObject=function(t,e){e||(e={});var r={};return e.defaults&&(r.commentThreadId="",r.commentId="",r.content="",r.documentId="",r.attributes="",r.isAttributesUpdated=!1,r.commentThread=null),t.commentThreadId!=null&&t.hasOwnProperty("commentThreadId")&&(r.commentThreadId=t.commentThreadId),t.commentId!=null&&t.hasOwnProperty("commentId")&&(r.commentId=t.commentId),t.content!=null&&t.hasOwnProperty("content")&&(r.content=t.content),t.documentId!=null&&t.hasOwnProperty("documentId")&&(r.documentId=t.documentId),t.attributes!=null&&t.hasOwnProperty("attributes")&&(r.attributes=t.attributes),t.isAttributesUpdated!=null&&t.hasOwnProperty("isAttributesUpdated")&&(r.isAttributesUpdated=t.isAttributesUpdated),t.commentThread!=null&&t.hasOwnProperty("commentThread")&&(r.commentThread=a.CommentsThreadDescriptor.toObject(t.commentThread,e)),r},o.prototype.toJSON=function(){return this.constructor.toObject(this,_0x19253a.util.toJSONOptions)},o.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/CommentsV2UpdateCommentMessage"},o})(),a.CommentsV2AddCommentResponse=(function(){function o(t){if(t)for(var e=Object.keys(t),r=0;r<e.length;++r)t[e[r]]!=null&&(this[e[r]]=t[e[r]])}return o.prototype.commentThreadId="",o.prototype.commentId="",o.prototype.createdAt="",o.create=function(t){return new o(t)},o.encode=function(t,e){return e||(e=n.create()),t.commentThreadId!=null&&Object.hasOwnProperty.call(t,"commentThreadId")&&e.uint32(10).string(t.commentThreadId),t.commentId!=null&&Object.hasOwnProperty.call(t,"commentId")&&e.uint32(18).string(t.commentId),t.createdAt!=null&&Object.hasOwnProperty.call(t,"createdAt")&&e.uint32(26).string(t.createdAt),e},o.encodeDelimited=function(t,e){return this.encode(t,e).ldelim()},o.decode=function(t,e,r){t instanceof c||(t=c.create(t));for(var d=e===void 0?t.len:t.pos+e,u=new a.CommentsV2AddCommentResponse;t.pos<d;){var l=t.uint32();if(l===r)break;switch(l>>>3){case 1:u.commentThreadId=t.string();break;case 2:u.commentId=t.string();break;case 3:u.createdAt=t.string();break;default:t.skipType(7&l)}}return u},o.decodeDelimited=function(t){return t instanceof c||(t=new c(t)),this.decode(t,t.uint32())},o.verify=function(t){return typeof t!="object"||t===null?"object expected":t.commentThreadId!=null&&t.hasOwnProperty("commentThreadId")&&!s.isString(t.commentThreadId)?"commentThreadId: string expected":t.commentId!=null&&t.hasOwnProperty("commentId")&&!s.isString(t.commentId)?"commentId: string expected":t.createdAt!=null&&t.hasOwnProperty("createdAt")&&!s.isString(t.createdAt)?"createdAt: string expected":null},o.fromObject=function(t){if(t instanceof a.CommentsV2AddCommentResponse)return t;var e=new a.CommentsV2AddCommentResponse;return t.commentThreadId!=null&&(e.commentThreadId=String(t.commentThreadId)),t.commentId!=null&&(e.commentId=String(t.commentId)),t.createdAt!=null&&(e.createdAt=String(t.createdAt)),e},o.toObject=function(t,e){e||(e={});var r={};return e.defaults&&(r.commentThreadId="",r.commentId="",r.createdAt=""),t.commentThreadId!=null&&t.hasOwnProperty("commentThreadId")&&(r.commentThreadId=t.commentThreadId),t.commentId!=null&&t.hasOwnProperty("commentId")&&(r.commentId=t.commentId),t.createdAt!=null&&t.hasOwnProperty("createdAt")&&(r.createdAt=t.createdAt),r},o.prototype.toJSON=function(){return this.constructor.toObject(this,_0x19253a.util.toJSONOptions)},o.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/CommentsV2AddCommentResponse"},o})(),a.CommentsV2AddCommentThreadResponse=(function(){function o(t){if(this.comments=[],t)for(var e=Object.keys(t),r=0;r<e.length;++r)t[e[r]]!=null&&(this[e[r]]=t[e[r]])}return o.prototype.commentThreadId="",o.prototype.createdAt="",o.prototype.comments=s.emptyArray,o.create=function(t){return new o(t)},o.encode=function(t,e){if(e||(e=n.create()),t.commentThreadId!=null&&Object.hasOwnProperty.call(t,"commentThreadId")&&e.uint32(10).string(t.commentThreadId),t.createdAt!=null&&Object.hasOwnProperty.call(t,"createdAt")&&e.uint32(18).string(t.createdAt),t.comments!=null&&t.comments.length)for(var r=0;r<t.comments.length;++r)a.CommentThreadAddedCommentDescriptor.encode(t.comments[r],e.uint32(26).fork()).ldelim();return e},o.encodeDelimited=function(t,e){return this.encode(t,e).ldelim()},o.decode=function(t,e,r){t instanceof c||(t=c.create(t));for(var d=e===void 0?t.len:t.pos+e,u=new a.CommentsV2AddCommentThreadResponse;t.pos<d;){var l=t.uint32();if(l===r)break;switch(l>>>3){case 1:u.commentThreadId=t.string();break;case 2:u.createdAt=t.string();break;case 3:u.comments&&u.comments.length||(u.comments=[]),u.comments.push(a.CommentThreadAddedCommentDescriptor.decode(t,t.uint32()));break;default:t.skipType(7&l)}}return u},o.decodeDelimited=function(t){return t instanceof c||(t=new c(t)),this.decode(t,t.uint32())},o.verify=function(t){if(typeof t!="object"||t===null)return"object expected";if(t.commentThreadId!=null&&t.hasOwnProperty("commentThreadId")&&!s.isString(t.commentThreadId))return"commentThreadId: string expected";if(t.createdAt!=null&&t.hasOwnProperty("createdAt")&&!s.isString(t.createdAt))return"createdAt: string expected";if(t.comments!=null&&t.hasOwnProperty("comments")){if(!Array.isArray(t.comments))return"comments: array expected";for(var e=0;e<t.comments.length;++e){var r=a.CommentThreadAddedCommentDescriptor.verify(t.comments[e]);if(r)return"comments."+r}}return null},o.fromObject=function(t){if(t instanceof a.CommentsV2AddCommentThreadResponse)return t;var e=new a.CommentsV2AddCommentThreadResponse;if(t.commentThreadId!=null&&(e.commentThreadId=String(t.commentThreadId)),t.createdAt!=null&&(e.createdAt=String(t.createdAt)),t.comments){if(!Array.isArray(t.comments))throw TypeError(".CommentsV2AddCommentThreadResponse.comments: array expected");e.comments=[];for(var r=0;r<t.comments.length;++r){if(typeof t.comments[r]!="object")throw TypeError(".CommentsV2AddCommentThreadResponse.comments: object expected");e.comments[r]=a.CommentThreadAddedCommentDescriptor.fromObject(t.comments[r])}}return e},o.toObject=function(t,e){e||(e={});var r={};if((e.arrays||e.defaults)&&(r.comments=[]),e.defaults&&(r.commentThreadId="",r.createdAt=""),t.commentThreadId!=null&&t.hasOwnProperty("commentThreadId")&&(r.commentThreadId=t.commentThreadId),t.createdAt!=null&&t.hasOwnProperty("createdAt")&&(r.createdAt=t.createdAt),t.comments&&t.comments.length){r.comments=[];for(var d=0;d<t.comments.length;++d)r.comments[d]=a.CommentThreadAddedCommentDescriptor.toObject(t.comments[d],e)}return r},o.prototype.toJSON=function(){return this.constructor.toObject(this,_0x19253a.util.toJSONOptions)},o.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/CommentsV2AddCommentThreadResponse"},o})(),a.CommentsV2ResolveCommentThreadResponse=(function(){function o(t){if(t)for(var e=Object.keys(t),r=0;r<e.length;++r)t[e[r]]!=null&&(this[e[r]]=t[e[r]])}return o.prototype.commentThreadId="",o.prototype.documentId="",o.prototype.resolvedAt="",o.prototype.resolvedBy="",o.create=function(t){return new o(t)},o.encode=function(t,e){return e||(e=n.create()),t.commentThreadId!=null&&Object.hasOwnProperty.call(t,"commentThreadId")&&e.uint32(10).string(t.commentThreadId),t.documentId!=null&&Object.hasOwnProperty.call(t,"documentId")&&e.uint32(18).string(t.documentId),t.resolvedAt!=null&&Object.hasOwnProperty.call(t,"resolvedAt")&&e.uint32(26).string(t.resolvedAt),t.resolvedBy!=null&&Object.hasOwnProperty.call(t,"resolvedBy")&&e.uint32(34).string(t.resolvedBy),e},o.encodeDelimited=function(t,e){return this.encode(t,e).ldelim()},o.decode=function(t,e,r){t instanceof c||(t=c.create(t));for(var d=e===void 0?t.len:t.pos+e,u=new a.CommentsV2ResolveCommentThreadResponse;t.pos<d;){var l=t.uint32();if(l===r)break;switch(l>>>3){case 1:u.commentThreadId=t.string();break;case 2:u.documentId=t.string();break;case 3:u.resolvedAt=t.string();break;case 4:u.resolvedBy=t.string();break;default:t.skipType(7&l)}}return u},o.decodeDelimited=function(t){return t instanceof c||(t=new c(t)),this.decode(t,t.uint32())},o.verify=function(t){return typeof t!="object"||t===null?"object expected":t.commentThreadId!=null&&t.hasOwnProperty("commentThreadId")&&!s.isString(t.commentThreadId)?"commentThreadId: string expected":t.documentId!=null&&t.hasOwnProperty("documentId")&&!s.isString(t.documentId)?"documentId: string expected":t.resolvedAt!=null&&t.hasOwnProperty("resolvedAt")&&!s.isString(t.resolvedAt)?"resolvedAt: string expected":t.resolvedBy!=null&&t.hasOwnProperty("resolvedBy")&&!s.isString(t.resolvedBy)?"resolvedBy: string expected":null},o.fromObject=function(t){if(t instanceof a.CommentsV2ResolveCommentThreadResponse)return t;var e=new a.CommentsV2ResolveCommentThreadResponse;return t.commentThreadId!=null&&(e.commentThreadId=String(t.commentThreadId)),t.documentId!=null&&(e.documentId=String(t.documentId)),t.resolvedAt!=null&&(e.resolvedAt=String(t.resolvedAt)),t.resolvedBy!=null&&(e.resolvedBy=String(t.resolvedBy)),e},o.toObject=function(t,e){e||(e={});var r={};return e.defaults&&(r.commentThreadId="",r.documentId="",r.resolvedAt="",r.resolvedBy=""),t.commentThreadId!=null&&t.hasOwnProperty("commentThreadId")&&(r.commentThreadId=t.commentThreadId),t.documentId!=null&&t.hasOwnProperty("documentId")&&(r.documentId=t.documentId),t.resolvedAt!=null&&t.hasOwnProperty("resolvedAt")&&(r.resolvedAt=t.resolvedAt),t.resolvedBy!=null&&t.hasOwnProperty("resolvedBy")&&(r.resolvedBy=t.resolvedBy),r},o.prototype.toJSON=function(){return this.constructor.toObject(this,_0x19253a.util.toJSONOptions)},o.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/CommentsV2ResolveCommentThreadResponse"},o})(),a.CommentsV2ConnectResponse=(function(){function o(t){if(this.threads=[],this.threadsV2=[],t)for(var e=Object.keys(t),r=0;r<e.length;++r)t[e[r]]!=null&&(this[e[r]]=t[e[r]])}return o.prototype.channel="",o.prototype.threads=s.emptyArray,o.prototype.threadsV2=s.emptyArray,o.create=function(t){return new o(t)},o.encode=function(t,e){if(e||(e=n.create()),t.channel!=null&&Object.hasOwnProperty.call(t,"channel")&&e.uint32(10).string(t.channel),t.threads!=null&&t.threads.length)for(var r=0;r<t.threads.length;++r)e.uint32(18).string(t.threads[r]);if(t.threadsV2!=null&&t.threadsV2.length)for(r=0;r<t.threadsV2.length;++r)a.CommentsThreadDescriptor.encode(t.threadsV2[r],e.uint32(26).fork()).ldelim();return e},o.encodeDelimited=function(t,e){return this.encode(t,e).ldelim()},o.decode=function(t,e,r){t instanceof c||(t=c.create(t));for(var d=e===void 0?t.len:t.pos+e,u=new a.CommentsV2ConnectResponse;t.pos<d;){var l=t.uint32();if(l===r)break;switch(l>>>3){case 1:u.channel=t.string();break;case 2:u.threads&&u.threads.length||(u.threads=[]),u.threads.push(t.string());break;case 3:u.threadsV2&&u.threadsV2.length||(u.threadsV2=[]),u.threadsV2.push(a.CommentsThreadDescriptor.decode(t,t.uint32()));break;default:t.skipType(7&l)}}return u},o.decodeDelimited=function(t){return t instanceof c||(t=new c(t)),this.decode(t,t.uint32())},o.verify=function(t){if(typeof t!="object"||t===null)return"object expected";if(t.channel!=null&&t.hasOwnProperty("channel")&&!s.isString(t.channel))return"channel: string expected";if(t.threads!=null&&t.hasOwnProperty("threads")){if(!Array.isArray(t.threads))return"threads: array expected";for(var e=0;e<t.threads.length;++e)if(!s.isString(t.threads[e]))return"threads: string[] expected"}if(t.threadsV2!=null&&t.hasOwnProperty("threadsV2")){if(!Array.isArray(t.threadsV2))return"threadsV2: array expected";for(e=0;e<t.threadsV2.length;++e){var r=a.CommentsThreadDescriptor.verify(t.threadsV2[e]);if(r)return"threadsV2."+r}}return null},o.fromObject=function(t){if(t instanceof a.CommentsV2ConnectResponse)return t;var e=new a.CommentsV2ConnectResponse;if(t.channel!=null&&(e.channel=String(t.channel)),t.threads){if(!Array.isArray(t.threads))throw TypeError(".CommentsV2ConnectResponse.threads: array expected");e.threads=[];for(var r=0;r<t.threads.length;++r)e.threads[r]=String(t.threads[r])}if(t.threadsV2){if(!Array.isArray(t.threadsV2))throw TypeError(".CommentsV2ConnectResponse.threadsV2: array expected");for(e.threadsV2=[],r=0;r<t.threadsV2.length;++r){if(typeof t.threadsV2[r]!="object")throw TypeError(".CommentsV2ConnectResponse.threadsV2: object expected");e.threadsV2[r]=a.CommentsThreadDescriptor.fromObject(t.threadsV2[r])}}return e},o.toObject=function(t,e){e||(e={});var r={};if((e.arrays||e.defaults)&&(r.threads=[],r.threadsV2=[]),e.defaults&&(r.channel=""),t.channel!=null&&t.hasOwnProperty("channel")&&(r.channel=t.channel),t.threads&&t.threads.length){r.threads=[];for(var d=0;d<t.threads.length;++d)r.threads[d]=t.threads[d]}if(t.threadsV2&&t.threadsV2.length)for(r.threadsV2=[],d=0;d<t.threadsV2.length;++d)r.threadsV2[d]=a.CommentsThreadDescriptor.toObject(t.threadsV2[d],e);return r},o.prototype.toJSON=function(){return this.constructor.toObject(this,_0x19253a.util.toJSONOptions)},o.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/CommentsV2ConnectResponse"},o})(),a.CommentsV2GetCommentThreadResponse=(function(){function o(t){if(this.comments=[],this.commentsV2=[],t)for(var e=Object.keys(t),r=0;r<e.length;++r)t[e[r]]!=null&&(this[e[r]]=t[e[r]])}return o.prototype.commentThreadId="",o.prototype.comments=s.emptyArray,o.prototype.commentsV2=s.emptyArray,o.prototype.resolvedAt="",o.prototype.resolvedBy="",o.prototype.context="",o.prototype.createdAt="",o.prototype.deletedAt="",o.prototype.attributes="",o.prototype.unlinkedAt="",o.create=function(t){return new o(t)},o.encode=function(t,e){if(e||(e=n.create()),t.commentThreadId!=null&&Object.hasOwnProperty.call(t,"commentThreadId")&&e.uint32(10).string(t.commentThreadId),t.comments!=null&&t.comments.length)for(var r=0;r<t.comments.length;++r)e.uint32(18).string(t.comments[r]);if(t.commentsV2!=null&&t.commentsV2.length)for(r=0;r<t.commentsV2.length;++r)a.CommentDescriptor.encode(t.commentsV2[r],e.uint32(26).fork()).ldelim();return t.resolvedAt!=null&&Object.hasOwnProperty.call(t,"resolvedAt")&&e.uint32(34).string(t.resolvedAt),t.resolvedBy!=null&&Object.hasOwnProperty.call(t,"resolvedBy")&&e.uint32(42).string(t.resolvedBy),t.context!=null&&Object.hasOwnProperty.call(t,"context")&&e.uint32(50).string(t.context),t.createdAt!=null&&Object.hasOwnProperty.call(t,"createdAt")&&e.uint32(58).string(t.createdAt),t.deletedAt!=null&&Object.hasOwnProperty.call(t,"deletedAt")&&e.uint32(66).string(t.deletedAt),t.attributes!=null&&Object.hasOwnProperty.call(t,"attributes")&&e.uint32(74).string(t.attributes),t.unlinkedAt!=null&&Object.hasOwnProperty.call(t,"unlinkedAt")&&e.uint32(82).string(t.unlinkedAt),e},o.encodeDelimited=function(t,e){return this.encode(t,e).ldelim()},o.decode=function(t,e,r){t instanceof c||(t=c.create(t));for(var d=e===void 0?t.len:t.pos+e,u=new a.CommentsV2GetCommentThreadResponse;t.pos<d;){var l=t.uint32();if(l===r)break;switch(l>>>3){case 1:u.commentThreadId=t.string();break;case 2:u.comments&&u.comments.length||(u.comments=[]),u.comments.push(t.string());break;case 3:u.commentsV2&&u.commentsV2.length||(u.commentsV2=[]),u.commentsV2.push(a.CommentDescriptor.decode(t,t.uint32()));break;case 4:u.resolvedAt=t.string();break;case 5:u.resolvedBy=t.string();break;case 6:u.context=t.string();break;case 7:u.createdAt=t.string();break;case 8:u.deletedAt=t.string();break;case 9:u.attributes=t.string();break;case 10:u.unlinkedAt=t.string();break;default:t.skipType(7&l)}}return u},o.decodeDelimited=function(t){return t instanceof c||(t=new c(t)),this.decode(t,t.uint32())},o.verify=function(t){if(typeof t!="object"||t===null)return"object expected";if(t.commentThreadId!=null&&t.hasOwnProperty("commentThreadId")&&!s.isString(t.commentThreadId))return"commentThreadId: string expected";if(t.comments!=null&&t.hasOwnProperty("comments")){if(!Array.isArray(t.comments))return"comments: array expected";for(var e=0;e<t.comments.length;++e)if(!s.isString(t.comments[e]))return"comments: string[] expected"}if(t.commentsV2!=null&&t.hasOwnProperty("commentsV2")){if(!Array.isArray(t.commentsV2))return"commentsV2: array expected";for(e=0;e<t.commentsV2.length;++e){var r=a.CommentDescriptor.verify(t.commentsV2[e]);if(r)return"commentsV2."+r}}return t.resolvedAt!=null&&t.hasOwnProperty("resolvedAt")&&!s.isString(t.resolvedAt)?"resolvedAt: string expected":t.resolvedBy!=null&&t.hasOwnProperty("resolvedBy")&&!s.isString(t.resolvedBy)?"resolvedBy: string expected":t.context!=null&&t.hasOwnProperty("context")&&!s.isString(t.context)?"context: string expected":t.createdAt!=null&&t.hasOwnProperty("createdAt")&&!s.isString(t.createdAt)?"createdAt: string expected":t.deletedAt!=null&&t.hasOwnProperty("deletedAt")&&!s.isString(t.deletedAt)?"deletedAt: string expected":t.attributes!=null&&t.hasOwnProperty("attributes")&&!s.isString(t.attributes)?"attributes: string expected":t.unlinkedAt!=null&&t.hasOwnProperty("unlinkedAt")&&!s.isString(t.unlinkedAt)?"unlinkedAt: string expected":null},o.fromObject=function(t){if(t instanceof a.CommentsV2GetCommentThreadResponse)return t;var e=new a.CommentsV2GetCommentThreadResponse;if(t.commentThreadId!=null&&(e.commentThreadId=String(t.commentThreadId)),t.comments){if(!Array.isArray(t.comments))throw TypeError(".CommentsV2GetCommentThreadResponse.comments: array expected");e.comments=[];for(var r=0;r<t.comments.length;++r)e.comments[r]=String(t.comments[r])}if(t.commentsV2){if(!Array.isArray(t.commentsV2))throw TypeError(".CommentsV2GetCommentThreadResponse.commentsV2: array expected");for(e.commentsV2=[],r=0;r<t.commentsV2.length;++r){if(typeof t.commentsV2[r]!="object")throw TypeError(".CommentsV2GetCommentThreadResponse.commentsV2: object expected");e.commentsV2[r]=a.CommentDescriptor.fromObject(t.commentsV2[r])}}return t.resolvedAt!=null&&(e.resolvedAt=String(t.resolvedAt)),t.resolvedBy!=null&&(e.resolvedBy=String(t.resolvedBy)),t.context!=null&&(e.context=String(t.context)),t.createdAt!=null&&(e.createdAt=String(t.createdAt)),t.deletedAt!=null&&(e.deletedAt=String(t.deletedAt)),t.attributes!=null&&(e.attributes=String(t.attributes)),t.unlinkedAt!=null&&(e.unlinkedAt=String(t.unlinkedAt)),e},o.toObject=function(t,e){e||(e={});var r={};if((e.arrays||e.defaults)&&(r.comments=[],r.commentsV2=[]),e.defaults&&(r.commentThreadId="",r.resolvedAt="",r.resolvedBy="",r.context="",r.createdAt="",r.deletedAt="",r.attributes="",r.unlinkedAt=""),t.commentThreadId!=null&&t.hasOwnProperty("commentThreadId")&&(r.commentThreadId=t.commentThreadId),t.comments&&t.comments.length){r.comments=[];for(var d=0;d<t.comments.length;++d)r.comments[d]=t.comments[d]}if(t.commentsV2&&t.commentsV2.length)for(r.commentsV2=[],d=0;d<t.commentsV2.length;++d)r.commentsV2[d]=a.CommentDescriptor.toObject(t.commentsV2[d],e);return t.resolvedAt!=null&&t.hasOwnProperty("resolvedAt")&&(r.resolvedAt=t.resolvedAt),t.resolvedBy!=null&&t.hasOwnProperty("resolvedBy")&&(r.resolvedBy=t.resolvedBy),t.context!=null&&t.hasOwnProperty("context")&&(r.context=t.context),t.createdAt!=null&&t.hasOwnProperty("createdAt")&&(r.createdAt=t.createdAt),t.deletedAt!=null&&t.hasOwnProperty("deletedAt")&&(r.deletedAt=t.deletedAt),t.attributes!=null&&t.hasOwnProperty("attributes")&&(r.attributes=t.attributes),t.unlinkedAt!=null&&t.hasOwnProperty("unlinkedAt")&&(r.unlinkedAt=t.unlinkedAt),r},o.prototype.toJSON=function(){return this.constructor.toObject(this,_0x19253a.util.toJSONOptions)},o.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/CommentsV2GetCommentThreadResponse"},o})(),a.CommentsV2GetDocumentThreadsResponse=(function(){function o(t){if(this.threads=[],this.threadsV2=[],t)for(var e=Object.keys(t),r=0;r<e.length;++r)t[e[r]]!=null&&(this[e[r]]=t[e[r]])}return o.prototype.threads=s.emptyArray,o.prototype.threadsV2=s.emptyArray,o.create=function(t){return new o(t)},o.encode=function(t,e){if(e||(e=n.create()),t.threads!=null&&t.threads.length)for(var r=0;r<t.threads.length;++r)e.uint32(10).string(t.threads[r]);if(t.threadsV2!=null&&t.threadsV2.length)for(r=0;r<t.threadsV2.length;++r)a.CommentsThreadDescriptor.encode(t.threadsV2[r],e.uint32(18).fork()).ldelim();return e},o.encodeDelimited=function(t,e){return this.encode(t,e).ldelim()},o.decode=function(t,e,r){t instanceof c||(t=c.create(t));for(var d=e===void 0?t.len:t.pos+e,u=new a.CommentsV2GetDocumentThreadsResponse;t.pos<d;){var l=t.uint32();if(l===r)break;switch(l>>>3){case 1:u.threads&&u.threads.length||(u.threads=[]),u.threads.push(t.string());break;case 2:u.threadsV2&&u.threadsV2.length||(u.threadsV2=[]),u.threadsV2.push(a.CommentsThreadDescriptor.decode(t,t.uint32()));break;default:t.skipType(7&l)}}return u},o.decodeDelimited=function(t){return t instanceof c||(t=new c(t)),this.decode(t,t.uint32())},o.verify=function(t){if(typeof t!="object"||t===null)return"object expected";if(t.threads!=null&&t.hasOwnProperty("threads")){if(!Array.isArray(t.threads))return"threads: array expected";for(var e=0;e<t.threads.length;++e)if(!s.isString(t.threads[e]))return"threads: string[] expected"}if(t.threadsV2!=null&&t.hasOwnProperty("threadsV2")){if(!Array.isArray(t.threadsV2))return"threadsV2: array expected";for(e=0;e<t.threadsV2.length;++e){var r=a.CommentsThreadDescriptor.verify(t.threadsV2[e]);if(r)return"threadsV2."+r}}return null},o.fromObject=function(t){if(t instanceof a.CommentsV2GetDocumentThreadsResponse)return t;var e=new a.CommentsV2GetDocumentThreadsResponse;if(t.threads){if(!Array.isArray(t.threads))throw TypeError(".CommentsV2GetDocumentThreadsResponse.threads: array expected");e.threads=[];for(var r=0;r<t.threads.length;++r)e.threads[r]=String(t.threads[r])}if(t.threadsV2){if(!Array.isArray(t.threadsV2))throw TypeError(".CommentsV2GetDocumentThreadsResponse.threadsV2: array expected");for(e.threadsV2=[],r=0;r<t.threadsV2.length;++r){if(typeof t.threadsV2[r]!="object")throw TypeError(".CommentsV2GetDocumentThreadsResponse.threadsV2: object expected");e.threadsV2[r]=a.CommentsThreadDescriptor.fromObject(t.threadsV2[r])}}return e},o.toObject=function(t,e){e||(e={});var r={};if((e.arrays||e.defaults)&&(r.threads=[],r.threadsV2=[]),t.threads&&t.threads.length){r.threads=[];for(var d=0;d<t.threads.length;++d)r.threads[d]=t.threads[d]}if(t.threadsV2&&t.threadsV2.length)for(r.threadsV2=[],d=0;d<t.threadsV2.length;++d)r.threadsV2[d]=a.CommentsThreadDescriptor.toObject(t.threadsV2[d],e);return r},o.prototype.toJSON=function(){return this.constructor.toObject(this,_0x19253a.util.toJSONOptions)},o.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/CommentsV2GetDocumentThreadsResponse"},o})(),a.KeyValueDescriptor=(function(){function o(t){if(t)for(var e=Object.keys(t),r=0;r<e.length;++r)t[e[r]]!=null&&(this[e[r]]=t[e[r]])}return o.prototype.key="",o.prototype.value="",o.create=function(t){return new o(t)},o.encode=function(t,e){return e||(e=n.create()),t.key!=null&&Object.hasOwnProperty.call(t,"key")&&e.uint32(10).string(t.key),t.value!=null&&Object.hasOwnProperty.call(t,"value")&&e.uint32(18).string(t.value),e},o.encodeDelimited=function(t,e){return this.encode(t,e).ldelim()},o.decode=function(t,e,r){t instanceof c||(t=c.create(t));for(var d=e===void 0?t.len:t.pos+e,u=new a.KeyValueDescriptor;t.pos<d;){var l=t.uint32();if(l===r)break;switch(l>>>3){case 1:u.key=t.string();break;case 2:u.value=t.string();break;default:t.skipType(7&l)}}return u},o.decodeDelimited=function(t){return t instanceof c||(t=new c(t)),this.decode(t,t.uint32())},o.verify=function(t){return typeof t!="object"||t===null?"object expected":t.key!=null&&t.hasOwnProperty("key")&&!s.isString(t.key)?"key: string expected":t.value!=null&&t.hasOwnProperty("value")&&!s.isString(t.value)?"value: string expected":null},o.fromObject=function(t){if(t instanceof a.KeyValueDescriptor)return t;var e=new a.KeyValueDescriptor;return t.key!=null&&(e.key=String(t.key)),t.value!=null&&(e.value=String(t.value)),e},o.toObject=function(t,e){e||(e={});var r={};return e.defaults&&(r.key="",r.value=""),t.key!=null&&t.hasOwnProperty("key")&&(r.key=t.key),t.value!=null&&t.hasOwnProperty("value")&&(r.value=t.value),r},o.prototype.toJSON=function(){return this.constructor.toObject(this,_0x19253a.util.toJSONOptions)},o.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/KeyValueDescriptor"},o})(),a.IsEditorBundleUploadedMessage=(function(){function o(t){if(t)for(var e=Object.keys(t),r=0;r<e.length;++r)t[e[r]]!=null&&(this[e[r]]=t[e[r]])}return o.prototype.bundleVersion="",o.create=function(t){return new o(t)},o.encode=function(t,e){return e||(e=n.create()),t.bundleVersion!=null&&Object.hasOwnProperty.call(t,"bundleVersion")&&e.uint32(10).string(t.bundleVersion),e},o.encodeDelimited=function(t,e){return this.encode(t,e).ldelim()},o.decode=function(t,e,r){t instanceof c||(t=c.create(t));for(var d=e===void 0?t.len:t.pos+e,u=new a.IsEditorBundleUploadedMessage;t.pos<d;){var l=t.uint32();if(l===r)break;l>>>3==1?u.bundleVersion=t.string():t.skipType(7&l)}return u},o.decodeDelimited=function(t){return t instanceof c||(t=new c(t)),this.decode(t,t.uint32())},o.verify=function(t){return typeof t!="object"||t===null?"object expected":t.bundleVersion!=null&&t.hasOwnProperty("bundleVersion")&&!s.isString(t.bundleVersion)?"bundleVersion: string expected":null},o.fromObject=function(t){if(t instanceof a.IsEditorBundleUploadedMessage)return t;var e=new a.IsEditorBundleUploadedMessage;return t.bundleVersion!=null&&(e.bundleVersion=String(t.bundleVersion)),e},o.toObject=function(t,e){e||(e={});var r={};return e.defaults&&(r.bundleVersion=""),t.bundleVersion!=null&&t.hasOwnProperty("bundleVersion")&&(r.bundleVersion=t.bundleVersion),r},o.prototype.toJSON=function(){return this.constructor.toObject(this,_0x19253a.util.toJSONOptions)},o.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/IsEditorBundleUploadedMessage"},o})(),a.IsEditorBundleUploadedResponse=(function(){function o(t){if(t)for(var e=Object.keys(t),r=0;r<e.length;++r)t[e[r]]!=null&&(this[e[r]]=t[e[r]])}return o.prototype.isUploaded=!1,o.create=function(t){return new o(t)},o.encode=function(t,e){return e||(e=n.create()),t.isUploaded!=null&&Object.hasOwnProperty.call(t,"isUploaded")&&e.uint32(8).bool(t.isUploaded),e},o.encodeDelimited=function(t,e){return this.encode(t,e).ldelim()},o.decode=function(t,e,r){t instanceof c||(t=c.create(t));for(var d=e===void 0?t.len:t.pos+e,u=new a.IsEditorBundleUploadedResponse;t.pos<d;){var l=t.uint32();if(l===r)break;l>>>3==1?u.isUploaded=t.bool():t.skipType(7&l)}return u},o.decodeDelimited=function(t){return t instanceof c||(t=new c(t)),this.decode(t,t.uint32())},o.verify=function(t){return typeof t!="object"||t===null?"object expected":t.isUploaded!=null&&t.hasOwnProperty("isUploaded")&&typeof t.isUploaded!="boolean"?"isUploaded: boolean expected":null},o.fromObject=function(t){if(t instanceof a.IsEditorBundleUploadedResponse)return t;var e=new a.IsEditorBundleUploadedResponse;return t.isUploaded!=null&&(e.isUploaded=!!t.isUploaded),e},o.toObject=function(t,e){e||(e={});var r={};return e.defaults&&(r.isUploaded=!1),t.isUploaded!=null&&t.hasOwnProperty("isUploaded")&&(r.isUploaded=t.isUploaded),r},o.prototype.toJSON=function(){return this.constructor.toObject(this,_0x19253a.util.toJSONOptions)},o.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/IsEditorBundleUploadedResponse"},o})(),a.RevisionDescriptor=(function(){function o(t){if(t)for(var e=Object.keys(t),r=0;r<e.length;++r)t[e[r]]!=null&&(this[e[r]]=t[e[r]])}return o.prototype.revisionId="",o.prototype.name="",o.prototype.creatorId="",o.prototype.authorsIds="",o.prototype.diffData="",o.prototype.createdAt="",o.prototype.attributes="",o.prototype.toVersion=0,o.prototype.fromVersion=0,o.prototype.isEmptyCurrent=!1,o.create=function(t){return new o(t)},o.encode=function(t,e){return e||(e=n.create()),t.revisionId!=null&&Object.hasOwnProperty.call(t,"revisionId")&&e.uint32(10).string(t.revisionId),t.name!=null&&Object.hasOwnProperty.call(t,"name")&&e.uint32(18).string(t.name),t.creatorId!=null&&Object.hasOwnProperty.call(t,"creatorId")&&e.uint32(26).string(t.creatorId),t.authorsIds!=null&&Object.hasOwnProperty.call(t,"authorsIds")&&e.uint32(34).string(t.authorsIds),t.diffData!=null&&Object.hasOwnProperty.call(t,"diffData")&&e.uint32(42).string(t.diffData),t.createdAt!=null&&Object.hasOwnProperty.call(t,"createdAt")&&e.uint32(50).string(t.createdAt),t.attributes!=null&&Object.hasOwnProperty.call(t,"attributes")&&e.uint32(58).string(t.attributes),t.toVersion!=null&&Object.hasOwnProperty.call(t,"toVersion")&&e.uint32(64).uint32(t.toVersion),t.fromVersion!=null&&Object.hasOwnProperty.call(t,"fromVersion")&&e.uint32(72).uint32(t.fromVersion),t.isEmptyCurrent!=null&&Object.hasOwnProperty.call(t,"isEmptyCurrent")&&e.uint32(80).bool(t.isEmptyCurrent),e},o.encodeDelimited=function(t,e){return this.encode(t,e).ldelim()},o.decode=function(t,e,r){t instanceof c||(t=c.create(t));for(var d=e===void 0?t.len:t.pos+e,u=new a.RevisionDescriptor;t.pos<d;){var l=t.uint32();if(l===r)break;switch(l>>>3){case 1:u.revisionId=t.string();break;case 2:u.name=t.string();break;case 3:u.creatorId=t.string();break;case 4:u.authorsIds=t.string();break;case 5:u.diffData=t.string();break;case 6:u.createdAt=t.string();break;case 7:u.attributes=t.string();break;case 8:u.toVersion=t.uint32();break;case 9:u.fromVersion=t.uint32();break;case 10:u.isEmptyCurrent=t.bool();break;default:t.skipType(7&l)}}return u},o.decodeDelimited=function(t){return t instanceof c||(t=new c(t)),this.decode(t,t.uint32())},o.verify=function(t){return typeof t!="object"||t===null?"object expected":t.revisionId!=null&&t.hasOwnProperty("revisionId")&&!s.isString(t.revisionId)?"revisionId: string expected":t.name!=null&&t.hasOwnProperty("name")&&!s.isString(t.name)?"name: string expected":t.creatorId!=null&&t.hasOwnProperty("creatorId")&&!s.isString(t.creatorId)?"creatorId: string expected":t.authorsIds!=null&&t.hasOwnProperty("authorsIds")&&!s.isString(t.authorsIds)?"authorsIds: string expected":t.diffData!=null&&t.hasOwnProperty("diffData")&&!s.isString(t.diffData)?"diffData: string expected":t.createdAt!=null&&t.hasOwnProperty("createdAt")&&!s.isString(t.createdAt)?"createdAt: string expected":t.attributes!=null&&t.hasOwnProperty("attributes")&&!s.isString(t.attributes)?"attributes: string expected":t.toVersion!=null&&t.hasOwnProperty("toVersion")&&!s.isInteger(t.toVersion)?"toVersion: integer expected":t.fromVersion!=null&&t.hasOwnProperty("fromVersion")&&!s.isInteger(t.fromVersion)?"fromVersion: integer expected":t.isEmptyCurrent!=null&&t.hasOwnProperty("isEmptyCurrent")&&typeof t.isEmptyCurrent!="boolean"?"isEmptyCurrent: boolean expected":null},o.fromObject=function(t){if(t instanceof a.RevisionDescriptor)return t;var e=new a.RevisionDescriptor;return t.revisionId!=null&&(e.revisionId=String(t.revisionId)),t.name!=null&&(e.name=String(t.name)),t.creatorId!=null&&(e.creatorId=String(t.creatorId)),t.authorsIds!=null&&(e.authorsIds=String(t.authorsIds)),t.diffData!=null&&(e.diffData=String(t.diffData)),t.createdAt!=null&&(e.createdAt=String(t.createdAt)),t.attributes!=null&&(e.attributes=String(t.attributes)),t.toVersion!=null&&(e.toVersion=t.toVersion>>>0),t.fromVersion!=null&&(e.fromVersion=t.fromVersion>>>0),t.isEmptyCurrent!=null&&(e.isEmptyCurrent=!!t.isEmptyCurrent),e},o.toObject=function(t,e){e||(e={});var r={};return e.defaults&&(r.revisionId="",r.name="",r.creatorId="",r.authorsIds="",r.diffData="",r.createdAt="",r.attributes="",r.toVersion=0,r.fromVersion=0,r.isEmptyCurrent=!1),t.revisionId!=null&&t.hasOwnProperty("revisionId")&&(r.revisionId=t.revisionId),t.name!=null&&t.hasOwnProperty("name")&&(r.name=t.name),t.creatorId!=null&&t.hasOwnProperty("creatorId")&&(r.creatorId=t.creatorId),t.authorsIds!=null&&t.hasOwnProperty("authorsIds")&&(r.authorsIds=t.authorsIds),t.diffData!=null&&t.hasOwnProperty("diffData")&&(r.diffData=t.diffData),t.createdAt!=null&&t.hasOwnProperty("createdAt")&&(r.createdAt=t.createdAt),t.attributes!=null&&t.hasOwnProperty("attributes")&&(r.attributes=t.attributes),t.toVersion!=null&&t.hasOwnProperty("toVersion")&&(r.toVersion=t.toVersion),t.fromVersion!=null&&t.hasOwnProperty("fromVersion")&&(r.fromVersion=t.fromVersion),t.isEmptyCurrent!=null&&t.hasOwnProperty("isEmptyCurrent")&&(r.isEmptyCurrent=t.isEmptyCurrent),r},o.prototype.toJSON=function(){return this.constructor.toObject(this,_0x19253a.util.toJSONOptions)},o.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/RevisionDescriptor"},o})(),a.RevisionHistoryConnectMessage=(function(){function o(t){if(t)for(var e=Object.keys(t),r=0;r<e.length;++r)t[e[r]]!=null&&(this[e[r]]=t[e[r]])}return o.prototype.documentId="",o.create=function(t){return new o(t)},o.encode=function(t,e){return e||(e=n.create()),t.documentId!=null&&Object.hasOwnProperty.call(t,"documentId")&&e.uint32(10).string(t.documentId),e},o.encodeDelimited=function(t,e){return this.encode(t,e).ldelim()},o.decode=function(t,e,r){t instanceof c||(t=c.create(t));for(var d=e===void 0?t.len:t.pos+e,u=new a.RevisionHistoryConnectMessage;t.pos<d;){var l=t.uint32();if(l===r)break;l>>>3==1?u.documentId=t.string():t.skipType(7&l)}return u},o.decodeDelimited=function(t){return t instanceof c||(t=new c(t)),this.decode(t,t.uint32())},o.verify=function(t){return typeof t!="object"||t===null?"object expected":t.documentId!=null&&t.hasOwnProperty("documentId")&&!s.isString(t.documentId)?"documentId: string expected":null},o.fromObject=function(t){if(t instanceof a.RevisionHistoryConnectMessage)return t;var e=new a.RevisionHistoryConnectMessage;return t.documentId!=null&&(e.documentId=String(t.documentId)),e},o.toObject=function(t,e){e||(e={});var r={};return e.defaults&&(r.documentId=""),t.documentId!=null&&t.hasOwnProperty("documentId")&&(r.documentId=t.documentId),r},o.prototype.toJSON=function(){return this.constructor.toObject(this,_0x19253a.util.toJSONOptions)},o.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/RevisionHistoryConnectMessage"},o})(),a.RevisionHistoryGetRevisionMessage=(function(){function o(t){if(t)for(var e=Object.keys(t),r=0;r<e.length;++r)t[e[r]]!=null&&(this[e[r]]=t[e[r]])}return o.prototype.documentId="",o.prototype.revisionId="",o.create=function(t){return new o(t)},o.encode=function(t,e){return e||(e=n.create()),t.documentId!=null&&Object.hasOwnProperty.call(t,"documentId")&&e.uint32(10).string(t.documentId),t.revisionId!=null&&Object.hasOwnProperty.call(t,"revisionId")&&e.uint32(18).string(t.revisionId),e},o.encodeDelimited=function(t,e){return this.encode(t,e).ldelim()},o.decode=function(t,e,r){t instanceof c||(t=c.create(t));for(var d=e===void 0?t.len:t.pos+e,u=new a.RevisionHistoryGetRevisionMessage;t.pos<d;){var l=t.uint32();if(l===r)break;switch(l>>>3){case 1:u.documentId=t.string();break;case 2:u.revisionId=t.string();break;default:t.skipType(7&l)}}return u},o.decodeDelimited=function(t){return t instanceof c||(t=new c(t)),this.decode(t,t.uint32())},o.verify=function(t){return typeof t!="object"||t===null?"object expected":t.documentId!=null&&t.hasOwnProperty("documentId")&&!s.isString(t.documentId)?"documentId: string expected":t.revisionId!=null&&t.hasOwnProperty("revisionId")&&!s.isString(t.revisionId)?"revisionId: string expected":null},o.fromObject=function(t){if(t instanceof a.RevisionHistoryGetRevisionMessage)return t;var e=new a.RevisionHistoryGetRevisionMessage;return t.documentId!=null&&(e.documentId=String(t.documentId)),t.revisionId!=null&&(e.revisionId=String(t.revisionId)),e},o.toObject=function(t,e){e||(e={});var r={};return e.defaults&&(r.documentId="",r.revisionId=""),t.documentId!=null&&t.hasOwnProperty("documentId")&&(r.documentId=t.documentId),t.revisionId!=null&&t.hasOwnProperty("revisionId")&&(r.revisionId=t.revisionId),r},o.prototype.toJSON=function(){return this.constructor.toObject(this,_0x19253a.util.toJSONOptions)},o.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/RevisionHistoryGetRevisionMessage"},o})(),a.RevisionHistoryReconnectMessage=(function(){function o(t){if(t)for(var e=Object.keys(t),r=0;r<e.length;++r)t[e[r]]!=null&&(this[e[r]]=t[e[r]])}return o.prototype.documentId="",o.prototype.requestId=0,o.create=function(t){return new o(t)},o.encode=function(t,e){return e||(e=n.create()),t.documentId!=null&&Object.hasOwnProperty.call(t,"documentId")&&e.uint32(10).string(t.documentId),t.requestId!=null&&Object.hasOwnProperty.call(t,"requestId")&&e.uint32(16).uint32(t.requestId),e},o.encodeDelimited=function(t,e){return this.encode(t,e).ldelim()},o.decode=function(t,e,r){t instanceof c||(t=c.create(t));for(var d=e===void 0?t.len:t.pos+e,u=new a.RevisionHistoryReconnectMessage;t.pos<d;){var l=t.uint32();if(l===r)break;switch(l>>>3){case 1:u.documentId=t.string();break;case 2:u.requestId=t.uint32();break;default:t.skipType(7&l)}}return u},o.decodeDelimited=function(t){return t instanceof c||(t=new c(t)),this.decode(t,t.uint32())},o.verify=function(t){return typeof t!="object"||t===null?"object expected":t.documentId!=null&&t.hasOwnProperty("documentId")&&!s.isString(t.documentId)?"documentId: string expected":t.requestId!=null&&t.hasOwnProperty("requestId")&&!s.isInteger(t.requestId)?"requestId: integer expected":null},o.fromObject=function(t){if(t instanceof a.RevisionHistoryReconnectMessage)return t;var e=new a.RevisionHistoryReconnectMessage;return t.documentId!=null&&(e.documentId=String(t.documentId)),t.requestId!=null&&(e.requestId=t.requestId>>>0),e},o.toObject=function(t,e){e||(e={});var r={};return e.defaults&&(r.documentId="",r.requestId=0),t.documentId!=null&&t.hasOwnProperty("documentId")&&(r.documentId=t.documentId),t.requestId!=null&&t.hasOwnProperty("requestId")&&(r.requestId=t.requestId),r},o.prototype.toJSON=function(){return this.constructor.toObject(this,_0x19253a.util.toJSONOptions)},o.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/RevisionHistoryReconnectMessage"},o})(),a.RevisionHistoryUpdateRevisionsMessage=(function(){function o(t){if(this.revisions=[],t)for(var e=Object.keys(t),r=0;r<e.length;++r)t[e[r]]!=null&&(this[e[r]]=t[e[r]])}return o.prototype.documentId="",o.prototype.requestId=0,o.prototype.revisions=s.emptyArray,o.create=function(t){return new o(t)},o.encode=function(t,e){if(e||(e=n.create()),t.documentId!=null&&Object.hasOwnProperty.call(t,"documentId")&&e.uint32(10).string(t.documentId),t.requestId!=null&&Object.hasOwnProperty.call(t,"requestId")&&e.uint32(16).uint32(t.requestId),t.revisions!=null&&t.revisions.length)for(var r=0;r<t.revisions.length;++r)a.RevisionDescriptor.encode(t.revisions[r],e.uint32(26).fork()).ldelim();return e},o.encodeDelimited=function(t,e){return this.encode(t,e).ldelim()},o.decode=function(t,e,r){t instanceof c||(t=c.create(t));for(var d=e===void 0?t.len:t.pos+e,u=new a.RevisionHistoryUpdateRevisionsMessage;t.pos<d;){var l=t.uint32();if(l===r)break;switch(l>>>3){case 1:u.documentId=t.string();break;case 2:u.requestId=t.uint32();break;case 3:u.revisions&&u.revisions.length||(u.revisions=[]),u.revisions.push(a.RevisionDescriptor.decode(t,t.uint32()));break;default:t.skipType(7&l)}}return u},o.decodeDelimited=function(t){return t instanceof c||(t=new c(t)),this.decode(t,t.uint32())},o.verify=function(t){if(typeof t!="object"||t===null)return"object expected";if(t.documentId!=null&&t.hasOwnProperty("documentId")&&!s.isString(t.documentId))return"documentId: string expected";if(t.requestId!=null&&t.hasOwnProperty("requestId")&&!s.isInteger(t.requestId))return"requestId: integer expected";if(t.revisions!=null&&t.hasOwnProperty("revisions")){if(!Array.isArray(t.revisions))return"revisions: array expected";for(var e=0;e<t.revisions.length;++e){var r=a.RevisionDescriptor.verify(t.revisions[e]);if(r)return"revisions."+r}}return null},o.fromObject=function(t){if(t instanceof a.RevisionHistoryUpdateRevisionsMessage)return t;var e=new a.RevisionHistoryUpdateRevisionsMessage;if(t.documentId!=null&&(e.documentId=String(t.documentId)),t.requestId!=null&&(e.requestId=t.requestId>>>0),t.revisions){if(!Array.isArray(t.revisions))throw TypeError(".RevisionHistoryUpdateRevisionsMessage.revisions: array expected");e.revisions=[];for(var r=0;r<t.revisions.length;++r){if(typeof t.revisions[r]!="object")throw TypeError(".RevisionHistoryUpdateRevisionsMessage.revisions: object expected");e.revisions[r]=a.RevisionDescriptor.fromObject(t.revisions[r])}}return e},o.toObject=function(t,e){e||(e={});var r={};if((e.arrays||e.defaults)&&(r.revisions=[]),e.defaults&&(r.documentId="",r.requestId=0),t.documentId!=null&&t.hasOwnProperty("documentId")&&(r.documentId=t.documentId),t.requestId!=null&&t.hasOwnProperty("requestId")&&(r.requestId=t.requestId),t.revisions&&t.revisions.length){r.revisions=[];for(var d=0;d<t.revisions.length;++d)r.revisions[d]=a.RevisionDescriptor.toObject(t.revisions[d],e)}return r},o.prototype.toJSON=function(){return this.constructor.toObject(this,_0x19253a.util.toJSONOptions)},o.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/RevisionHistoryUpdateRevisionsMessage"},o})(),a.RevisionHistoryConnectResponse=(function(){function o(t){if(this.revisions=[],t)for(var e=Object.keys(t),r=0;r<e.length;++r)t[e[r]]!=null&&(this[e[r]]=t[e[r]])}return o.prototype.channel="",o.prototype.requestId=0,o.prototype.revisions=s.emptyArray,o.create=function(t){return new o(t)},o.encode=function(t,e){if(e||(e=n.create()),t.channel!=null&&Object.hasOwnProperty.call(t,"channel")&&e.uint32(10).string(t.channel),t.requestId!=null&&Object.hasOwnProperty.call(t,"requestId")&&e.uint32(16).uint32(t.requestId),t.revisions!=null&&t.revisions.length)for(var r=0;r<t.revisions.length;++r)a.RevisionDescriptor.encode(t.revisions[r],e.uint32(26).fork()).ldelim();return e},o.encodeDelimited=function(t,e){return this.encode(t,e).ldelim()},o.decode=function(t,e,r){t instanceof c||(t=c.create(t));for(var d=e===void 0?t.len:t.pos+e,u=new a.RevisionHistoryConnectResponse;t.pos<d;){var l=t.uint32();if(l===r)break;switch(l>>>3){case 1:u.channel=t.string();break;case 2:u.requestId=t.uint32();break;case 3:u.revisions&&u.revisions.length||(u.revisions=[]),u.revisions.push(a.RevisionDescriptor.decode(t,t.uint32()));break;default:t.skipType(7&l)}}return u},o.decodeDelimited=function(t){return t instanceof c||(t=new c(t)),this.decode(t,t.uint32())},o.verify=function(t){if(typeof t!="object"||t===null)return"object expected";if(t.channel!=null&&t.hasOwnProperty("channel")&&!s.isString(t.channel))return"channel: string expected";if(t.requestId!=null&&t.hasOwnProperty("requestId")&&!s.isInteger(t.requestId))return"requestId: integer expected";if(t.revisions!=null&&t.hasOwnProperty("revisions")){if(!Array.isArray(t.revisions))return"revisions: array expected";for(var e=0;e<t.revisions.length;++e){var r=a.RevisionDescriptor.verify(t.revisions[e]);if(r)return"revisions."+r}}return null},o.fromObject=function(t){if(t instanceof a.RevisionHistoryConnectResponse)return t;var e=new a.RevisionHistoryConnectResponse;if(t.channel!=null&&(e.channel=String(t.channel)),t.requestId!=null&&(e.requestId=t.requestId>>>0),t.revisions){if(!Array.isArray(t.revisions))throw TypeError(".RevisionHistoryConnectResponse.revisions: array expected");e.revisions=[];for(var r=0;r<t.revisions.length;++r){if(typeof t.revisions[r]!="object")throw TypeError(".RevisionHistoryConnectResponse.revisions: object expected");e.revisions[r]=a.RevisionDescriptor.fromObject(t.revisions[r])}}return e},o.toObject=function(t,e){e||(e={});var r={};if((e.arrays||e.defaults)&&(r.revisions=[]),e.defaults&&(r.channel="",r.requestId=0),t.channel!=null&&t.hasOwnProperty("channel")&&(r.channel=t.channel),t.requestId!=null&&t.hasOwnProperty("requestId")&&(r.requestId=t.requestId),t.revisions&&t.revisions.length){r.revisions=[];for(var d=0;d<t.revisions.length;++d)r.revisions[d]=a.RevisionDescriptor.toObject(t.revisions[d],e)}return r},o.prototype.toJSON=function(){return this.constructor.toObject(this,_0x19253a.util.toJSONOptions)},o.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/RevisionHistoryConnectResponse"},o})(),a.RevisionHistoryGetRevisionResponse=(function(){function o(t){if(t)for(var e=Object.keys(t),r=0;r<e.length;++r)t[e[r]]!=null&&(this[e[r]]=t[e[r]])}return o.prototype.revisionId="",o.prototype.name="",o.prototype.creatorId="",o.prototype.authorsIds="",o.prototype.diffData="",o.prototype.createdAt="",o.prototype.attributes="",o.prototype.toVersion=0,o.prototype.fromVersion=0,o.prototype.isEmptyCurrent=!1,o.create=function(t){return new o(t)},o.encode=function(t,e){return e||(e=n.create()),t.revisionId!=null&&Object.hasOwnProperty.call(t,"revisionId")&&e.uint32(10).string(t.revisionId),t.name!=null&&Object.hasOwnProperty.call(t,"name")&&e.uint32(18).string(t.name),t.creatorId!=null&&Object.hasOwnProperty.call(t,"creatorId")&&e.uint32(26).string(t.creatorId),t.authorsIds!=null&&Object.hasOwnProperty.call(t,"authorsIds")&&e.uint32(34).string(t.authorsIds),t.diffData!=null&&Object.hasOwnProperty.call(t,"diffData")&&e.uint32(42).string(t.diffData),t.createdAt!=null&&Object.hasOwnProperty.call(t,"createdAt")&&e.uint32(50).string(t.createdAt),t.attributes!=null&&Object.hasOwnProperty.call(t,"attributes")&&e.uint32(58).string(t.attributes),t.toVersion!=null&&Object.hasOwnProperty.call(t,"toVersion")&&e.uint32(64).uint32(t.toVersion),t.fromVersion!=null&&Object.hasOwnProperty.call(t,"fromVersion")&&e.uint32(72).uint32(t.fromVersion),t.isEmptyCurrent!=null&&Object.hasOwnProperty.call(t,"isEmptyCurrent")&&e.uint32(80).bool(t.isEmptyCurrent),e},o.encodeDelimited=function(t,e){return this.encode(t,e).ldelim()},o.decode=function(t,e,r){t instanceof c||(t=c.create(t));for(var d=e===void 0?t.len:t.pos+e,u=new a.RevisionHistoryGetRevisionResponse;t.pos<d;){var l=t.uint32();if(l===r)break;switch(l>>>3){case 1:u.revisionId=t.string();break;case 2:u.name=t.string();break;case 3:u.creatorId=t.string();break;case 4:u.authorsIds=t.string();break;case 5:u.diffData=t.string();break;case 6:u.createdAt=t.string();break;case 7:u.attributes=t.string();break;case 8:u.toVersion=t.uint32();break;case 9:u.fromVersion=t.uint32();break;case 10:u.isEmptyCurrent=t.bool();break;default:t.skipType(7&l)}}return u},o.decodeDelimited=function(t){return t instanceof c||(t=new c(t)),this.decode(t,t.uint32())},o.verify=function(t){return typeof t!="object"||t===null?"object expected":t.revisionId!=null&&t.hasOwnProperty("revisionId")&&!s.isString(t.revisionId)?"revisionId: string expected":t.name!=null&&t.hasOwnProperty("name")&&!s.isString(t.name)?"name: string expected":t.creatorId!=null&&t.hasOwnProperty("creatorId")&&!s.isString(t.creatorId)?"creatorId: string expected":t.authorsIds!=null&&t.hasOwnProperty("authorsIds")&&!s.isString(t.authorsIds)?"authorsIds: string expected":t.diffData!=null&&t.hasOwnProperty("diffData")&&!s.isString(t.diffData)?"diffData: string expected":t.createdAt!=null&&t.hasOwnProperty("createdAt")&&!s.isString(t.createdAt)?"createdAt: string expected":t.attributes!=null&&t.hasOwnProperty("attributes")&&!s.isString(t.attributes)?"attributes: string expected":t.toVersion!=null&&t.hasOwnProperty("toVersion")&&!s.isInteger(t.toVersion)?"toVersion: integer expected":t.fromVersion!=null&&t.hasOwnProperty("fromVersion")&&!s.isInteger(t.fromVersion)?"fromVersion: integer expected":t.isEmptyCurrent!=null&&t.hasOwnProperty("isEmptyCurrent")&&typeof t.isEmptyCurrent!="boolean"?"isEmptyCurrent: boolean expected":null},o.fromObject=function(t){if(t instanceof a.RevisionHistoryGetRevisionResponse)return t;var e=new a.RevisionHistoryGetRevisionResponse;return t.revisionId!=null&&(e.revisionId=String(t.revisionId)),t.name!=null&&(e.name=String(t.name)),t.creatorId!=null&&(e.creatorId=String(t.creatorId)),t.authorsIds!=null&&(e.authorsIds=String(t.authorsIds)),t.diffData!=null&&(e.diffData=String(t.diffData)),t.createdAt!=null&&(e.createdAt=String(t.createdAt)),t.attributes!=null&&(e.attributes=String(t.attributes)),t.toVersion!=null&&(e.toVersion=t.toVersion>>>0),t.fromVersion!=null&&(e.fromVersion=t.fromVersion>>>0),t.isEmptyCurrent!=null&&(e.isEmptyCurrent=!!t.isEmptyCurrent),e},o.toObject=function(t,e){e||(e={});var r={};return e.defaults&&(r.revisionId="",r.name="",r.creatorId="",r.authorsIds="",r.diffData="",r.createdAt="",r.attributes="",r.toVersion=0,r.fromVersion=0,r.isEmptyCurrent=!1),t.revisionId!=null&&t.hasOwnProperty("revisionId")&&(r.revisionId=t.revisionId),t.name!=null&&t.hasOwnProperty("name")&&(r.name=t.name),t.creatorId!=null&&t.hasOwnProperty("creatorId")&&(r.creatorId=t.creatorId),t.authorsIds!=null&&t.hasOwnProperty("authorsIds")&&(r.authorsIds=t.authorsIds),t.diffData!=null&&t.hasOwnProperty("diffData")&&(r.diffData=t.diffData),t.createdAt!=null&&t.hasOwnProperty("createdAt")&&(r.createdAt=t.createdAt),t.attributes!=null&&t.hasOwnProperty("attributes")&&(r.attributes=t.attributes),t.toVersion!=null&&t.hasOwnProperty("toVersion")&&(r.toVersion=t.toVersion),t.fromVersion!=null&&t.hasOwnProperty("fromVersion")&&(r.fromVersion=t.fromVersion),t.isEmptyCurrent!=null&&t.hasOwnProperty("isEmptyCurrent")&&(r.isEmptyCurrent=t.isEmptyCurrent),r},o.prototype.toJSON=function(){return this.constructor.toObject(this,_0x19253a.util.toJSONOptions)},o.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/RevisionHistoryGetRevisionResponse"},o})(),a.RevisionHistoryUpdateRevisionsResponse=(function(){function o(t){if(t)for(var e=Object.keys(t),r=0;r<e.length;++r)t[e[r]]!=null&&(this[e[r]]=t[e[r]])}return o.prototype.requestId=0,o.create=function(t){return new o(t)},o.encode=function(t,e){return e||(e=n.create()),t.requestId!=null&&Object.hasOwnProperty.call(t,"requestId")&&e.uint32(8).uint32(t.requestId),e},o.encodeDelimited=function(t,e){return this.encode(t,e).ldelim()},o.decode=function(t,e,r){t instanceof c||(t=c.create(t));for(var d=e===void 0?t.len:t.pos+e,u=new a.RevisionHistoryUpdateRevisionsResponse;t.pos<d;){var l=t.uint32();if(l===r)break;l>>>3==1?u.requestId=t.uint32():t.skipType(7&l)}return u},o.decodeDelimited=function(t){return t instanceof c||(t=new c(t)),this.decode(t,t.uint32())},o.verify=function(t){return typeof t!="object"||t===null?"object expected":t.requestId!=null&&t.hasOwnProperty("requestId")&&!s.isInteger(t.requestId)?"requestId: integer expected":null},o.fromObject=function(t){if(t instanceof a.RevisionHistoryUpdateRevisionsResponse)return t;var e=new a.RevisionHistoryUpdateRevisionsResponse;return t.requestId!=null&&(e.requestId=t.requestId>>>0),e},o.toObject=function(t,e){e||(e={});var r={};return e.defaults&&(r.requestId=0),t.requestId!=null&&t.hasOwnProperty("requestId")&&(r.requestId=t.requestId),r},o.prototype.toJSON=function(){return this.constructor.toObject(this,_0x19253a.util.toJSONOptions)},o.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/RevisionHistoryUpdateRevisionsResponse"},o})(),a.SessionsSocketDescriptor=(function(){function o(t){if(this.permissions=[],t)for(var e=Object.keys(t),r=0;r<e.length;++r)t[e[r]]!=null&&(this[e[r]]=t[e[r]])}return o.prototype.session="",o.prototype.user="",o.prototype.role="",o.prototype.permissions=s.emptyArray,o.create=function(t){return new o(t)},o.encode=function(t,e){if(e||(e=n.create()),t.session!=null&&Object.hasOwnProperty.call(t,"session")&&e.uint32(10).string(t.session),t.user!=null&&Object.hasOwnProperty.call(t,"user")&&e.uint32(18).string(t.user),t.role!=null&&Object.hasOwnProperty.call(t,"role")&&e.uint32(26).string(t.role),t.permissions!=null&&t.permissions.length)for(var r=0;r<t.permissions.length;++r)e.uint32(34).string(t.permissions[r]);return e},o.encodeDelimited=function(t,e){return this.encode(t,e).ldelim()},o.decode=function(t,e,r){t instanceof c||(t=c.create(t));for(var d=e===void 0?t.len:t.pos+e,u=new a.SessionsSocketDescriptor;t.pos<d;){var l=t.uint32();if(l===r)break;switch(l>>>3){case 1:u.session=t.string();break;case 2:u.user=t.string();break;case 3:u.role=t.string();break;case 4:u.permissions&&u.permissions.length||(u.permissions=[]),u.permissions.push(t.string());break;default:t.skipType(7&l)}}return u},o.decodeDelimited=function(t){return t instanceof c||(t=new c(t)),this.decode(t,t.uint32())},o.verify=function(t){if(typeof t!="object"||t===null)return"object expected";if(t.session!=null&&t.hasOwnProperty("session")&&!s.isString(t.session))return"session: string expected";if(t.user!=null&&t.hasOwnProperty("user")&&!s.isString(t.user))return"user: string expected";if(t.role!=null&&t.hasOwnProperty("role")&&!s.isString(t.role))return"role: string expected";if(t.permissions!=null&&t.hasOwnProperty("permissions")){if(!Array.isArray(t.permissions))return"permissions: array expected";for(var e=0;e<t.permissions.length;++e)if(!s.isString(t.permissions[e]))return"permissions: string[] expected"}return null},o.fromObject=function(t){if(t instanceof a.SessionsSocketDescriptor)return t;var e=new a.SessionsSocketDescriptor;if(t.session!=null&&(e.session=String(t.session)),t.user!=null&&(e.user=String(t.user)),t.role!=null&&(e.role=String(t.role)),t.permissions){if(!Array.isArray(t.permissions))throw TypeError(".SessionsSocketDescriptor.permissions: array expected");e.permissions=[];for(var r=0;r<t.permissions.length;++r)e.permissions[r]=String(t.permissions[r])}return e},o.toObject=function(t,e){e||(e={});var r={};if((e.arrays||e.defaults)&&(r.permissions=[]),e.defaults&&(r.session="",r.user="",r.role=""),t.session!=null&&t.hasOwnProperty("session")&&(r.session=t.session),t.user!=null&&t.hasOwnProperty("user")&&(r.user=t.user),t.role!=null&&t.hasOwnProperty("role")&&(r.role=t.role),t.permissions&&t.permissions.length){r.permissions=[];for(var d=0;d<t.permissions.length;++d)r.permissions[d]=t.permissions[d]}return r},o.prototype.toJSON=function(){return this.constructor.toObject(this,_0x19253a.util.toJSONOptions)},o.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/SessionsSocketDescriptor"},o})(),a.SessionsConnectMessage=(function(){function o(t){if(t)for(var e=Object.keys(t),r=0;r<e.length;++r)t[e[r]]!=null&&(this[e[r]]=t[e[r]])}return o.prototype.id="",o.prototype.sessionType=0,o.create=function(t){return new o(t)},o.encode=function(t,e){return e||(e=n.create()),t.id!=null&&Object.hasOwnProperty.call(t,"id")&&e.uint32(10).string(t.id),t.sessionType!=null&&Object.hasOwnProperty.call(t,"sessionType")&&e.uint32(16).uint32(t.sessionType),e},o.encodeDelimited=function(t,e){return this.encode(t,e).ldelim()},o.decode=function(t,e,r){t instanceof c||(t=c.create(t));for(var d=e===void 0?t.len:t.pos+e,u=new a.SessionsConnectMessage;t.pos<d;){var l=t.uint32();if(l===r)break;switch(l>>>3){case 1:u.id=t.string();break;case 2:u.sessionType=t.uint32();break;default:t.skipType(7&l)}}return u},o.decodeDelimited=function(t){return t instanceof c||(t=new c(t)),this.decode(t,t.uint32())},o.verify=function(t){return typeof t!="object"||t===null?"object expected":t.id!=null&&t.hasOwnProperty("id")&&!s.isString(t.id)?"id: string expected":t.sessionType!=null&&t.hasOwnProperty("sessionType")&&!s.isInteger(t.sessionType)?"sessionType: integer expected":null},o.fromObject=function(t){if(t instanceof a.SessionsConnectMessage)return t;var e=new a.SessionsConnectMessage;return t.id!=null&&(e.id=String(t.id)),t.sessionType!=null&&(e.sessionType=t.sessionType>>>0),e},o.toObject=function(t,e){e||(e={});var r={};return e.defaults&&(r.id="",r.sessionType=0),t.id!=null&&t.hasOwnProperty("id")&&(r.id=t.id),t.sessionType!=null&&t.hasOwnProperty("sessionType")&&(r.sessionType=t.sessionType),r},o.prototype.toJSON=function(){return this.constructor.toObject(this,_0x19253a.util.toJSONOptions)},o.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/SessionsConnectMessage"},o})(),a.SocketConnectMessage=(function(){function o(t){if(this.permissions=[],t)for(var e=Object.keys(t),r=0;r<e.length;++r)t[e[r]]!=null&&(this[e[r]]=t[e[r]])}return o.prototype.id="",o.prototype.userId="",o.prototype.role="",o.prototype.permissions=s.emptyArray,o.create=function(t){return new o(t)},o.encode=function(t,e){if(e||(e=n.create()),t.id!=null&&Object.hasOwnProperty.call(t,"id")&&e.uint32(10).string(t.id),t.userId!=null&&Object.hasOwnProperty.call(t,"userId")&&e.uint32(18).string(t.userId),t.role!=null&&Object.hasOwnProperty.call(t,"role")&&e.uint32(26).string(t.role),t.permissions!=null&&t.permissions.length)for(var r=0;r<t.permissions.length;++r)e.uint32(34).string(t.permissions[r]);return e},o.encodeDelimited=function(t,e){return this.encode(t,e).ldelim()},o.decode=function(t,e,r){t instanceof c||(t=c.create(t));for(var d=e===void 0?t.len:t.pos+e,u=new a.SocketConnectMessage;t.pos<d;){var l=t.uint32();if(l===r)break;switch(l>>>3){case 1:u.id=t.string();break;case 2:u.userId=t.string();break;case 3:u.role=t.string();break;case 4:u.permissions&&u.permissions.length||(u.permissions=[]),u.permissions.push(t.string());break;default:t.skipType(7&l)}}return u},o.decodeDelimited=function(t){return t instanceof c||(t=new c(t)),this.decode(t,t.uint32())},o.verify=function(t){if(typeof t!="object"||t===null)return"object expected";if(t.id!=null&&t.hasOwnProperty("id")&&!s.isString(t.id))return"id: string expected";if(t.userId!=null&&t.hasOwnProperty("userId")&&!s.isString(t.userId))return"userId: string expected";if(t.role!=null&&t.hasOwnProperty("role")&&!s.isString(t.role))return"role: string expected";if(t.permissions!=null&&t.hasOwnProperty("permissions")){if(!Array.isArray(t.permissions))return"permissions: array expected";for(var e=0;e<t.permissions.length;++e)if(!s.isString(t.permissions[e]))return"permissions: string[] expected"}return null},o.fromObject=function(t){if(t instanceof a.SocketConnectMessage)return t;var e=new a.SocketConnectMessage;if(t.id!=null&&(e.id=String(t.id)),t.userId!=null&&(e.userId=String(t.userId)),t.role!=null&&(e.role=String(t.role)),t.permissions){if(!Array.isArray(t.permissions))throw TypeError(".SocketConnectMessage.permissions: array expected");e.permissions=[];for(var r=0;r<t.permissions.length;++r)e.permissions[r]=String(t.permissions[r])}return e},o.toObject=function(t,e){e||(e={});var r={};if((e.arrays||e.defaults)&&(r.permissions=[]),e.defaults&&(r.id="",r.userId="",r.role=""),t.id!=null&&t.hasOwnProperty("id")&&(r.id=t.id),t.userId!=null&&t.hasOwnProperty("userId")&&(r.userId=t.userId),t.role!=null&&t.hasOwnProperty("role")&&(r.role=t.role),t.permissions&&t.permissions.length){r.permissions=[];for(var d=0;d<t.permissions.length;++d)r.permissions[d]=t.permissions[d]}return r},o.prototype.toJSON=function(){return this.constructor.toObject(this,_0x19253a.util.toJSONOptions)},o.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/SocketConnectMessage"},o})(),a.SocketDisconnectMessage=(function(){function o(t){if(t)for(var e=Object.keys(t),r=0;r<e.length;++r)t[e[r]]!=null&&(this[e[r]]=t[e[r]])}return o.prototype.id="",o.create=function(t){return new o(t)},o.encode=function(t,e){return e||(e=n.create()),t.id!=null&&Object.hasOwnProperty.call(t,"id")&&e.uint32(10).string(t.id),e},o.encodeDelimited=function(t,e){return this.encode(t,e).ldelim()},o.decode=function(t,e,r){t instanceof c||(t=c.create(t));for(var d=e===void 0?t.len:t.pos+e,u=new a.SocketDisconnectMessage;t.pos<d;){var l=t.uint32();if(l===r)break;l>>>3==1?u.id=t.string():t.skipType(7&l)}return u},o.decodeDelimited=function(t){return t instanceof c||(t=new c(t)),this.decode(t,t.uint32())},o.verify=function(t){return typeof t!="object"||t===null?"object expected":t.id!=null&&t.hasOwnProperty("id")&&!s.isString(t.id)?"id: string expected":null},o.fromObject=function(t){if(t instanceof a.SocketDisconnectMessage)return t;var e=new a.SocketDisconnectMessage;return t.id!=null&&(e.id=String(t.id)),e},o.toObject=function(t,e){e||(e={});var r={};return e.defaults&&(r.id=""),t.id!=null&&t.hasOwnProperty("id")&&(r.id=t.id),r},o.prototype.toJSON=function(){return this.constructor.toObject(this,_0x19253a.util.toJSONOptions)},o.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/SocketDisconnectMessage"},o})(),a.SessionsConnectResponse=(function(){function o(t){if(this.sockets=[],t)for(var e=Object.keys(t),r=0;r<e.length;++r)t[e[r]]!=null&&(this[e[r]]=t[e[r]])}return o.prototype.channel="",o.prototype.sockets=s.emptyArray,o.create=function(t){return new o(t)},o.encode=function(t,e){if(e||(e=n.create()),t.channel!=null&&Object.hasOwnProperty.call(t,"channel")&&e.uint32(10).string(t.channel),t.sockets!=null&&t.sockets.length)for(var r=0;r<t.sockets.length;++r)a.SessionsSocketDescriptor.encode(t.sockets[r],e.uint32(18).fork()).ldelim();return e},o.encodeDelimited=function(t,e){return this.encode(t,e).ldelim()},o.decode=function(t,e,r){t instanceof c||(t=c.create(t));for(var d=e===void 0?t.len:t.pos+e,u=new a.SessionsConnectResponse;t.pos<d;){var l=t.uint32();if(l===r)break;switch(l>>>3){case 1:u.channel=t.string();break;case 2:u.sockets&&u.sockets.length||(u.sockets=[]),u.sockets.push(a.SessionsSocketDescriptor.decode(t,t.uint32()));break;default:t.skipType(7&l)}}return u},o.decodeDelimited=function(t){return t instanceof c||(t=new c(t)),this.decode(t,t.uint32())},o.verify=function(t){if(typeof t!="object"||t===null)return"object expected";if(t.channel!=null&&t.hasOwnProperty("channel")&&!s.isString(t.channel))return"channel: string expected";if(t.sockets!=null&&t.hasOwnProperty("sockets")){if(!Array.isArray(t.sockets))return"sockets: array expected";for(var e=0;e<t.sockets.length;++e){var r=a.SessionsSocketDescriptor.verify(t.sockets[e]);if(r)return"sockets."+r}}return null},o.fromObject=function(t){if(t instanceof a.SessionsConnectResponse)return t;var e=new a.SessionsConnectResponse;if(t.channel!=null&&(e.channel=String(t.channel)),t.sockets){if(!Array.isArray(t.sockets))throw TypeError(".SessionsConnectResponse.sockets: array expected");e.sockets=[];for(var r=0;r<t.sockets.length;++r){if(typeof t.sockets[r]!="object")throw TypeError(".SessionsConnectResponse.sockets: object expected");e.sockets[r]=a.SessionsSocketDescriptor.fromObject(t.sockets[r])}}return e},o.toObject=function(t,e){e||(e={});var r={};if((e.arrays||e.defaults)&&(r.sockets=[]),e.defaults&&(r.channel=""),t.channel!=null&&t.hasOwnProperty("channel")&&(r.channel=t.channel),t.sockets&&t.sockets.length){r.sockets=[];for(var d=0;d<t.sockets.length;++d)r.sockets[d]=a.SessionsSocketDescriptor.toObject(t.sockets[d],e)}return r},o.prototype.toJSON=function(){return this.constructor.toObject(this,_0x19253a.util.toJSONOptions)},o.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/SessionsConnectResponse"},o})(),a.SuggestionDescriptor=(function(){function o(t){if(t)for(var e=Object.keys(t),r=0;r<e.length;++r)t[e[r]]!=null&&(this[e[r]]=t[e[r]])}return o.prototype.id="",o.prototype.authorId="",o.prototype.type="",o.prototype.createdAt="",o.prototype.data="",o.prototype.hasComments=!1,o.prototype.state="",o.prototype.attributes="",o.create=function(t){return new o(t)},o.encode=function(t,e){return e||(e=n.create()),t.id!=null&&Object.hasOwnProperty.call(t,"id")&&e.uint32(10).string(t.id),t.authorId!=null&&Object.hasOwnProperty.call(t,"authorId")&&e.uint32(18).string(t.authorId),t.type!=null&&Object.hasOwnProperty.call(t,"type")&&e.uint32(26).string(t.type),t.createdAt!=null&&Object.hasOwnProperty.call(t,"createdAt")&&e.uint32(34).string(t.createdAt),t.data!=null&&Object.hasOwnProperty.call(t,"data")&&e.uint32(42).string(t.data),t.hasComments!=null&&Object.hasOwnProperty.call(t,"hasComments")&&e.uint32(48).bool(t.hasComments),t.state!=null&&Object.hasOwnProperty.call(t,"state")&&e.uint32(58).string(t.state),t.attributes!=null&&Object.hasOwnProperty.call(t,"attributes")&&e.uint32(66).string(t.attributes),e},o.encodeDelimited=function(t,e){return this.encode(t,e).ldelim()},o.decode=function(t,e,r){t instanceof c||(t=c.create(t));for(var d=e===void 0?t.len:t.pos+e,u=new a.SuggestionDescriptor;t.pos<d;){var l=t.uint32();if(l===r)break;switch(l>>>3){case 1:u.id=t.string();break;case 2:u.authorId=t.string();break;case 3:u.type=t.string();break;case 4:u.createdAt=t.string();break;case 5:u.data=t.string();break;case 6:u.hasComments=t.bool();break;case 7:u.state=t.string();break;case 8:u.attributes=t.string();break;default:t.skipType(7&l)}}return u},o.decodeDelimited=function(t){return t instanceof c||(t=new c(t)),this.decode(t,t.uint32())},o.verify=function(t){return typeof t!="object"||t===null?"object expected":t.id!=null&&t.hasOwnProperty("id")&&!s.isString(t.id)?"id: string expected":t.authorId!=null&&t.hasOwnProperty("authorId")&&!s.isString(t.authorId)?"authorId: string expected":t.type!=null&&t.hasOwnProperty("type")&&!s.isString(t.type)?"type: string expected":t.createdAt!=null&&t.hasOwnProperty("createdAt")&&!s.isString(t.createdAt)?"createdAt: string expected":t.data!=null&&t.hasOwnProperty("data")&&!s.isString(t.data)?"data: string expected":t.hasComments!=null&&t.hasOwnProperty("hasComments")&&typeof t.hasComments!="boolean"?"hasComments: boolean expected":t.state!=null&&t.hasOwnProperty("state")&&!s.isString(t.state)?"state: string expected":t.attributes!=null&&t.hasOwnProperty("attributes")&&!s.isString(t.attributes)?"attributes: string expected":null},o.fromObject=function(t){if(t instanceof a.SuggestionDescriptor)return t;var e=new a.SuggestionDescriptor;return t.id!=null&&(e.id=String(t.id)),t.authorId!=null&&(e.authorId=String(t.authorId)),t.type!=null&&(e.type=String(t.type)),t.createdAt!=null&&(e.createdAt=String(t.createdAt)),t.data!=null&&(e.data=String(t.data)),t.hasComments!=null&&(e.hasComments=!!t.hasComments),t.state!=null&&(e.state=String(t.state)),t.attributes!=null&&(e.attributes=String(t.attributes)),e},o.toObject=function(t,e){e||(e={});var r={};return e.defaults&&(r.id="",r.authorId="",r.type="",r.createdAt="",r.data="",r.hasComments=!1,r.state="",r.attributes=""),t.id!=null&&t.hasOwnProperty("id")&&(r.id=t.id),t.authorId!=null&&t.hasOwnProperty("authorId")&&(r.authorId=t.authorId),t.type!=null&&t.hasOwnProperty("type")&&(r.type=t.type),t.createdAt!=null&&t.hasOwnProperty("createdAt")&&(r.createdAt=t.createdAt),t.data!=null&&t.hasOwnProperty("data")&&(r.data=t.data),t.hasComments!=null&&t.hasOwnProperty("hasComments")&&(r.hasComments=t.hasComments),t.state!=null&&t.hasOwnProperty("state")&&(r.state=t.state),t.attributes!=null&&t.hasOwnProperty("attributes")&&(r.attributes=t.attributes),r},o.prototype.toJSON=function(){return this.constructor.toObject(this,_0x19253a.util.toJSONOptions)},o.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/SuggestionDescriptor"},o})(),a.TrackChangesAddSuggestionMessage=(function(){function o(t){if(t)for(var e=Object.keys(t),r=0;r<e.length;++r)t[e[r]]!=null&&(this[e[r]]=t[e[r]])}return o.prototype.id="",o.prototype.documentId="",o.prototype.type="",o.prototype.data="",o.prototype.originalSuggestionId="",o.prototype.attributes="",o.create=function(t){return new o(t)},o.encode=function(t,e){return e||(e=n.create()),t.id!=null&&Object.hasOwnProperty.call(t,"id")&&e.uint32(10).string(t.id),t.documentId!=null&&Object.hasOwnProperty.call(t,"documentId")&&e.uint32(18).string(t.documentId),t.type!=null&&Object.hasOwnProperty.call(t,"type")&&e.uint32(26).string(t.type),t.data!=null&&Object.hasOwnProperty.call(t,"data")&&e.uint32(34).string(t.data),t.originalSuggestionId!=null&&Object.hasOwnProperty.call(t,"originalSuggestionId")&&e.uint32(42).string(t.originalSuggestionId),t.attributes!=null&&Object.hasOwnProperty.call(t,"attributes")&&e.uint32(50).string(t.attributes),e},o.encodeDelimited=function(t,e){return this.encode(t,e).ldelim()},o.decode=function(t,e,r){t instanceof c||(t=c.create(t));for(var d=e===void 0?t.len:t.pos+e,u=new a.TrackChangesAddSuggestionMessage;t.pos<d;){var l=t.uint32();if(l===r)break;switch(l>>>3){case 1:u.id=t.string();break;case 2:u.documentId=t.string();break;case 3:u.type=t.string();break;case 4:u.data=t.string();break;case 5:u.originalSuggestionId=t.string();break;case 6:u.attributes=t.string();break;default:t.skipType(7&l)}}return u},o.decodeDelimited=function(t){return t instanceof c||(t=new c(t)),this.decode(t,t.uint32())},o.verify=function(t){return typeof t!="object"||t===null?"object expected":t.id!=null&&t.hasOwnProperty("id")&&!s.isString(t.id)?"id: string expected":t.documentId!=null&&t.hasOwnProperty("documentId")&&!s.isString(t.documentId)?"documentId: string expected":t.type!=null&&t.hasOwnProperty("type")&&!s.isString(t.type)?"type: string expected":t.data!=null&&t.hasOwnProperty("data")&&!s.isString(t.data)?"data: string expected":t.originalSuggestionId!=null&&t.hasOwnProperty("originalSuggestionId")&&!s.isString(t.originalSuggestionId)?"originalSuggestionId: string expected":t.attributes!=null&&t.hasOwnProperty("attributes")&&!s.isString(t.attributes)?"attributes: string expected":null},o.fromObject=function(t){if(t instanceof a.TrackChangesAddSuggestionMessage)return t;var e=new a.TrackChangesAddSuggestionMessage;return t.id!=null&&(e.id=String(t.id)),t.documentId!=null&&(e.documentId=String(t.documentId)),t.type!=null&&(e.type=String(t.type)),t.data!=null&&(e.data=String(t.data)),t.originalSuggestionId!=null&&(e.originalSuggestionId=String(t.originalSuggestionId)),t.attributes!=null&&(e.attributes=String(t.attributes)),e},o.toObject=function(t,e){e||(e={});var r={};return e.defaults&&(r.id="",r.documentId="",r.type="",r.data="",r.originalSuggestionId="",r.attributes=""),t.id!=null&&t.hasOwnProperty("id")&&(r.id=t.id),t.documentId!=null&&t.hasOwnProperty("documentId")&&(r.documentId=t.documentId),t.type!=null&&t.hasOwnProperty("type")&&(r.type=t.type),t.data!=null&&t.hasOwnProperty("data")&&(r.data=t.data),t.originalSuggestionId!=null&&t.hasOwnProperty("originalSuggestionId")&&(r.originalSuggestionId=t.originalSuggestionId),t.attributes!=null&&t.hasOwnProperty("attributes")&&(r.attributes=t.attributes),r},o.prototype.toJSON=function(){return this.constructor.toObject(this,_0x19253a.util.toJSONOptions)},o.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/TrackChangesAddSuggestionMessage"},o})(),a.TrackChangesBatchUpdateSuggestionsStateMessage=(function(){function o(t){if(this.ids=[],t)for(var e=Object.keys(t),r=0;r<e.length;++r)t[e[r]]!=null&&(this[e[r]]=t[e[r]])}return o.prototype.ids=s.emptyArray,o.prototype.documentId="",o.prototype.state="",o.create=function(t){return new o(t)},o.encode=function(t,e){if(e||(e=n.create()),t.ids!=null&&t.ids.length)for(var r=0;r<t.ids.length;++r)e.uint32(10).string(t.ids[r]);return t.documentId!=null&&Object.hasOwnProperty.call(t,"documentId")&&e.uint32(18).string(t.documentId),t.state!=null&&Object.hasOwnProperty.call(t,"state")&&e.uint32(26).string(t.state),e},o.encodeDelimited=function(t,e){return this.encode(t,e).ldelim()},o.decode=function(t,e,r){t instanceof c||(t=c.create(t));for(var d=e===void 0?t.len:t.pos+e,u=new a.TrackChangesBatchUpdateSuggestionsStateMessage;t.pos<d;){var l=t.uint32();if(l===r)break;switch(l>>>3){case 1:u.ids&&u.ids.length||(u.ids=[]),u.ids.push(t.string());break;case 2:u.documentId=t.string();break;case 3:u.state=t.string();break;default:t.skipType(7&l)}}return u},o.decodeDelimited=function(t){return t instanceof c||(t=new c(t)),this.decode(t,t.uint32())},o.verify=function(t){if(typeof t!="object"||t===null)return"object expected";if(t.ids!=null&&t.hasOwnProperty("ids")){if(!Array.isArray(t.ids))return"ids: array expected";for(var e=0;e<t.ids.length;++e)if(!s.isString(t.ids[e]))return"ids: string[] expected"}return t.documentId!=null&&t.hasOwnProperty("documentId")&&!s.isString(t.documentId)?"documentId: string expected":t.state!=null&&t.hasOwnProperty("state")&&!s.isString(t.state)?"state: string expected":null},o.fromObject=function(t){if(t instanceof a.TrackChangesBatchUpdateSuggestionsStateMessage)return t;var e=new a.TrackChangesBatchUpdateSuggestionsStateMessage;if(t.ids){if(!Array.isArray(t.ids))throw TypeError(".TrackChangesBatchUpdateSuggestionsStateMessage.ids: array expected");e.ids=[];for(var r=0;r<t.ids.length;++r)e.ids[r]=String(t.ids[r])}return t.documentId!=null&&(e.documentId=String(t.documentId)),t.state!=null&&(e.state=String(t.state)),e},o.toObject=function(t,e){e||(e={});var r={};if((e.arrays||e.defaults)&&(r.ids=[]),e.defaults&&(r.documentId="",r.state=""),t.ids&&t.ids.length){r.ids=[];for(var d=0;d<t.ids.length;++d)r.ids[d]=t.ids[d]}return t.documentId!=null&&t.hasOwnProperty("documentId")&&(r.documentId=t.documentId),t.state!=null&&t.hasOwnProperty("state")&&(r.state=t.state),r},o.prototype.toJSON=function(){return this.constructor.toObject(this,_0x19253a.util.toJSONOptions)},o.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/TrackChangesBatchUpdateSuggestionsStateMessage"},o})(),a.TrackChangesConnectMessage=(function(){function o(t){if(t)for(var e=Object.keys(t),r=0;r<e.length;++r)t[e[r]]!=null&&(this[e[r]]=t[e[r]])}return o.prototype.documentId="",o.create=function(t){return new o(t)},o.encode=function(t,e){return e||(e=n.create()),t.documentId!=null&&Object.hasOwnProperty.call(t,"documentId")&&e.uint32(10).string(t.documentId),e},o.encodeDelimited=function(t,e){return this.encode(t,e).ldelim()},o.decode=function(t,e,r){t instanceof c||(t=c.create(t));for(var d=e===void 0?t.len:t.pos+e,u=new a.TrackChangesConnectMessage;t.pos<d;){var l=t.uint32();if(l===r)break;l>>>3==1?u.documentId=t.string():t.skipType(7&l)}return u},o.decodeDelimited=function(t){return t instanceof c||(t=new c(t)),this.decode(t,t.uint32())},o.verify=function(t){return typeof t!="object"||t===null?"object expected":t.documentId!=null&&t.hasOwnProperty("documentId")&&!s.isString(t.documentId)?"documentId: string expected":null},o.fromObject=function(t){if(t instanceof a.TrackChangesConnectMessage)return t;var e=new a.TrackChangesConnectMessage;return t.documentId!=null&&(e.documentId=String(t.documentId)),e},o.toObject=function(t,e){e||(e={});var r={};return e.defaults&&(r.documentId=""),t.documentId!=null&&t.hasOwnProperty("documentId")&&(r.documentId=t.documentId),r},o.prototype.toJSON=function(){return this.constructor.toObject(this,_0x19253a.util.toJSONOptions)},o.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/TrackChangesConnectMessage"},o})(),a.TrackChangesGetAllSuggestionMessage=(function(){function o(t){if(t)for(var e=Object.keys(t),r=0;r<e.length;++r)t[e[r]]!=null&&(this[e[r]]=t[e[r]])}return o.prototype.documentId="",o.create=function(t){return new o(t)},o.encode=function(t,e){return e||(e=n.create()),t.documentId!=null&&Object.hasOwnProperty.call(t,"documentId")&&e.uint32(10).string(t.documentId),e},o.encodeDelimited=function(t,e){return this.encode(t,e).ldelim()},o.decode=function(t,e,r){t instanceof c||(t=c.create(t));for(var d=e===void 0?t.len:t.pos+e,u=new a.TrackChangesGetAllSuggestionMessage;t.pos<d;){var l=t.uint32();if(l===r)break;l>>>3==1?u.documentId=t.string():t.skipType(7&l)}return u},o.decodeDelimited=function(t){return t instanceof c||(t=new c(t)),this.decode(t,t.uint32())},o.verify=function(t){return typeof t!="object"||t===null?"object expected":t.documentId!=null&&t.hasOwnProperty("documentId")&&!s.isString(t.documentId)?"documentId: string expected":null},o.fromObject=function(t){if(t instanceof a.TrackChangesGetAllSuggestionMessage)return t;var e=new a.TrackChangesGetAllSuggestionMessage;return t.documentId!=null&&(e.documentId=String(t.documentId)),e},o.toObject=function(t,e){e||(e={});var r={};return e.defaults&&(r.documentId=""),t.documentId!=null&&t.hasOwnProperty("documentId")&&(r.documentId=t.documentId),r},o.prototype.toJSON=function(){return this.constructor.toObject(this,_0x19253a.util.toJSONOptions)},o.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/TrackChangesGetAllSuggestionMessage"},o})(),a.TrackChangesGetSuggestionMessage=(function(){function o(t){if(t)for(var e=Object.keys(t),r=0;r<e.length;++r)t[e[r]]!=null&&(this[e[r]]=t[e[r]])}return o.prototype.id="",o.prototype.documentId="",o.create=function(t){return new o(t)},o.encode=function(t,e){return e||(e=n.create()),t.id!=null&&Object.hasOwnProperty.call(t,"id")&&e.uint32(10).string(t.id),t.documentId!=null&&Object.hasOwnProperty.call(t,"documentId")&&e.uint32(18).string(t.documentId),e},o.encodeDelimited=function(t,e){return this.encode(t,e).ldelim()},o.decode=function(t,e,r){t instanceof c||(t=c.create(t));for(var d=e===void 0?t.len:t.pos+e,u=new a.TrackChangesGetSuggestionMessage;t.pos<d;){var l=t.uint32();if(l===r)break;switch(l>>>3){case 1:u.id=t.string();break;case 2:u.documentId=t.string();break;default:t.skipType(7&l)}}return u},o.decodeDelimited=function(t){return t instanceof c||(t=new c(t)),this.decode(t,t.uint32())},o.verify=function(t){return typeof t!="object"||t===null?"object expected":t.id!=null&&t.hasOwnProperty("id")&&!s.isString(t.id)?"id: string expected":t.documentId!=null&&t.hasOwnProperty("documentId")&&!s.isString(t.documentId)?"documentId: string expected":null},o.fromObject=function(t){if(t instanceof a.TrackChangesGetSuggestionMessage)return t;var e=new a.TrackChangesGetSuggestionMessage;return t.id!=null&&(e.id=String(t.id)),t.documentId!=null&&(e.documentId=String(t.documentId)),e},o.toObject=function(t,e){e||(e={});var r={};return e.defaults&&(r.id="",r.documentId=""),t.id!=null&&t.hasOwnProperty("id")&&(r.id=t.id),t.documentId!=null&&t.hasOwnProperty("documentId")&&(r.documentId=t.documentId),r},o.prototype.toJSON=function(){return this.constructor.toObject(this,_0x19253a.util.toJSONOptions)},o.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/TrackChangesGetSuggestionMessage"},o})(),a.TrackChangesUpdateSuggestionMessage=(function(){function o(t){if(t)for(var e=Object.keys(t),r=0;r<e.length;++r)t[e[r]]!=null&&(this[e[r]]=t[e[r]])}return o.prototype.id="",o.prototype.documentId="",o.prototype.hasComments=!1,o.prototype.isHasCommentsModified=!1,o.prototype.state="",o.prototype.attributes="",o.create=function(t){return new o(t)},o.encode=function(t,e){return e||(e=n.create()),t.id!=null&&Object.hasOwnProperty.call(t,"id")&&e.uint32(10).string(t.id),t.documentId!=null&&Object.hasOwnProperty.call(t,"documentId")&&e.uint32(18).string(t.documentId),t.hasComments!=null&&Object.hasOwnProperty.call(t,"hasComments")&&e.uint32(24).bool(t.hasComments),t.isHasCommentsModified!=null&&Object.hasOwnProperty.call(t,"isHasCommentsModified")&&e.uint32(32).bool(t.isHasCommentsModified),t.state!=null&&Object.hasOwnProperty.call(t,"state")&&e.uint32(42).string(t.state),t.attributes!=null&&Object.hasOwnProperty.call(t,"attributes")&&e.uint32(50).string(t.attributes),e},o.encodeDelimited=function(t,e){return this.encode(t,e).ldelim()},o.decode=function(t,e,r){t instanceof c||(t=c.create(t));for(var d=e===void 0?t.len:t.pos+e,u=new a.TrackChangesUpdateSuggestionMessage;t.pos<d;){var l=t.uint32();if(l===r)break;switch(l>>>3){case 1:u.id=t.string();break;case 2:u.documentId=t.string();break;case 3:u.hasComments=t.bool();break;case 4:u.isHasCommentsModified=t.bool();break;case 5:u.state=t.string();break;case 6:u.attributes=t.string();break;default:t.skipType(7&l)}}return u},o.decodeDelimited=function(t){return t instanceof c||(t=new c(t)),this.decode(t,t.uint32())},o.verify=function(t){return typeof t!="object"||t===null?"object expected":t.id!=null&&t.hasOwnProperty("id")&&!s.isString(t.id)?"id: string expected":t.documentId!=null&&t.hasOwnProperty("documentId")&&!s.isString(t.documentId)?"documentId: string expected":t.hasComments!=null&&t.hasOwnProperty("hasComments")&&typeof t.hasComments!="boolean"?"hasComments: boolean expected":t.isHasCommentsModified!=null&&t.hasOwnProperty("isHasCommentsModified")&&typeof t.isHasCommentsModified!="boolean"?"isHasCommentsModified: boolean expected":t.state!=null&&t.hasOwnProperty("state")&&!s.isString(t.state)?"state: string expected":t.attributes!=null&&t.hasOwnProperty("attributes")&&!s.isString(t.attributes)?"attributes: string expected":null},o.fromObject=function(t){if(t instanceof a.TrackChangesUpdateSuggestionMessage)return t;var e=new a.TrackChangesUpdateSuggestionMessage;return t.id!=null&&(e.id=String(t.id)),t.documentId!=null&&(e.documentId=String(t.documentId)),t.hasComments!=null&&(e.hasComments=!!t.hasComments),t.isHasCommentsModified!=null&&(e.isHasCommentsModified=!!t.isHasCommentsModified),t.state!=null&&(e.state=String(t.state)),t.attributes!=null&&(e.attributes=String(t.attributes)),e},o.toObject=function(t,e){e||(e={});var r={};return e.defaults&&(r.id="",r.documentId="",r.hasComments=!1,r.isHasCommentsModified=!1,r.state="",r.attributes=""),t.id!=null&&t.hasOwnProperty("id")&&(r.id=t.id),t.documentId!=null&&t.hasOwnProperty("documentId")&&(r.documentId=t.documentId),t.hasComments!=null&&t.hasOwnProperty("hasComments")&&(r.hasComments=t.hasComments),t.isHasCommentsModified!=null&&t.hasOwnProperty("isHasCommentsModified")&&(r.isHasCommentsModified=t.isHasCommentsModified),t.state!=null&&t.hasOwnProperty("state")&&(r.state=t.state),t.attributes!=null&&t.hasOwnProperty("attributes")&&(r.attributes=t.attributes),r},o.prototype.toJSON=function(){return this.constructor.toObject(this,_0x19253a.util.toJSONOptions)},o.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/TrackChangesUpdateSuggestionMessage"},o})(),a.TrackChangesAddSuggestionResponse=(function(){function o(t){if(t)for(var e=Object.keys(t),r=0;r<e.length;++r)t[e[r]]!=null&&(this[e[r]]=t[e[r]])}return o.prototype.id="",o.prototype.authorId="",o.prototype.type="",o.prototype.createdAt="",o.prototype.data="",o.prototype.hasComments=!1,o.prototype.state="",o.prototype.attributes="",o.create=function(t){return new o(t)},o.encode=function(t,e){return e||(e=n.create()),t.id!=null&&Object.hasOwnProperty.call(t,"id")&&e.uint32(10).string(t.id),t.authorId!=null&&Object.hasOwnProperty.call(t,"authorId")&&e.uint32(18).string(t.authorId),t.type!=null&&Object.hasOwnProperty.call(t,"type")&&e.uint32(26).string(t.type),t.createdAt!=null&&Object.hasOwnProperty.call(t,"createdAt")&&e.uint32(34).string(t.createdAt),t.data!=null&&Object.hasOwnProperty.call(t,"data")&&e.uint32(42).string(t.data),t.hasComments!=null&&Object.hasOwnProperty.call(t,"hasComments")&&e.uint32(48).bool(t.hasComments),t.state!=null&&Object.hasOwnProperty.call(t,"state")&&e.uint32(58).string(t.state),t.attributes!=null&&Object.hasOwnProperty.call(t,"attributes")&&e.uint32(66).string(t.attributes),e},o.encodeDelimited=function(t,e){return this.encode(t,e).ldelim()},o.decode=function(t,e,r){t instanceof c||(t=c.create(t));for(var d=e===void 0?t.len:t.pos+e,u=new a.TrackChangesAddSuggestionResponse;t.pos<d;){var l=t.uint32();if(l===r)break;switch(l>>>3){case 1:u.id=t.string();break;case 2:u.authorId=t.string();break;case 3:u.type=t.string();break;case 4:u.createdAt=t.string();break;case 5:u.data=t.string();break;case 6:u.hasComments=t.bool();break;case 7:u.state=t.string();break;case 8:u.attributes=t.string();break;default:t.skipType(7&l)}}return u},o.decodeDelimited=function(t){return t instanceof c||(t=new c(t)),this.decode(t,t.uint32())},o.verify=function(t){return typeof t!="object"||t===null?"object expected":t.id!=null&&t.hasOwnProperty("id")&&!s.isString(t.id)?"id: string expected":t.authorId!=null&&t.hasOwnProperty("authorId")&&!s.isString(t.authorId)?"authorId: string expected":t.type!=null&&t.hasOwnProperty("type")&&!s.isString(t.type)?"type: string expected":t.createdAt!=null&&t.hasOwnProperty("createdAt")&&!s.isString(t.createdAt)?"createdAt: string expected":t.data!=null&&t.hasOwnProperty("data")&&!s.isString(t.data)?"data: string expected":t.hasComments!=null&&t.hasOwnProperty("hasComments")&&typeof t.hasComments!="boolean"?"hasComments: boolean expected":t.state!=null&&t.hasOwnProperty("state")&&!s.isString(t.state)?"state: string expected":t.attributes!=null&&t.hasOwnProperty("attributes")&&!s.isString(t.attributes)?"attributes: string expected":null},o.fromObject=function(t){if(t instanceof a.TrackChangesAddSuggestionResponse)return t;var e=new a.TrackChangesAddSuggestionResponse;return t.id!=null&&(e.id=String(t.id)),t.authorId!=null&&(e.authorId=String(t.authorId)),t.type!=null&&(e.type=String(t.type)),t.createdAt!=null&&(e.createdAt=String(t.createdAt)),t.data!=null&&(e.data=String(t.data)),t.hasComments!=null&&(e.hasComments=!!t.hasComments),t.state!=null&&(e.state=String(t.state)),t.attributes!=null&&(e.attributes=String(t.attributes)),e},o.toObject=function(t,e){e||(e={});var r={};return e.defaults&&(r.id="",r.authorId="",r.type="",r.createdAt="",r.data="",r.hasComments=!1,r.state="",r.attributes=""),t.id!=null&&t.hasOwnProperty("id")&&(r.id=t.id),t.authorId!=null&&t.hasOwnProperty("authorId")&&(r.authorId=t.authorId),t.type!=null&&t.hasOwnProperty("type")&&(r.type=t.type),t.createdAt!=null&&t.hasOwnProperty("createdAt")&&(r.createdAt=t.createdAt),t.data!=null&&t.hasOwnProperty("data")&&(r.data=t.data),t.hasComments!=null&&t.hasOwnProperty("hasComments")&&(r.hasComments=t.hasComments),t.state!=null&&t.hasOwnProperty("state")&&(r.state=t.state),t.attributes!=null&&t.hasOwnProperty("attributes")&&(r.attributes=t.attributes),r},o.prototype.toJSON=function(){return this.constructor.toObject(this,_0x19253a.util.toJSONOptions)},o.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/TrackChangesAddSuggestionResponse"},o})(),a.TrackChangesConnectResponse=(function(){function o(t){if(this.suggestions=[],this.suggestionsV2=[],t)for(var e=Object.keys(t),r=0;r<e.length;++r)t[e[r]]!=null&&(this[e[r]]=t[e[r]])}return o.prototype.channel="",o.prototype.suggestions=s.emptyArray,o.prototype.suggestionsV2=s.emptyArray,o.create=function(t){return new o(t)},o.encode=function(t,e){if(e||(e=n.create()),t.channel!=null&&Object.hasOwnProperty.call(t,"channel")&&e.uint32(10).string(t.channel),t.suggestions!=null&&t.suggestions.length)for(var r=0;r<t.suggestions.length;++r)e.uint32(18).string(t.suggestions[r]);if(t.suggestionsV2!=null&&t.suggestionsV2.length)for(r=0;r<t.suggestionsV2.length;++r)a.SuggestionDescriptor.encode(t.suggestionsV2[r],e.uint32(26).fork()).ldelim();return e},o.encodeDelimited=function(t,e){return this.encode(t,e).ldelim()},o.decode=function(t,e,r){t instanceof c||(t=c.create(t));for(var d=e===void 0?t.len:t.pos+e,u=new a.TrackChangesConnectResponse;t.pos<d;){var l=t.uint32();if(l===r)break;switch(l>>>3){case 1:u.channel=t.string();break;case 2:u.suggestions&&u.suggestions.length||(u.suggestions=[]),u.suggestions.push(t.string());break;case 3:u.suggestionsV2&&u.suggestionsV2.length||(u.suggestionsV2=[]),u.suggestionsV2.push(a.SuggestionDescriptor.decode(t,t.uint32()));break;default:t.skipType(7&l)}}return u},o.decodeDelimited=function(t){return t instanceof c||(t=new c(t)),this.decode(t,t.uint32())},o.verify=function(t){if(typeof t!="object"||t===null)return"object expected";if(t.channel!=null&&t.hasOwnProperty("channel")&&!s.isString(t.channel))return"channel: string expected";if(t.suggestions!=null&&t.hasOwnProperty("suggestions")){if(!Array.isArray(t.suggestions))return"suggestions: array expected";for(var e=0;e<t.suggestions.length;++e)if(!s.isString(t.suggestions[e]))return"suggestions: string[] expected"}if(t.suggestionsV2!=null&&t.hasOwnProperty("suggestionsV2")){if(!Array.isArray(t.suggestionsV2))return"suggestionsV2: array expected";for(e=0;e<t.suggestionsV2.length;++e){var r=a.SuggestionDescriptor.verify(t.suggestionsV2[e]);if(r)return"suggestionsV2."+r}}return null},o.fromObject=function(t){if(t instanceof a.TrackChangesConnectResponse)return t;var e=new a.TrackChangesConnectResponse;if(t.channel!=null&&(e.channel=String(t.channel)),t.suggestions){if(!Array.isArray(t.suggestions))throw TypeError(".TrackChangesConnectResponse.suggestions: array expected");e.suggestions=[];for(var r=0;r<t.suggestions.length;++r)e.suggestions[r]=String(t.suggestions[r])}if(t.suggestionsV2){if(!Array.isArray(t.suggestionsV2))throw TypeError(".TrackChangesConnectResponse.suggestionsV2: array expected");for(e.suggestionsV2=[],r=0;r<t.suggestionsV2.length;++r){if(typeof t.suggestionsV2[r]!="object")throw TypeError(".TrackChangesConnectResponse.suggestionsV2: object expected");e.suggestionsV2[r]=a.SuggestionDescriptor.fromObject(t.suggestionsV2[r])}}return e},o.toObject=function(t,e){e||(e={});var r={};if((e.arrays||e.defaults)&&(r.suggestions=[],r.suggestionsV2=[]),e.defaults&&(r.channel=""),t.channel!=null&&t.hasOwnProperty("channel")&&(r.channel=t.channel),t.suggestions&&t.suggestions.length){r.suggestions=[];for(var d=0;d<t.suggestions.length;++d)r.suggestions[d]=t.suggestions[d]}if(t.suggestionsV2&&t.suggestionsV2.length)for(r.suggestionsV2=[],d=0;d<t.suggestionsV2.length;++d)r.suggestionsV2[d]=a.SuggestionDescriptor.toObject(t.suggestionsV2[d],e);return r},o.prototype.toJSON=function(){return this.constructor.toObject(this,_0x19253a.util.toJSONOptions)},o.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/TrackChangesConnectResponse"},o})(),a.TrackChangesGetAllSuggestionsResponse=(function(){function o(t){if(this.suggestions=[],this.suggestionsV2=[],t)for(var e=Object.keys(t),r=0;r<e.length;++r)t[e[r]]!=null&&(this[e[r]]=t[e[r]])}return o.prototype.suggestions=s.emptyArray,o.prototype.suggestionsV2=s.emptyArray,o.create=function(t){return new o(t)},o.encode=function(t,e){if(e||(e=n.create()),t.suggestions!=null&&t.suggestions.length)for(var r=0;r<t.suggestions.length;++r)e.uint32(10).string(t.suggestions[r]);if(t.suggestionsV2!=null&&t.suggestionsV2.length)for(r=0;r<t.suggestionsV2.length;++r)a.SuggestionDescriptor.encode(t.suggestionsV2[r],e.uint32(18).fork()).ldelim();return e},o.encodeDelimited=function(t,e){return this.encode(t,e).ldelim()},o.decode=function(t,e,r){t instanceof c||(t=c.create(t));for(var d=e===void 0?t.len:t.pos+e,u=new a.TrackChangesGetAllSuggestionsResponse;t.pos<d;){var l=t.uint32();if(l===r)break;switch(l>>>3){case 1:u.suggestions&&u.suggestions.length||(u.suggestions=[]),u.suggestions.push(t.string());break;case 2:u.suggestionsV2&&u.suggestionsV2.length||(u.suggestionsV2=[]),u.suggestionsV2.push(a.SuggestionDescriptor.decode(t,t.uint32()));break;default:t.skipType(7&l)}}return u},o.decodeDelimited=function(t){return t instanceof c||(t=new c(t)),this.decode(t,t.uint32())},o.verify=function(t){if(typeof t!="object"||t===null)return"object expected";if(t.suggestions!=null&&t.hasOwnProperty("suggestions")){if(!Array.isArray(t.suggestions))return"suggestions: array expected";for(var e=0;e<t.suggestions.length;++e)if(!s.isString(t.suggestions[e]))return"suggestions: string[] expected"}if(t.suggestionsV2!=null&&t.hasOwnProperty("suggestionsV2")){if(!Array.isArray(t.suggestionsV2))return"suggestionsV2: array expected";for(e=0;e<t.suggestionsV2.length;++e){var r=a.SuggestionDescriptor.verify(t.suggestionsV2[e]);if(r)return"suggestionsV2."+r}}return null},o.fromObject=function(t){if(t instanceof a.TrackChangesGetAllSuggestionsResponse)return t;var e=new a.TrackChangesGetAllSuggestionsResponse;if(t.suggestions){if(!Array.isArray(t.suggestions))throw TypeError(".TrackChangesGetAllSuggestionsResponse.suggestions: array expected");e.suggestions=[];for(var r=0;r<t.suggestions.length;++r)e.suggestions[r]=String(t.suggestions[r])}if(t.suggestionsV2){if(!Array.isArray(t.suggestionsV2))throw TypeError(".TrackChangesGetAllSuggestionsResponse.suggestionsV2: array expected");for(e.suggestionsV2=[],r=0;r<t.suggestionsV2.length;++r){if(typeof t.suggestionsV2[r]!="object")throw TypeError(".TrackChangesGetAllSuggestionsResponse.suggestionsV2: object expected");e.suggestionsV2[r]=a.SuggestionDescriptor.fromObject(t.suggestionsV2[r])}}return e},o.toObject=function(t,e){e||(e={});var r={};if((e.arrays||e.defaults)&&(r.suggestions=[],r.suggestionsV2=[]),t.suggestions&&t.suggestions.length){r.suggestions=[];for(var d=0;d<t.suggestions.length;++d)r.suggestions[d]=t.suggestions[d]}if(t.suggestionsV2&&t.suggestionsV2.length)for(r.suggestionsV2=[],d=0;d<t.suggestionsV2.length;++d)r.suggestionsV2[d]=a.SuggestionDescriptor.toObject(t.suggestionsV2[d],e);return r},o.prototype.toJSON=function(){return this.constructor.toObject(this,_0x19253a.util.toJSONOptions)},o.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/TrackChangesGetAllSuggestionsResponse"},o})(),a.TrackChangesGetSuggestionResponse=(function(){function o(t){if(t)for(var e=Object.keys(t),r=0;r<e.length;++r)t[e[r]]!=null&&(this[e[r]]=t[e[r]])}return o.prototype.id="",o.prototype.authorId="",o.prototype.type="",o.prototype.createdAt="",o.prototype.data="",o.prototype.hasComments=!1,o.prototype.state="",o.prototype.attributes="",o.create=function(t){return new o(t)},o.encode=function(t,e){return e||(e=n.create()),t.id!=null&&Object.hasOwnProperty.call(t,"id")&&e.uint32(10).string(t.id),t.authorId!=null&&Object.hasOwnProperty.call(t,"authorId")&&e.uint32(18).string(t.authorId),t.type!=null&&Object.hasOwnProperty.call(t,"type")&&e.uint32(26).string(t.type),t.createdAt!=null&&Object.hasOwnProperty.call(t,"createdAt")&&e.uint32(34).string(t.createdAt),t.data!=null&&Object.hasOwnProperty.call(t,"data")&&e.uint32(42).string(t.data),t.hasComments!=null&&Object.hasOwnProperty.call(t,"hasComments")&&e.uint32(48).bool(t.hasComments),t.state!=null&&Object.hasOwnProperty.call(t,"state")&&e.uint32(58).string(t.state),t.attributes!=null&&Object.hasOwnProperty.call(t,"attributes")&&e.uint32(66).string(t.attributes),e},o.encodeDelimited=function(t,e){return this.encode(t,e).ldelim()},o.decode=function(t,e,r){t instanceof c||(t=c.create(t));for(var d=e===void 0?t.len:t.pos+e,u=new a.TrackChangesGetSuggestionResponse;t.pos<d;){var l=t.uint32();if(l===r)break;switch(l>>>3){case 1:u.id=t.string();break;case 2:u.authorId=t.string();break;case 3:u.type=t.string();break;case 4:u.createdAt=t.string();break;case 5:u.data=t.string();break;case 6:u.hasComments=t.bool();break;case 7:u.state=t.string();break;case 8:u.attributes=t.string();break;default:t.skipType(7&l)}}return u},o.decodeDelimited=function(t){return t instanceof c||(t=new c(t)),this.decode(t,t.uint32())},o.verify=function(t){return typeof t!="object"||t===null?"object expected":t.id!=null&&t.hasOwnProperty("id")&&!s.isString(t.id)?"id: string expected":t.authorId!=null&&t.hasOwnProperty("authorId")&&!s.isString(t.authorId)?"authorId: string expected":t.type!=null&&t.hasOwnProperty("type")&&!s.isString(t.type)?"type: string expected":t.createdAt!=null&&t.hasOwnProperty("createdAt")&&!s.isString(t.createdAt)?"createdAt: string expected":t.data!=null&&t.hasOwnProperty("data")&&!s.isString(t.data)?"data: string expected":t.hasComments!=null&&t.hasOwnProperty("hasComments")&&typeof t.hasComments!="boolean"?"hasComments: boolean expected":t.state!=null&&t.hasOwnProperty("state")&&!s.isString(t.state)?"state: string expected":t.attributes!=null&&t.hasOwnProperty("attributes")&&!s.isString(t.attributes)?"attributes: string expected":null},o.fromObject=function(t){if(t instanceof a.TrackChangesGetSuggestionResponse)return t;var e=new a.TrackChangesGetSuggestionResponse;return t.id!=null&&(e.id=String(t.id)),t.authorId!=null&&(e.authorId=String(t.authorId)),t.type!=null&&(e.type=String(t.type)),t.createdAt!=null&&(e.createdAt=String(t.createdAt)),t.data!=null&&(e.data=String(t.data)),t.hasComments!=null&&(e.hasComments=!!t.hasComments),t.state!=null&&(e.state=String(t.state)),t.attributes!=null&&(e.attributes=String(t.attributes)),e},o.toObject=function(t,e){e||(e={});var r={};return e.defaults&&(r.id="",r.authorId="",r.type="",r.createdAt="",r.data="",r.hasComments=!1,r.state="",r.attributes=""),t.id!=null&&t.hasOwnProperty("id")&&(r.id=t.id),t.authorId!=null&&t.hasOwnProperty("authorId")&&(r.authorId=t.authorId),t.type!=null&&t.hasOwnProperty("type")&&(r.type=t.type),t.createdAt!=null&&t.hasOwnProperty("createdAt")&&(r.createdAt=t.createdAt),t.data!=null&&t.hasOwnProperty("data")&&(r.data=t.data),t.hasComments!=null&&t.hasOwnProperty("hasComments")&&(r.hasComments=t.hasComments),t.state!=null&&t.hasOwnProperty("state")&&(r.state=t.state),t.attributes!=null&&t.hasOwnProperty("attributes")&&(r.attributes=t.attributes),r},o.prototype.toJSON=function(){return this.constructor.toObject(this,_0x19253a.util.toJSONOptions)},o.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/TrackChangesGetSuggestionResponse"},o})(),a.UserDescriptor=(function(){function o(t){if(this.attributes=[],t)for(var e=Object.keys(t),r=0;r<e.length;++r)t[e[r]]!=null&&(this[e[r]]=t[e[r]])}return o.prototype.attributes=s.emptyArray,o.create=function(t){return new o(t)},o.encode=function(t,e){if(e||(e=n.create()),t.attributes!=null&&t.attributes.length)for(var r=0;r<t.attributes.length;++r)a.KeyValueDescriptor.encode(t.attributes[r],e.uint32(10).fork()).ldelim();return e},o.encodeDelimited=function(t,e){return this.encode(t,e).ldelim()},o.decode=function(t,e,r){t instanceof c||(t=c.create(t));for(var d=e===void 0?t.len:t.pos+e,u=new a.UserDescriptor;t.pos<d;){var l=t.uint32();if(l===r)break;l>>>3==1?(u.attributes&&u.attributes.length||(u.attributes=[]),u.attributes.push(a.KeyValueDescriptor.decode(t,t.uint32()))):t.skipType(7&l)}return u},o.decodeDelimited=function(t){return t instanceof c||(t=new c(t)),this.decode(t,t.uint32())},o.verify=function(t){if(typeof t!="object"||t===null)return"object expected";if(t.attributes!=null&&t.hasOwnProperty("attributes")){if(!Array.isArray(t.attributes))return"attributes: array expected";for(var e=0;e<t.attributes.length;++e){var r=a.KeyValueDescriptor.verify(t.attributes[e]);if(r)return"attributes."+r}}return null},o.fromObject=function(t){if(t instanceof a.UserDescriptor)return t;var e=new a.UserDescriptor;if(t.attributes){if(!Array.isArray(t.attributes))throw TypeError(".UserDescriptor.attributes: array expected");e.attributes=[];for(var r=0;r<t.attributes.length;++r){if(typeof t.attributes[r]!="object")throw TypeError(".UserDescriptor.attributes: object expected");e.attributes[r]=a.KeyValueDescriptor.fromObject(t.attributes[r])}}return e},o.toObject=function(t,e){e||(e={});var r={};if((e.arrays||e.defaults)&&(r.attributes=[]),t.attributes&&t.attributes.length){r.attributes=[];for(var d=0;d<t.attributes.length;++d)r.attributes[d]=a.KeyValueDescriptor.toObject(t.attributes[d],e)}return r},o.prototype.toJSON=function(){return this.constructor.toObject(this,_0x19253a.util.toJSONOptions)},o.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/UserDescriptor"},o})(),a.GetManyUsersMessage=(function(){function o(t){if(this.ids=[],t)for(var e=Object.keys(t),r=0;r<e.length;++r)t[e[r]]!=null&&(this[e[r]]=t[e[r]])}return o.prototype.ids=s.emptyArray,o.create=function(t){return new o(t)},o.encode=function(t,e){if(e||(e=n.create()),t.ids!=null&&t.ids.length)for(var r=0;r<t.ids.length;++r)e.uint32(10).string(t.ids[r]);return e},o.encodeDelimited=function(t,e){return this.encode(t,e).ldelim()},o.decode=function(t,e,r){t instanceof c||(t=c.create(t));for(var d=e===void 0?t.len:t.pos+e,u=new a.GetManyUsersMessage;t.pos<d;){var l=t.uint32();if(l===r)break;l>>>3==1?(u.ids&&u.ids.length||(u.ids=[]),u.ids.push(t.string())):t.skipType(7&l)}return u},o.decodeDelimited=function(t){return t instanceof c||(t=new c(t)),this.decode(t,t.uint32())},o.verify=function(t){if(typeof t!="object"||t===null)return"object expected";if(t.ids!=null&&t.hasOwnProperty("ids")){if(!Array.isArray(t.ids))return"ids: array expected";for(var e=0;e<t.ids.length;++e)if(!s.isString(t.ids[e]))return"ids: string[] expected"}return null},o.fromObject=function(t){if(t instanceof a.GetManyUsersMessage)return t;var e=new a.GetManyUsersMessage;if(t.ids){if(!Array.isArray(t.ids))throw TypeError(".GetManyUsersMessage.ids: array expected");e.ids=[];for(var r=0;r<t.ids.length;++r)e.ids[r]=String(t.ids[r])}return e},o.toObject=function(t,e){e||(e={});var r={};if((e.arrays||e.defaults)&&(r.ids=[]),t.ids&&t.ids.length){r.ids=[];for(var d=0;d<t.ids.length;++d)r.ids[d]=t.ids[d]}return r},o.prototype.toJSON=function(){return this.constructor.toObject(this,_0x19253a.util.toJSONOptions)},o.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/GetManyUsersMessage"},o})(),a.GetUserMessage=(function(){function o(t){if(t)for(var e=Object.keys(t),r=0;r<e.length;++r)t[e[r]]!=null&&(this[e[r]]=t[e[r]])}return o.prototype.id="",o.create=function(t){return new o(t)},o.encode=function(t,e){return e||(e=n.create()),t.id!=null&&Object.hasOwnProperty.call(t,"id")&&e.uint32(10).string(t.id),e},o.encodeDelimited=function(t,e){return this.encode(t,e).ldelim()},o.decode=function(t,e,r){t instanceof c||(t=c.create(t));for(var d=e===void 0?t.len:t.pos+e,u=new a.GetUserMessage;t.pos<d;){var l=t.uint32();if(l===r)break;l>>>3==1?u.id=t.string():t.skipType(7&l)}return u},o.decodeDelimited=function(t){return t instanceof c||(t=new c(t)),this.decode(t,t.uint32())},o.verify=function(t){return typeof t!="object"||t===null?"object expected":t.id!=null&&t.hasOwnProperty("id")&&!s.isString(t.id)?"id: string expected":null},o.fromObject=function(t){if(t instanceof a.GetUserMessage)return t;var e=new a.GetUserMessage;return t.id!=null&&(e.id=String(t.id)),e},o.toObject=function(t,e){e||(e={});var r={};return e.defaults&&(r.id=""),t.id!=null&&t.hasOwnProperty("id")&&(r.id=t.id),r},o.prototype.toJSON=function(){return this.constructor.toObject(this,_0x19253a.util.toJSONOptions)},o.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/GetUserMessage"},o})(),a.GetManyUsersResponse=(function(){function o(t){if(this.users=[],t)for(var e=Object.keys(t),r=0;r<e.length;++r)t[e[r]]!=null&&(this[e[r]]=t[e[r]])}return o.prototype.users=s.emptyArray,o.create=function(t){return new o(t)},o.encode=function(t,e){if(e||(e=n.create()),t.users!=null&&t.users.length)for(var r=0;r<t.users.length;++r)a.UserDescriptor.encode(t.users[r],e.uint32(10).fork()).ldelim();return e},o.encodeDelimited=function(t,e){return this.encode(t,e).ldelim()},o.decode=function(t,e,r){t instanceof c||(t=c.create(t));for(var d=e===void 0?t.len:t.pos+e,u=new a.GetManyUsersResponse;t.pos<d;){var l=t.uint32();if(l===r)break;l>>>3==1?(u.users&&u.users.length||(u.users=[]),u.users.push(a.UserDescriptor.decode(t,t.uint32()))):t.skipType(7&l)}return u},o.decodeDelimited=function(t){return t instanceof c||(t=new c(t)),this.decode(t,t.uint32())},o.verify=function(t){if(typeof t!="object"||t===null)return"object expected";if(t.users!=null&&t.hasOwnProperty("users")){if(!Array.isArray(t.users))return"users: array expected";for(var e=0;e<t.users.length;++e){var r=a.UserDescriptor.verify(t.users[e]);if(r)return"users."+r}}return null},o.fromObject=function(t){if(t instanceof a.GetManyUsersResponse)return t;var e=new a.GetManyUsersResponse;if(t.users){if(!Array.isArray(t.users))throw TypeError(".GetManyUsersResponse.users: array expected");e.users=[];for(var r=0;r<t.users.length;++r){if(typeof t.users[r]!="object")throw TypeError(".GetManyUsersResponse.users: object expected");e.users[r]=a.UserDescriptor.fromObject(t.users[r])}}return e},o.toObject=function(t,e){e||(e={});var r={};if((e.arrays||e.defaults)&&(r.users=[]),t.users&&t.users.length){r.users=[];for(var d=0;d<t.users.length;++d)r.users[d]=a.UserDescriptor.toObject(t.users[d],e)}return r},o.prototype.toJSON=function(){return this.constructor.toObject(this,_0x19253a.util.toJSONOptions)},o.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/GetManyUsersResponse"},o})(),a.GetUserResponse=(function(){function o(t){if(this.attributes=[],t)for(var e=Object.keys(t),r=0;r<e.length;++r)t[e[r]]!=null&&(this[e[r]]=t[e[r]])}return o.prototype.attributes=s.emptyArray,o.create=function(t){return new o(t)},o.encode=function(t,e){if(e||(e=n.create()),t.attributes!=null&&t.attributes.length)for(var r=0;r<t.attributes.length;++r)a.KeyValueDescriptor.encode(t.attributes[r],e.uint32(10).fork()).ldelim();return e},o.encodeDelimited=function(t,e){return this.encode(t,e).ldelim()},o.decode=function(t,e,r){t instanceof c||(t=c.create(t));for(var d=e===void 0?t.len:t.pos+e,u=new a.GetUserResponse;t.pos<d;){var l=t.uint32();if(l===r)break;l>>>3==1?(u.attributes&&u.attributes.length||(u.attributes=[]),u.attributes.push(a.KeyValueDescriptor.decode(t,t.uint32()))):t.skipType(7&l)}return u},o.decodeDelimited=function(t){return t instanceof c||(t=new c(t)),this.decode(t,t.uint32())},o.verify=function(t){if(typeof t!="object"||t===null)return"object expected";if(t.attributes!=null&&t.hasOwnProperty("attributes")){if(!Array.isArray(t.attributes))return"attributes: array expected";for(var e=0;e<t.attributes.length;++e){var r=a.KeyValueDescriptor.verify(t.attributes[e]);if(r)return"attributes."+r}}return null},o.fromObject=function(t){if(t instanceof a.GetUserResponse)return t;var e=new a.GetUserResponse;if(t.attributes){if(!Array.isArray(t.attributes))throw TypeError(".GetUserResponse.attributes: array expected");e.attributes=[];for(var r=0;r<t.attributes.length;++r){if(typeof t.attributes[r]!="object")throw TypeError(".GetUserResponse.attributes: object expected");e.attributes[r]=a.KeyValueDescriptor.fromObject(t.attributes[r])}}return e},o.toObject=function(t,e){e||(e={});var r={};if((e.arrays||e.defaults)&&(r.attributes=[]),t.attributes&&t.attributes.length){r.attributes=[];for(var d=0;d<t.attributes.length;++d)r.attributes[d]=a.KeyValueDescriptor.toObject(t.attributes[d],e)}return r},o.prototype.toJSON=function(){return this.constructor.toObject(this,_0x19253a.util.toJSONOptions)},o.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/GetUserResponse"},o})(),a.ChannelMessage=(function(){function o(t){if(t)for(var e=Object.keys(t),r=0;r<e.length;++r)t[e[r]]!=null&&(this[e[r]]=t[e[r]])}return o.prototype.type=0,o.prototype.socketId="",o.prototype.data=s.newBuffer([]),o.create=function(t){return new o(t)},o.encode=function(t,e){return e||(e=n.create()),t.type!=null&&Object.hasOwnProperty.call(t,"type")&&e.uint32(8).uint32(t.type),t.socketId!=null&&Object.hasOwnProperty.call(t,"socketId")&&e.uint32(18).string(t.socketId),t.data!=null&&Object.hasOwnProperty.call(t,"data")&&e.uint32(26).bytes(t.data),e},o.encodeDelimited=function(t,e){return this.encode(t,e).ldelim()},o.decode=function(t,e,r){t instanceof c||(t=c.create(t));for(var d=e===void 0?t.len:t.pos+e,u=new a.ChannelMessage;t.pos<d;){var l=t.uint32();if(l===r)break;switch(l>>>3){case 1:u.type=t.uint32();break;case 2:u.socketId=t.string();break;case 3:u.data=t.bytes();break;default:t.skipType(7&l)}}return u},o.decodeDelimited=function(t){return t instanceof c||(t=new c(t)),this.decode(t,t.uint32())},o.verify=function(t){return typeof t!="object"||t===null?"object expected":t.type!=null&&t.hasOwnProperty("type")&&!s.isInteger(t.type)?"type: integer expected":t.socketId!=null&&t.hasOwnProperty("socketId")&&!s.isString(t.socketId)?"socketId: string expected":t.data!=null&&t.hasOwnProperty("data")&&!(t.data&&typeof t.data.length=="number"||s.isString(t.data))?"data: buffer expected":null},o.fromObject=function(t){if(t instanceof a.ChannelMessage)return t;var e=new a.ChannelMessage;return t.type!=null&&(e.type=t.type>>>0),t.socketId!=null&&(e.socketId=String(t.socketId)),t.data!=null&&(typeof t.data=="string"?s.base64.decode(t.data,e.data=s.newBuffer(s.base64.length(t.data)),0):t.data.length>=0&&(e.data=t.data)),e},o.toObject=function(t,e){e||(e={});var r={};return e.defaults&&(r.type=0,r.socketId="",e.bytes===String?r.data="":(r.data=[],e.bytes!==Array&&(r.data=s.newBuffer(r.data)))),t.type!=null&&t.hasOwnProperty("type")&&(r.type=t.type),t.socketId!=null&&t.hasOwnProperty("socketId")&&(r.socketId=t.socketId),t.data!=null&&t.hasOwnProperty("data")&&(r.data=e.bytes===String?s.base64.encode(t.data,0,t.data.length):e.bytes===Array?Array.prototype.slice.call(t.data):t.data),r},o.prototype.toJSON=function(){return this.constructor.toObject(this,_0x19253a.util.toJSONOptions)},o.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/ChannelMessage"},o})(),a.BytesBytesPacketDataMessage=(function(){function o(t){if(t)for(var e=Object.keys(t),r=0;r<e.length;++r)t[e[r]]!=null&&(this[e[r]]=t[e[r]])}return o.prototype.data=s.newBuffer([]),o.prototype.data1=s.newBuffer([]),o.create=function(t){return new o(t)},o.encode=function(t,e){return e||(e=n.create()),t.data!=null&&Object.hasOwnProperty.call(t,"data")&&e.uint32(10).bytes(t.data),t.data1!=null&&Object.hasOwnProperty.call(t,"data1")&&e.uint32(18).bytes(t.data1),e},o.encodeDelimited=function(t,e){return this.encode(t,e).ldelim()},o.decode=function(t,e,r){t instanceof c||(t=c.create(t));for(var d=e===void 0?t.len:t.pos+e,u=new a.BytesBytesPacketDataMessage;t.pos<d;){var l=t.uint32();if(l===r)break;switch(l>>>3){case 1:u.data=t.bytes();break;case 2:u.data1=t.bytes();break;default:t.skipType(7&l)}}return u},o.decodeDelimited=function(t){return t instanceof c||(t=new c(t)),this.decode(t,t.uint32())},o.verify=function(t){return typeof t!="object"||t===null?"object expected":t.data!=null&&t.hasOwnProperty("data")&&!(t.data&&typeof t.data.length=="number"||s.isString(t.data))?"data: buffer expected":t.data1!=null&&t.hasOwnProperty("data1")&&!(t.data1&&typeof t.data1.length=="number"||s.isString(t.data1))?"data1: buffer expected":null},o.fromObject=function(t){if(t instanceof a.BytesBytesPacketDataMessage)return t;var e=new a.BytesBytesPacketDataMessage;return t.data!=null&&(typeof t.data=="string"?s.base64.decode(t.data,e.data=s.newBuffer(s.base64.length(t.data)),0):t.data.length>=0&&(e.data=t.data)),t.data1!=null&&(typeof t.data1=="string"?s.base64.decode(t.data1,e.data1=s.newBuffer(s.base64.length(t.data1)),0):t.data1.length>=0&&(e.data1=t.data1)),e},o.toObject=function(t,e){e||(e={});var r={};return e.defaults&&(e.bytes===String?r.data="":(r.data=[],e.bytes!==Array&&(r.data=s.newBuffer(r.data))),e.bytes===String?r.data1="":(r.data1=[],e.bytes!==Array&&(r.data1=s.newBuffer(r.data1)))),t.data!=null&&t.hasOwnProperty("data")&&(r.data=e.bytes===String?s.base64.encode(t.data,0,t.data.length):e.bytes===Array?Array.prototype.slice.call(t.data):t.data),t.data1!=null&&t.hasOwnProperty("data1")&&(r.data1=e.bytes===String?s.base64.encode(t.data1,0,t.data1.length):e.bytes===Array?Array.prototype.slice.call(t.data1):t.data1),r},o.prototype.toJSON=function(){return this.constructor.toObject(this,_0x19253a.util.toJSONOptions)},o.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/BytesBytesPacketDataMessage"},o})(),a.NumberBytesPacketDataMessage=(function(){function o(t){if(t)for(var e=Object.keys(t),r=0;r<e.length;++r)t[e[r]]!=null&&(this[e[r]]=t[e[r]])}return o.prototype.data=0,o.prototype.data1=s.newBuffer([]),o.create=function(t){return new o(t)},o.encode=function(t,e){return e||(e=n.create()),t.data!=null&&Object.hasOwnProperty.call(t,"data")&&e.uint32(8).uint32(t.data),t.data1!=null&&Object.hasOwnProperty.call(t,"data1")&&e.uint32(18).bytes(t.data1),e},o.encodeDelimited=function(t,e){return this.encode(t,e).ldelim()},o.decode=function(t,e,r){t instanceof c||(t=c.create(t));for(var d=e===void 0?t.len:t.pos+e,u=new a.NumberBytesPacketDataMessage;t.pos<d;){var l=t.uint32();if(l===r)break;switch(l>>>3){case 1:u.data=t.uint32();break;case 2:u.data1=t.bytes();break;default:t.skipType(7&l)}}return u},o.decodeDelimited=function(t){return t instanceof c||(t=new c(t)),this.decode(t,t.uint32())},o.verify=function(t){return typeof t!="object"||t===null?"object expected":t.data!=null&&t.hasOwnProperty("data")&&!s.isInteger(t.data)?"data: integer expected":t.data1!=null&&t.hasOwnProperty("data1")&&!(t.data1&&typeof t.data1.length=="number"||s.isString(t.data1))?"data1: buffer expected":null},o.fromObject=function(t){if(t instanceof a.NumberBytesPacketDataMessage)return t;var e=new a.NumberBytesPacketDataMessage;return t.data!=null&&(e.data=t.data>>>0),t.data1!=null&&(typeof t.data1=="string"?s.base64.decode(t.data1,e.data1=s.newBuffer(s.base64.length(t.data1)),0):t.data1.length>=0&&(e.data1=t.data1)),e},o.toObject=function(t,e){e||(e={});var r={};return e.defaults&&(r.data=0,e.bytes===String?r.data1="":(r.data1=[],e.bytes!==Array&&(r.data1=s.newBuffer(r.data1)))),t.data!=null&&t.hasOwnProperty("data")&&(r.data=t.data),t.data1!=null&&t.hasOwnProperty("data1")&&(r.data1=e.bytes===String?s.base64.encode(t.data1,0,t.data1.length):e.bytes===Array?Array.prototype.slice.call(t.data1):t.data1),r},o.prototype.toJSON=function(){return this.constructor.toObject(this,_0x19253a.util.toJSONOptions)},o.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/NumberBytesPacketDataMessage"},o})(),a.NumberNumberPacketDataMessage=(function(){function o(t){if(t)for(var e=Object.keys(t),r=0;r<e.length;++r)t[e[r]]!=null&&(this[e[r]]=t[e[r]])}return o.prototype.data=0,o.prototype.data1=0,o.create=function(t){return new o(t)},o.encode=function(t,e){return e||(e=n.create()),t.data!=null&&Object.hasOwnProperty.call(t,"data")&&e.uint32(8).uint32(t.data),t.data1!=null&&Object.hasOwnProperty.call(t,"data1")&&e.uint32(16).uint32(t.data1),e},o.encodeDelimited=function(t,e){return this.encode(t,e).ldelim()},o.decode=function(t,e,r){t instanceof c||(t=c.create(t));for(var d=e===void 0?t.len:t.pos+e,u=new a.NumberNumberPacketDataMessage;t.pos<d;){var l=t.uint32();if(l===r)break;switch(l>>>3){case 1:u.data=t.uint32();break;case 2:u.data1=t.uint32();break;default:t.skipType(7&l)}}return u},o.decodeDelimited=function(t){return t instanceof c||(t=new c(t)),this.decode(t,t.uint32())},o.verify=function(t){return typeof t!="object"||t===null?"object expected":t.data!=null&&t.hasOwnProperty("data")&&!s.isInteger(t.data)?"data: integer expected":t.data1!=null&&t.hasOwnProperty("data1")&&!s.isInteger(t.data1)?"data1: integer expected":null},o.fromObject=function(t){if(t instanceof a.NumberNumberPacketDataMessage)return t;var e=new a.NumberNumberPacketDataMessage;return t.data!=null&&(e.data=t.data>>>0),t.data1!=null&&(e.data1=t.data1>>>0),e},o.toObject=function(t,e){e||(e={});var r={};return e.defaults&&(r.data=0,r.data1=0),t.data!=null&&t.hasOwnProperty("data")&&(r.data=t.data),t.data1!=null&&t.hasOwnProperty("data1")&&(r.data1=t.data1),r},o.prototype.toJSON=function(){return this.constructor.toObject(this,_0x19253a.util.toJSONOptions)},o.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/NumberNumberPacketDataMessage"},o})(),a.NumberObjectPacketDataMessage=(function(){function o(t){if(t)for(var e=Object.keys(t),r=0;r<e.length;++r)t[e[r]]!=null&&(this[e[r]]=t[e[r]])}return o.prototype.data=0,o.prototype.data1="",o.create=function(t){return new o(t)},o.encode=function(t,e){return e||(e=n.create()),t.data!=null&&Object.hasOwnProperty.call(t,"data")&&e.uint32(8).uint32(t.data),t.data1!=null&&Object.hasOwnProperty.call(t,"data1")&&e.uint32(18).string(t.data1),e},o.encodeDelimited=function(t,e){return this.encode(t,e).ldelim()},o.decode=function(t,e,r){t instanceof c||(t=c.create(t));for(var d=e===void 0?t.len:t.pos+e,u=new a.NumberObjectPacketDataMessage;t.pos<d;){var l=t.uint32();if(l===r)break;switch(l>>>3){case 1:u.data=t.uint32();break;case 2:u.data1=t.string();break;default:t.skipType(7&l)}}return u},o.decodeDelimited=function(t){return t instanceof c||(t=new c(t)),this.decode(t,t.uint32())},o.verify=function(t){return typeof t!="object"||t===null?"object expected":t.data!=null&&t.hasOwnProperty("data")&&!s.isInteger(t.data)?"data: integer expected":t.data1!=null&&t.hasOwnProperty("data1")&&!s.isString(t.data1)?"data1: string expected":null},o.fromObject=function(t){if(t instanceof a.NumberObjectPacketDataMessage)return t;var e=new a.NumberObjectPacketDataMessage;return t.data!=null&&(e.data=t.data>>>0),t.data1!=null&&(e.data1=String(t.data1)),e},o.toObject=function(t,e){e||(e={});var r={};return e.defaults&&(r.data=0,r.data1=""),t.data!=null&&t.hasOwnProperty("data")&&(r.data=t.data),t.data1!=null&&t.hasOwnProperty("data1")&&(r.data1=t.data1),r},o.prototype.toJSON=function(){return this.constructor.toObject(this,_0x19253a.util.toJSONOptions)},o.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/NumberObjectPacketDataMessage"},o})(),a.NumberStringPacketDataMessage=(function(){function o(t){if(t)for(var e=Object.keys(t),r=0;r<e.length;++r)t[e[r]]!=null&&(this[e[r]]=t[e[r]])}return o.prototype.data=0,o.prototype.data1="",o.create=function(t){return new o(t)},o.encode=function(t,e){return e||(e=n.create()),t.data!=null&&Object.hasOwnProperty.call(t,"data")&&e.uint32(8).uint32(t.data),t.data1!=null&&Object.hasOwnProperty.call(t,"data1")&&e.uint32(18).string(t.data1),e},o.encodeDelimited=function(t,e){return this.encode(t,e).ldelim()},o.decode=function(t,e,r){t instanceof c||(t=c.create(t));for(var d=e===void 0?t.len:t.pos+e,u=new a.NumberStringPacketDataMessage;t.pos<d;){var l=t.uint32();if(l===r)break;switch(l>>>3){case 1:u.data=t.uint32();break;case 2:u.data1=t.string();break;default:t.skipType(7&l)}}return u},o.decodeDelimited=function(t){return t instanceof c||(t=new c(t)),this.decode(t,t.uint32())},o.verify=function(t){return typeof t!="object"||t===null?"object expected":t.data!=null&&t.hasOwnProperty("data")&&!s.isInteger(t.data)?"data: integer expected":t.data1!=null&&t.hasOwnProperty("data1")&&!s.isString(t.data1)?"data1: string expected":null},o.fromObject=function(t){if(t instanceof a.NumberStringPacketDataMessage)return t;var e=new a.NumberStringPacketDataMessage;return t.data!=null&&(e.data=t.data>>>0),t.data1!=null&&(e.data1=String(t.data1)),e},o.toObject=function(t,e){e||(e={});var r={};return e.defaults&&(r.data=0,r.data1=""),t.data!=null&&t.hasOwnProperty("data")&&(r.data=t.data),t.data1!=null&&t.hasOwnProperty("data1")&&(r.data1=t.data1),r},o.prototype.toJSON=function(){return this.constructor.toObject(this,_0x19253a.util.toJSONOptions)},o.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/NumberStringPacketDataMessage"},o})(),a.ObjectBufferPacketDataMessage=(function(){function o(t){if(t)for(var e=Object.keys(t),r=0;r<e.length;++r)t[e[r]]!=null&&(this[e[r]]=t[e[r]])}return o.prototype.data="",o.prototype.data1=s.newBuffer([]),o.create=function(t){return new o(t)},o.encode=function(t,e){return e||(e=n.create()),t.data!=null&&Object.hasOwnProperty.call(t,"data")&&e.uint32(10).string(t.data),t.data1!=null&&Object.hasOwnProperty.call(t,"data1")&&e.uint32(18).bytes(t.data1),e},o.encodeDelimited=function(t,e){return this.encode(t,e).ldelim()},o.decode=function(t,e,r){t instanceof c||(t=c.create(t));for(var d=e===void 0?t.len:t.pos+e,u=new a.ObjectBufferPacketDataMessage;t.pos<d;){var l=t.uint32();if(l===r)break;switch(l>>>3){case 1:u.data=t.string();break;case 2:u.data1=t.bytes();break;default:t.skipType(7&l)}}return u},o.decodeDelimited=function(t){return t instanceof c||(t=new c(t)),this.decode(t,t.uint32())},o.verify=function(t){return typeof t!="object"||t===null?"object expected":t.data!=null&&t.hasOwnProperty("data")&&!s.isString(t.data)?"data: string expected":t.data1!=null&&t.hasOwnProperty("data1")&&!(t.data1&&typeof t.data1.length=="number"||s.isString(t.data1))?"data1: buffer expected":null},o.fromObject=function(t){if(t instanceof a.ObjectBufferPacketDataMessage)return t;var e=new a.ObjectBufferPacketDataMessage;return t.data!=null&&(e.data=String(t.data)),t.data1!=null&&(typeof t.data1=="string"?s.base64.decode(t.data1,e.data1=s.newBuffer(s.base64.length(t.data1)),0):t.data1.length>=0&&(e.data1=t.data1)),e},o.toObject=function(t,e){e||(e={});var r={};return e.defaults&&(r.data="",e.bytes===String?r.data1="":(r.data1=[],e.bytes!==Array&&(r.data1=s.newBuffer(r.data1)))),t.data!=null&&t.hasOwnProperty("data")&&(r.data=t.data),t.data1!=null&&t.hasOwnProperty("data1")&&(r.data1=e.bytes===String?s.base64.encode(t.data1,0,t.data1.length):e.bytes===Array?Array.prototype.slice.call(t.data1):t.data1),r},o.prototype.toJSON=function(){return this.constructor.toObject(this,_0x19253a.util.toJSONOptions)},o.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/ObjectBufferPacketDataMessage"},o})(),a.ObjectObjectPacketDataMessage=(function(){function o(t){if(t)for(var e=Object.keys(t),r=0;r<e.length;++r)t[e[r]]!=null&&(this[e[r]]=t[e[r]])}return o.prototype.data="",o.prototype.data1="",o.create=function(t){return new o(t)},o.encode=function(t,e){return e||(e=n.create()),t.data!=null&&Object.hasOwnProperty.call(t,"data")&&e.uint32(10).string(t.data),t.data1!=null&&Object.hasOwnProperty.call(t,"data1")&&e.uint32(18).string(t.data1),e},o.encodeDelimited=function(t,e){return this.encode(t,e).ldelim()},o.decode=function(t,e,r){t instanceof c||(t=c.create(t));for(var d=e===void 0?t.len:t.pos+e,u=new a.ObjectObjectPacketDataMessage;t.pos<d;){var l=t.uint32();if(l===r)break;switch(l>>>3){case 1:u.data=t.string();break;case 2:u.data1=t.string();break;default:t.skipType(7&l)}}return u},o.decodeDelimited=function(t){return t instanceof c||(t=new c(t)),this.decode(t,t.uint32())},o.verify=function(t){return typeof t!="object"||t===null?"object expected":t.data!=null&&t.hasOwnProperty("data")&&!s.isString(t.data)?"data: string expected":t.data1!=null&&t.hasOwnProperty("data1")&&!s.isString(t.data1)?"data1: string expected":null},o.fromObject=function(t){if(t instanceof a.ObjectObjectPacketDataMessage)return t;var e=new a.ObjectObjectPacketDataMessage;return t.data!=null&&(e.data=String(t.data)),t.data1!=null&&(e.data1=String(t.data1)),e},o.toObject=function(t,e){e||(e={});var r={};return e.defaults&&(r.data="",r.data1=""),t.data!=null&&t.hasOwnProperty("data")&&(r.data=t.data),t.data1!=null&&t.hasOwnProperty("data1")&&(r.data1=t.data1),r},o.prototype.toJSON=function(){return this.constructor.toObject(this,_0x19253a.util.toJSONOptions)},o.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/ObjectObjectPacketDataMessage"},o})(),a.PacketMessage=(function(){function o(t){if(t)for(var e=Object.keys(t),r=0;r<e.length;++r)t[e[r]]!=null&&(this[e[r]]=t[e[r]])}return o.prototype.type=0,o.prototype.id=0,o.prototype.nsp="",o.prototype.data=s.newBuffer([]),o.prototype.options=s.newBuffer([]),o.create=function(t){return new o(t)},o.encode=function(t,e){return e||(e=n.create()),t.type!=null&&Object.hasOwnProperty.call(t,"type")&&e.uint32(8).uint32(t.type),t.id!=null&&Object.hasOwnProperty.call(t,"id")&&e.uint32(16).uint32(t.id),t.nsp!=null&&Object.hasOwnProperty.call(t,"nsp")&&e.uint32(26).string(t.nsp),t.data!=null&&Object.hasOwnProperty.call(t,"data")&&e.uint32(34).bytes(t.data),t.options!=null&&Object.hasOwnProperty.call(t,"options")&&e.uint32(42).bytes(t.options),e},o.encodeDelimited=function(t,e){return this.encode(t,e).ldelim()},o.decode=function(t,e,r){t instanceof c||(t=c.create(t));for(var d=e===void 0?t.len:t.pos+e,u=new a.PacketMessage;t.pos<d;){var l=t.uint32();if(l===r)break;switch(l>>>3){case 1:u.type=t.uint32();break;case 2:u.id=t.uint32();break;case 3:u.nsp=t.string();break;case 4:u.data=t.bytes();break;case 5:u.options=t.bytes();break;default:t.skipType(7&l)}}return u},o.decodeDelimited=function(t){return t instanceof c||(t=new c(t)),this.decode(t,t.uint32())},o.verify=function(t){return typeof t!="object"||t===null?"object expected":t.type!=null&&t.hasOwnProperty("type")&&!s.isInteger(t.type)?"type: integer expected":t.id!=null&&t.hasOwnProperty("id")&&!s.isInteger(t.id)?"id: integer expected":t.nsp!=null&&t.hasOwnProperty("nsp")&&!s.isString(t.nsp)?"nsp: string expected":t.data!=null&&t.hasOwnProperty("data")&&!(t.data&&typeof t.data.length=="number"||s.isString(t.data))?"data: buffer expected":t.options!=null&&t.hasOwnProperty("options")&&!(t.options&&typeof t.options.length=="number"||s.isString(t.options))?"options: buffer expected":null},o.fromObject=function(t){if(t instanceof a.PacketMessage)return t;var e=new a.PacketMessage;return t.type!=null&&(e.type=t.type>>>0),t.id!=null&&(e.id=t.id>>>0),t.nsp!=null&&(e.nsp=String(t.nsp)),t.data!=null&&(typeof t.data=="string"?s.base64.decode(t.data,e.data=s.newBuffer(s.base64.length(t.data)),0):t.data.length>=0&&(e.data=t.data)),t.options!=null&&(typeof t.options=="string"?s.base64.decode(t.options,e.options=s.newBuffer(s.base64.length(t.options)),0):t.options.length>=0&&(e.options=t.options)),e},o.toObject=function(t,e){e||(e={});var r={};return e.defaults&&(r.type=0,r.id=0,r.nsp="",e.bytes===String?r.data="":(r.data=[],e.bytes!==Array&&(r.data=s.newBuffer(r.data))),e.bytes===String?r.options="":(r.options=[],e.bytes!==Array&&(r.options=s.newBuffer(r.options)))),t.type!=null&&t.hasOwnProperty("type")&&(r.type=t.type),t.id!=null&&t.hasOwnProperty("id")&&(r.id=t.id),t.nsp!=null&&t.hasOwnProperty("nsp")&&(r.nsp=t.nsp),t.data!=null&&t.hasOwnProperty("data")&&(r.data=e.bytes===String?s.base64.encode(t.data,0,t.data.length):e.bytes===Array?Array.prototype.slice.call(t.data):t.data),t.options!=null&&t.hasOwnProperty("options")&&(r.options=e.bytes===String?s.base64.encode(t.options,0,t.options.length):e.bytes===Array?Array.prototype.slice.call(t.options):t.options),r},o.prototype.toJSON=function(){return this.constructor.toObject(this,_0x19253a.util.toJSONOptions)},o.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/PacketMessage"},o})(),a.PacketOptionsMessage=(function(){function o(t){if(this.rooms=[],this.except=[],t)for(var e=Object.keys(t),r=0;r<e.length;++r)t[e[r]]!=null&&(this[e[r]]=t[e[r]])}return o.prototype.flags="",o.prototype.rooms=s.emptyArray,o.prototype.except=s.emptyArray,o.create=function(t){return new o(t)},o.encode=function(t,e){if(e||(e=n.create()),t.flags!=null&&Object.hasOwnProperty.call(t,"flags")&&e.uint32(10).string(t.flags),t.rooms!=null&&t.rooms.length)for(var r=0;r<t.rooms.length;++r)e.uint32(18).string(t.rooms[r]);if(t.except!=null&&t.except.length)for(r=0;r<t.except.length;++r)e.uint32(26).string(t.except[r]);return e},o.encodeDelimited=function(t,e){return this.encode(t,e).ldelim()},o.decode=function(t,e,r){t instanceof c||(t=c.create(t));for(var d=e===void 0?t.len:t.pos+e,u=new a.PacketOptionsMessage;t.pos<d;){var l=t.uint32();if(l===r)break;switch(l>>>3){case 1:u.flags=t.string();break;case 2:u.rooms&&u.rooms.length||(u.rooms=[]),u.rooms.push(t.string());break;case 3:u.except&&u.except.length||(u.except=[]),u.except.push(t.string());break;default:t.skipType(7&l)}}return u},o.decodeDelimited=function(t){return t instanceof c||(t=new c(t)),this.decode(t,t.uint32())},o.verify=function(t){if(typeof t!="object"||t===null)return"object expected";if(t.flags!=null&&t.hasOwnProperty("flags")&&!s.isString(t.flags))return"flags: string expected";if(t.rooms!=null&&t.hasOwnProperty("rooms")){if(!Array.isArray(t.rooms))return"rooms: array expected";for(var e=0;e<t.rooms.length;++e)if(!s.isString(t.rooms[e]))return"rooms: string[] expected"}if(t.except!=null&&t.hasOwnProperty("except")){if(!Array.isArray(t.except))return"except: array expected";for(e=0;e<t.except.length;++e)if(!s.isString(t.except[e]))return"except: string[] expected"}return null},o.fromObject=function(t){if(t instanceof a.PacketOptionsMessage)return t;var e=new a.PacketOptionsMessage;if(t.flags!=null&&(e.flags=String(t.flags)),t.rooms){if(!Array.isArray(t.rooms))throw TypeError(".PacketOptionsMessage.rooms: array expected");e.rooms=[];for(var r=0;r<t.rooms.length;++r)e.rooms[r]=String(t.rooms[r])}if(t.except){if(!Array.isArray(t.except))throw TypeError(".PacketOptionsMessage.except: array expected");for(e.except=[],r=0;r<t.except.length;++r)e.except[r]=String(t.except[r])}return e},o.toObject=function(t,e){e||(e={});var r={};if((e.arrays||e.defaults)&&(r.rooms=[],r.except=[]),e.defaults&&(r.flags=""),t.flags!=null&&t.hasOwnProperty("flags")&&(r.flags=t.flags),t.rooms&&t.rooms.length){r.rooms=[];for(var d=0;d<t.rooms.length;++d)r.rooms[d]=t.rooms[d]}if(t.except&&t.except.length)for(r.except=[],d=0;d<t.except.length;++d)r.except[d]=t.except[d];return r},o.prototype.toJSON=function(){return this.constructor.toObject(this,_0x19253a.util.toJSONOptions)},o.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/PacketOptionsMessage"},o})(),a.StringBytesPacketDataMessage=(function(){function o(t){if(t)for(var e=Object.keys(t),r=0;r<e.length;++r)t[e[r]]!=null&&(this[e[r]]=t[e[r]])}return o.prototype.data="",o.prototype.data1=s.newBuffer([]),o.create=function(t){return new o(t)},o.encode=function(t,e){return e||(e=n.create()),t.data!=null&&Object.hasOwnProperty.call(t,"data")&&e.uint32(10).string(t.data),t.data1!=null&&Object.hasOwnProperty.call(t,"data1")&&e.uint32(18).bytes(t.data1),e},o.encodeDelimited=function(t,e){return this.encode(t,e).ldelim()},o.decode=function(t,e,r){t instanceof c||(t=c.create(t));for(var d=e===void 0?t.len:t.pos+e,u=new a.StringBytesPacketDataMessage;t.pos<d;){var l=t.uint32();if(l===r)break;switch(l>>>3){case 1:u.data=t.string();break;case 2:u.data1=t.bytes();break;default:t.skipType(7&l)}}return u},o.decodeDelimited=function(t){return t instanceof c||(t=new c(t)),this.decode(t,t.uint32())},o.verify=function(t){return typeof t!="object"||t===null?"object expected":t.data!=null&&t.hasOwnProperty("data")&&!s.isString(t.data)?"data: string expected":t.data1!=null&&t.hasOwnProperty("data1")&&!(t.data1&&typeof t.data1.length=="number"||s.isString(t.data1))?"data1: buffer expected":null},o.fromObject=function(t){if(t instanceof a.StringBytesPacketDataMessage)return t;var e=new a.StringBytesPacketDataMessage;return t.data!=null&&(e.data=String(t.data)),t.data1!=null&&(typeof t.data1=="string"?s.base64.decode(t.data1,e.data1=s.newBuffer(s.base64.length(t.data1)),0):t.data1.length>=0&&(e.data1=t.data1)),e},o.toObject=function(t,e){e||(e={});var r={};return e.defaults&&(r.data="",e.bytes===String?r.data1="":(r.data1=[],e.bytes!==Array&&(r.data1=s.newBuffer(r.data1)))),t.data!=null&&t.hasOwnProperty("data")&&(r.data=t.data),t.data1!=null&&t.hasOwnProperty("data1")&&(r.data1=e.bytes===String?s.base64.encode(t.data1,0,t.data1.length):e.bytes===Array?Array.prototype.slice.call(t.data1):t.data1),r},o.prototype.toJSON=function(){return this.constructor.toObject(this,_0x19253a.util.toJSONOptions)},o.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/StringBytesPacketDataMessage"},o})(),a.StringNumberPacketDataMessage=(function(){function o(t){if(t)for(var e=Object.keys(t),r=0;r<e.length;++r)t[e[r]]!=null&&(this[e[r]]=t[e[r]])}return o.prototype.data="",o.prototype.data1=0,o.create=function(t){return new o(t)},o.encode=function(t,e){return e||(e=n.create()),t.data!=null&&Object.hasOwnProperty.call(t,"data")&&e.uint32(10).string(t.data),t.data1!=null&&Object.hasOwnProperty.call(t,"data1")&&e.uint32(16).uint32(t.data1),e},o.encodeDelimited=function(t,e){return this.encode(t,e).ldelim()},o.decode=function(t,e,r){t instanceof c||(t=c.create(t));for(var d=e===void 0?t.len:t.pos+e,u=new a.StringNumberPacketDataMessage;t.pos<d;){var l=t.uint32();if(l===r)break;switch(l>>>3){case 1:u.data=t.string();break;case 2:u.data1=t.uint32();break;default:t.skipType(7&l)}}return u},o.decodeDelimited=function(t){return t instanceof c||(t=new c(t)),this.decode(t,t.uint32())},o.verify=function(t){return typeof t!="object"||t===null?"object expected":t.data!=null&&t.hasOwnProperty("data")&&!s.isString(t.data)?"data: string expected":t.data1!=null&&t.hasOwnProperty("data1")&&!s.isInteger(t.data1)?"data1: integer expected":null},o.fromObject=function(t){if(t instanceof a.StringNumberPacketDataMessage)return t;var e=new a.StringNumberPacketDataMessage;return t.data!=null&&(e.data=String(t.data)),t.data1!=null&&(e.data1=t.data1>>>0),e},o.toObject=function(t,e){e||(e={});var r={};return e.defaults&&(r.data="",r.data1=0),t.data!=null&&t.hasOwnProperty("data")&&(r.data=t.data),t.data1!=null&&t.hasOwnProperty("data1")&&(r.data1=t.data1),r},o.prototype.toJSON=function(){return this.constructor.toObject(this,_0x19253a.util.toJSONOptions)},o.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/StringNumberPacketDataMessage"},o})(),a.StringObjectPacketDataMessage=(function(){function o(t){if(t)for(var e=Object.keys(t),r=0;r<e.length;++r)t[e[r]]!=null&&(this[e[r]]=t[e[r]])}return o.prototype.data="",o.prototype.data1="",o.create=function(t){return new o(t)},o.encode=function(t,e){return e||(e=n.create()),t.data!=null&&Object.hasOwnProperty.call(t,"data")&&e.uint32(10).string(t.data),t.data1!=null&&Object.hasOwnProperty.call(t,"data1")&&e.uint32(18).string(t.data1),e},o.encodeDelimited=function(t,e){return this.encode(t,e).ldelim()},o.decode=function(t,e,r){t instanceof c||(t=c.create(t));for(var d=e===void 0?t.len:t.pos+e,u=new a.StringObjectPacketDataMessage;t.pos<d;){var l=t.uint32();if(l===r)break;switch(l>>>3){case 1:u.data=t.string();break;case 2:u.data1=t.string();break;default:t.skipType(7&l)}}return u},o.decodeDelimited=function(t){return t instanceof c||(t=new c(t)),this.decode(t,t.uint32())},o.verify=function(t){return typeof t!="object"||t===null?"object expected":t.data!=null&&t.hasOwnProperty("data")&&!s.isString(t.data)?"data: string expected":t.data1!=null&&t.hasOwnProperty("data1")&&!s.isString(t.data1)?"data1: string expected":null},o.fromObject=function(t){if(t instanceof a.StringObjectPacketDataMessage)return t;var e=new a.StringObjectPacketDataMessage;return t.data!=null&&(e.data=String(t.data)),t.data1!=null&&(e.data1=String(t.data1)),e},o.toObject=function(t,e){e||(e={});var r={};return e.defaults&&(r.data="",r.data1=""),t.data!=null&&t.hasOwnProperty("data")&&(r.data=t.data),t.data1!=null&&t.hasOwnProperty("data1")&&(r.data1=t.data1),r},o.prototype.toJSON=function(){return this.constructor.toObject(this,_0x19253a.util.toJSONOptions)},o.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/StringObjectPacketDataMessage"},o})(),a.StringStringPacketDataMessage=(function(){function o(t){if(t)for(var e=Object.keys(t),r=0;r<e.length;++r)t[e[r]]!=null&&(this[e[r]]=t[e[r]])}return o.prototype.data="",o.prototype.data1="",o.create=function(t){return new o(t)},o.encode=function(t,e){return e||(e=n.create()),t.data!=null&&Object.hasOwnProperty.call(t,"data")&&e.uint32(10).string(t.data),t.data1!=null&&Object.hasOwnProperty.call(t,"data1")&&e.uint32(18).string(t.data1),e},o.encodeDelimited=function(t,e){return this.encode(t,e).ldelim()},o.decode=function(t,e,r){t instanceof c||(t=c.create(t));for(var d=e===void 0?t.len:t.pos+e,u=new a.StringStringPacketDataMessage;t.pos<d;){var l=t.uint32();if(l===r)break;switch(l>>>3){case 1:u.data=t.string();break;case 2:u.data1=t.string();break;default:t.skipType(7&l)}}return u},o.decodeDelimited=function(t){return t instanceof c||(t=new c(t)),this.decode(t,t.uint32())},o.verify=function(t){return typeof t!="object"||t===null?"object expected":t.data!=null&&t.hasOwnProperty("data")&&!s.isString(t.data)?"data: string expected":t.data1!=null&&t.hasOwnProperty("data1")&&!s.isString(t.data1)?"data1: string expected":null},o.fromObject=function(t){if(t instanceof a.StringStringPacketDataMessage)return t;var e=new a.StringStringPacketDataMessage;return t.data!=null&&(e.data=String(t.data)),t.data1!=null&&(e.data1=String(t.data1)),e},o.toObject=function(t,e){e||(e={});var r={};return e.defaults&&(r.data="",r.data1=""),t.data!=null&&t.hasOwnProperty("data")&&(r.data=t.data),t.data1!=null&&t.hasOwnProperty("data1")&&(r.data1=t.data1),r},o.prototype.toJSON=function(){return this.constructor.toObject(this,_0x19253a.util.toJSONOptions)},o.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/StringStringPacketDataMessage"},o})(),a})();class MessagesCompressor{static decode(n,s){const a=_getType(s).decode(typeof window>"u"?n:new Uint8Array(n));return s.fromJSON({...a})}static encode(n){const s=_getType(n.constructor),a=n.toJSON(),o=s.verify(a);if(o)throw Error(o);return s.encode(s.create(a)).finish()}}function _getType(c){return messages[c.DESCRIPTOR_NAME]}class GetManyUsersMessage extends Message{ids;static TYPE="22";static READABLE_TYPE_NAME="getManyUsers";static DESCRIPTOR_NAME="GetManyUsersMessage";static DESCRIPTOR={fields:{ids:{id:1,type:"string",rule:"repeated"}}};constructor(n){super(),this.ids=n}toJSON(){return{ids:this.ids}}static fromJSON(n){return new GetManyUsersMessage(n.ids)}}class GetManyUsersResponse extends Message{users;static DESCRIPTOR_NAME="GetManyUsersResponse";static DESCRIPTOR={fields:{users:{rule:"repeated",type:"UserDescriptor",id:1}}};constructor(n){super(),this.users=n}toJSON(){return{users:this.users.map(_userToJson)}}static fromJSON(n){return new GetManyUsersResponse(n.users.map(_userFromJson))}}function _userToJson(c){return{attributes:Object.keys(c).map(n=>({key:n,value:JSON.stringify(c[n])}))}}function _userFromJson(c){return c.attributes.reduce((n,s)=>(n[s.key]=s.value?JSON.parse(s.value):null,n),{})}class User{static _SERVICE=2;constructor(n={}){this._attributes=new Map;for(const s of Object.keys(n))s!=="id"?(this._attributes.set(s,n[s]),Object.defineProperty(this,s,{enumerable:!0,configurable:!1,get:()=>this._attributes.get(s)})):this.id=n.id}static fromData(n){return new User(n)}static async get(n,s){const a=new GetUserMessage(s);try{const o=await n._sendRequest(User._SERVICE,GetUserMessage.TYPE,MessagesCompressor.encode(a)),t=MessagesCompressor.decode(o,GetUserResponse);return new User(t.attributes)}catch{return new User({id:s})}}static async getMany(n,s){const a=new GetManyUsersMessage(s);try{const o=await n._sendRequest(User._SERVICE,GetManyUsersMessage.TYPE,MessagesCompressor.encode(a));return MessagesCompressor.decode(o,GetManyUsersResponse).users.map(t=>new User(t))}catch{return s.map(t=>new User({id:t}))}}}const PACKET_TYPES=Object.create(null);PACKET_TYPES.open="0",PACKET_TYPES.close="1",PACKET_TYPES.ping="2",PACKET_TYPES.pong="3",PACKET_TYPES.message="4",PACKET_TYPES.upgrade="5",PACKET_TYPES.noop="6";const PACKET_TYPES_REVERSE=Object.create(null);Object.keys(PACKET_TYPES).forEach(c=>{PACKET_TYPES_REVERSE[PACKET_TYPES[c]]=c});const ERROR_PACKET={type:"error",data:"parser error"},withNativeBlob$1=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",withNativeArrayBuffer$2=typeof ArrayBuffer=="function",isView$1=c=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(c):c&&c.buffer instanceof ArrayBuffer,encodePacket=({type:c,data:n},s,a)=>withNativeBlob$1&&n instanceof Blob?s?a(n):encodeBlobAsBase64(n,a):withNativeArrayBuffer$2&&(n instanceof ArrayBuffer||isView$1(n))?s?a(n):encodeBlobAsBase64(new Blob([n]),a):a(PACKET_TYPES[c]+(n||"")),encodeBlobAsBase64=(c,n)=>{const s=new FileReader;return s.onload=function(){const a=s.result.split(",")[1];n("b"+(a||""))},s.readAsDataURL(c)};function toArray(c){return c instanceof Uint8Array?c:c instanceof ArrayBuffer?new Uint8Array(c):new Uint8Array(c.buffer,c.byteOffset,c.byteLength)}let TEXT_ENCODER;function encodePacketToBinary(c,n){if(withNativeBlob$1&&c.data instanceof Blob)return c.data.arrayBuffer().then(toArray).then(n);if(withNativeArrayBuffer$2&&(c.data instanceof ArrayBuffer||isView$1(c.data)))return n(toArray(c.data));encodePacket(c,!1,s=>{TEXT_ENCODER||(TEXT_ENCODER=new TextEncoder),n(TEXT_ENCODER.encode(s))})}const chars="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",lookup$1=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let c=0;c<chars.length;c++)lookup$1[chars.charCodeAt(c)]=c;const decode$1=c=>{let n=c.length*.75,s=c.length,a,o=0,t,e,r,d;c[c.length-1]==="="&&(n--,c[c.length-2]==="="&&n--);const u=new ArrayBuffer(n),l=new Uint8Array(u);for(a=0;a<s;a+=4)t=lookup$1[c.charCodeAt(a)],e=lookup$1[c.charCodeAt(a+1)],r=lookup$1[c.charCodeAt(a+2)],d=lookup$1[c.charCodeAt(a+3)],l[o++]=t<<2|e>>4,l[o++]=(e&15)<<4|r>>2,l[o++]=(r&3)<<6|d&63;return u},withNativeArrayBuffer$1=typeof ArrayBuffer=="function",decodePacket=(c,n)=>{if(typeof c!="string")return{type:"message",data:mapBinary(c,n)};const s=c.charAt(0);return s==="b"?{type:"message",data:decodeBase64Packet(c.substring(1),n)}:PACKET_TYPES_REVERSE[s]?c.length>1?{type:PACKET_TYPES_REVERSE[s],data:c.substring(1)}:{type:PACKET_TYPES_REVERSE[s]}:ERROR_PACKET},decodeBase64Packet=(c,n)=>{if(withNativeArrayBuffer$1){const s=decode$1(c);return mapBinary(s,n)}else return{base64:!0,data:c}},mapBinary=(c,n)=>{switch(n){case"blob":return c instanceof Blob?c:new Blob([c]);case"arraybuffer":default:return c instanceof ArrayBuffer?c:c.buffer}},SEPARATOR="",encodePayload=(c,n)=>{const s=c.length,a=new Array(s);let o=0;c.forEach((t,e)=>{encodePacket(t,!1,r=>{a[e]=r,++o===s&&n(a.join(SEPARATOR))})})},decodePayload=(c,n)=>{const s=c.split(SEPARATOR),a=[];for(let o=0;o<s.length;o++){const t=decodePacket(s[o],n);if(a.push(t),t.type==="error")break}return a};function createPacketEncoderStream(){return new TransformStream({transform(c,n){encodePacketToBinary(c,s=>{const a=s.length;let o;if(a<126)o=new Uint8Array(1),new DataView(o.buffer).setUint8(0,a);else if(a<65536){o=new Uint8Array(3);const t=new DataView(o.buffer);t.setUint8(0,126),t.setUint16(1,a)}else{o=new Uint8Array(9);const t=new DataView(o.buffer);t.setUint8(0,127),t.setBigUint64(1,BigInt(a))}c.data&&typeof c.data!="string"&&(o[0]|=128),n.enqueue(o),n.enqueue(s)})}})}let TEXT_DECODER;function totalLength(c){return c.reduce((n,s)=>n+s.length,0)}function concatChunks(c,n){if(c[0].length===n)return c.shift();const s=new Uint8Array(n);let a=0;for(let o=0;o<n;o++)s[o]=c[0][a++],a===c[0].length&&(c.shift(),a=0);return c.length&&a<c[0].length&&(c[0]=c[0].slice(a)),s}function createPacketDecoderStream(c,n){TEXT_DECODER||(TEXT_DECODER=new TextDecoder);const s=[];let a=0,o=-1,t=!1;return new TransformStream({transform(e,r){for(s.push(e);;){if(a===0){if(totalLength(s)<1)break;const d=concatChunks(s,1);t=(d[0]&128)===128,o=d[0]&127,o<126?a=3:o===126?a=1:a=2}else if(a===1){if(totalLength(s)<2)break;const d=concatChunks(s,2);o=new DataView(d.buffer,d.byteOffset,d.length).getUint16(0),a=3}else if(a===2){if(totalLength(s)<8)break;const d=concatChunks(s,8),u=new DataView(d.buffer,d.byteOffset,d.length),l=u.getUint32(0);if(l>Math.pow(2,21)-1){r.enqueue(ERROR_PACKET);break}o=l*Math.pow(2,32)+u.getUint32(4),a=3}else{if(totalLength(s)<o)break;const d=concatChunks(s,o);r.enqueue(decodePacket(t?d:TEXT_DECODER.decode(d),n)),a=0}if(o===0||o>c){r.enqueue(ERROR_PACKET);break}}}})}const protocol$1=4;function Emitter(c){if(c)return mixin(c)}function mixin(c){for(var n in Emitter.prototype)c[n]=Emitter.prototype[n];return c}Emitter.prototype.on=Emitter.prototype.addEventListener=function(c,n){return this._callbacks=this._callbacks||{},(this._callbacks["$"+c]=this._callbacks["$"+c]||[]).push(n),this},Emitter.prototype.once=function(c,n){function s(){this.off(c,s),n.apply(this,arguments)}return s.fn=n,this.on(c,s),this},Emitter.prototype.off=Emitter.prototype.removeListener=Emitter.prototype.removeAllListeners=Emitter.prototype.removeEventListener=function(c,n){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var s=this._callbacks["$"+c];if(!s)return this;if(arguments.length==1)return delete this._callbacks["$"+c],this;for(var a,o=0;o<s.length;o++)if(a=s[o],a===n||a.fn===n){s.splice(o,1);break}return s.length===0&&delete this._callbacks["$"+c],this},Emitter.prototype.emit=function(c){this._callbacks=this._callbacks||{};for(var n=new Array(arguments.length-1),s=this._callbacks["$"+c],a=1;a<arguments.length;a++)n[a-1]=arguments[a];if(s){s=s.slice(0);for(var a=0,o=s.length;a<o;++a)s[a].apply(this,n)}return this},Emitter.prototype.emitReserved=Emitter.prototype.emit,Emitter.prototype.listeners=function(c){return this._callbacks=this._callbacks||{},this._callbacks["$"+c]||[]},Emitter.prototype.hasListeners=function(c){return!!this.listeners(c).length};const globalThisShim=typeof self<"u"?self:typeof window<"u"?window:Function("return this")();function pick(c,...n){return n.reduce((s,a)=>(c.hasOwnProperty(a)&&(s[a]=c[a]),s),{})}const NATIVE_SET_TIMEOUT=globalThisShim.setTimeout,NATIVE_CLEAR_TIMEOUT=globalThisShim.clearTimeout;function installTimerFunctions(c,n){n.useNativeTimers?(c.setTimeoutFn=NATIVE_SET_TIMEOUT.bind(globalThisShim),c.clearTimeoutFn=NATIVE_CLEAR_TIMEOUT.bind(globalThisShim)):(c.setTimeoutFn=globalThisShim.setTimeout.bind(globalThisShim),c.clearTimeoutFn=globalThisShim.clearTimeout.bind(globalThisShim))}const BASE64_OVERHEAD=1.33;function byteLength(c){return typeof c=="string"?utf8Length(c):Math.ceil((c.byteLength||c.size)*BASE64_OVERHEAD)}function utf8Length(c){let n=0,s=0;for(let a=0,o=c.length;a<o;a++)n=c.charCodeAt(a),n<128?s+=1:n<2048?s+=2:n<55296||n>=57344?s+=3:(a++,s+=4);return s}function encode$1(c){let n="";for(let s in c)c.hasOwnProperty(s)&&(n.length&&(n+="&"),n+=encodeURIComponent(s)+"="+encodeURIComponent(c[s]));return n}function decode(c){let n={},s=c.split("&");for(let a=0,o=s.length;a<o;a++){let t=s[a].split("=");n[decodeURIComponent(t[0])]=decodeURIComponent(t[1])}return n}class TransportError extends Error{constructor(n,s,a){super(n),this.description=s,this.context=a,this.type="TransportError"}}class Transport extends Emitter{constructor(n){super(),this.writable=!1,installTimerFunctions(this,n),this.opts=n,this.query=n.query,this.socket=n.socket}onError(n,s,a){return super.emitReserved("error",new TransportError(n,s,a)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(n){this.readyState==="open"&&this.write(n)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(n){const s=decodePacket(n,this.socket.binaryType);this.onPacket(s)}onPacket(n){super.emitReserved("packet",n)}onClose(n){this.readyState="closed",super.emitReserved("close",n)}pause(n){}createUri(n,s={}){return n+"://"+this._hostname()+this._port()+this.opts.path+this._query(s)}_hostname(){const n=this.opts.hostname;return n.indexOf(":")===-1?n:"["+n+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(n){const s=encode$1(n);return s.length?"?"+s:""}}const alphabet="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),length=64,map={};let seed=0,i=0,prev;function encode(c){let n="";do n=alphabet[c%length]+n,c=Math.floor(c/length);while(c>0);return n}function yeast(){const c=encode(+new Date);return c!==prev?(seed=0,prev=c):c+"."+encode(seed++)}for(;i<length;i++)map[alphabet[i]]=i;let value=!1;try{value=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch(c){}const hasCORS=value;function XHR(c){const n=c.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!n||hasCORS))return new XMLHttpRequest}catch{}if(!n)try{return new globalThisShim[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}function createCookieJar(){}function empty(){}const hasXHR2=(function(){return new XHR({xdomain:!1}).responseType!=null})();class Polling extends Transport{constructor(n){if(super(n),this.polling=!1,typeof location<"u"){const a=location.protocol==="https:";let o=location.port;o||(o=a?"443":"80"),this.xd=typeof location<"u"&&n.hostname!==location.hostname||o!==n.port}const s=n&&n.forceBase64;this.supportsBinary=hasXHR2&&!s,this.opts.withCredentials&&(this.cookieJar=void 0)}get name(){return"polling"}doOpen(){this.poll()}pause(n){this.readyState="pausing";const s=()=>{this.readyState="paused",n()};if(this.polling||!this.writable){let a=0;this.polling&&(a++,this.once("pollComplete",function(){--a||s()})),this.writable||(a++,this.once("drain",function(){--a||s()}))}else s()}poll(){this.polling=!0,this.doPoll(),this.emitReserved("poll")}onData(n){const s=a=>{if(this.readyState==="opening"&&a.type==="open"&&this.onOpen(),a.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(a)};decodePayload(n,this.socket.binaryType).forEach(s),this.readyState!=="closed"&&(this.polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this.poll())}doClose(){const n=()=>{this.write([{type:"close"}])};this.readyState==="open"?n():this.once("open",n)}write(n){this.writable=!1,encodePayload(n,s=>{this.doWrite(s,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const n=this.opts.secure?"https":"http",s=this.query||{};return this.opts.timestampRequests!==!1&&(s[this.opts.timestampParam]=yeast()),!this.supportsBinary&&!s.sid&&(s.b64=1),this.createUri(n,s)}request(n={}){return Object.assign(n,{xd:this.xd,cookieJar:this.cookieJar},this.opts),new Request(this.uri(),n)}doWrite(n,s){const a=this.request({method:"POST",data:n});a.on("success",s),a.on("error",(o,t)=>{this.onError("xhr post error",o,t)})}doPoll(){const n=this.request();n.on("data",this.onData.bind(this)),n.on("error",(s,a)=>{this.onError("xhr poll error",s,a)}),this.pollXhr=n}}class Request extends Emitter{constructor(n,s){super(),installTimerFunctions(this,s),this.opts=s,this.method=s.method||"GET",this.uri=n,this.data=s.data!==void 0?s.data:null,this.create()}create(){var n;const s=pick(this.opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");s.xdomain=!!this.opts.xd;const a=this.xhr=new XHR(s);try{a.open(this.method,this.uri,!0);try{if(this.opts.extraHeaders){a.setDisableHeaderCheck&&a.setDisableHeaderCheck(!0);for(let o in this.opts.extraHeaders)this.opts.extraHeaders.hasOwnProperty(o)&&a.setRequestHeader(o,this.opts.extraHeaders[o])}}catch{}if(this.method==="POST")try{a.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{a.setRequestHeader("Accept","*/*")}catch{}(n=this.opts.cookieJar)===null||n===void 0||n.addCookies(a),"withCredentials"in a&&(a.withCredentials=this.opts.withCredentials),this.opts.requestTimeout&&(a.timeout=this.opts.requestTimeout),a.onreadystatechange=()=>{var o;a.readyState===3&&((o=this.opts.cookieJar)===null||o===void 0||o.parseCookies(a)),a.readyState===4&&(a.status===200||a.status===1223?this.onLoad():this.setTimeoutFn(()=>{this.onError(typeof a.status=="number"?a.status:0)},0))},a.send(this.data)}catch(o){this.setTimeoutFn(()=>{this.onError(o)},0);return}typeof document<"u"&&(this.index=Request.requestsCount++,Request.requests[this.index]=this)}onError(n){this.emitReserved("error",n,this.xhr),this.cleanup(!0)}cleanup(n){if(!(typeof this.xhr>"u"||this.xhr===null)){if(this.xhr.onreadystatechange=empty,n)try{this.xhr.abort()}catch{}typeof document<"u"&&delete Request.requests[this.index],this.xhr=null}}onLoad(){const n=this.xhr.responseText;n!==null&&(this.emitReserved("data",n),this.emitReserved("success"),this.cleanup())}abort(){this.cleanup()}}if(Request.requestsCount=0,Request.requests={},typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",unloadHandler);else if(typeof addEventListener=="function"){const c="onpagehide"in globalThisShim?"pagehide":"unload";addEventListener(c,unloadHandler,!1)}}function unloadHandler(){for(let c in Request.requests)Request.requests.hasOwnProperty(c)&&Request.requests[c].abort()}const nextTick=typeof Promise=="function"&&typeof Promise.resolve=="function"?n=>Promise.resolve().then(n):(n,s)=>s(n,0),WebSocket=globalThisShim.WebSocket||globalThisShim.MozWebSocket,usingBrowserWebSocket=!0,defaultBinaryType="arraybuffer",isReactNative=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class WS extends Transport{constructor(n){super(n),this.supportsBinary=!n.forceBase64}get name(){return"websocket"}doOpen(){if(!this.check())return;const n=this.uri(),s=this.opts.protocols,a=isReactNative?{}:pick(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(a.headers=this.opts.extraHeaders);try{this.ws=usingBrowserWebSocket&&!isReactNative?s?new WebSocket(n,s):new WebSocket(n):new WebSocket(n,s,a)}catch(o){return this.emitReserved("error",o)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=n=>this.onClose({description:"websocket connection closed",context:n}),this.ws.onmessage=n=>this.onData(n.data),this.ws.onerror=n=>this.onError("websocket error",n)}write(n){this.writable=!1;for(let s=0;s<n.length;s++){const a=n[s],o=s===n.length-1;encodePacket(a,this.supportsBinary,t=>{const e={};try{usingBrowserWebSocket&&this.ws.send(t)}catch{}o&&nextTick(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.close(),this.ws=null)}uri(){const n=this.opts.secure?"wss":"ws",s=this.query||{};return this.opts.timestampRequests&&(s[this.opts.timestampParam]=yeast()),this.supportsBinary||(s.b64=1),this.createUri(n,s)}check(){return!!WebSocket}}class WT extends Transport{get name(){return"webtransport"}doOpen(){typeof WebTransport=="function"&&(this.transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name]),this.transport.closed.then(()=>{this.onClose()}).catch(n=>{this.onError("webtransport error",n)}),this.transport.ready.then(()=>{this.transport.createBidirectionalStream().then(n=>{const s=createPacketDecoderStream(Number.MAX_SAFE_INTEGER,this.socket.binaryType),a=n.readable.pipeThrough(s).getReader(),o=createPacketEncoderStream();o.readable.pipeTo(n.writable),this.writer=o.writable.getWriter();const t=()=>{a.read().then(({done:r,value:d})=>{r||(this.onPacket(d),t())}).catch(r=>{})};t();const e={type:"open"};this.query.sid&&(e.data=`{"sid":"${this.query.sid}"}`),this.writer.write(e).then(()=>this.onOpen())})}))}write(n){this.writable=!1;for(let s=0;s<n.length;s++){const a=n[s],o=s===n.length-1;this.writer.write(a).then(()=>{o&&nextTick(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var n;(n=this.transport)===null||n===void 0||n.close()}}const transports={websocket:WS,webtransport:WT,polling:Polling},re=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,parts=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function parse(c){if(c.length>2e3)throw"URI too long";const n=c,s=c.indexOf("["),a=c.indexOf("]");s!=-1&&a!=-1&&(c=c.substring(0,s)+c.substring(s,a).replace(/:/g,";")+c.substring(a,c.length));let o=re.exec(c||""),t={},e=14;for(;e--;)t[parts[e]]=o[e]||"";return s!=-1&&a!=-1&&(t.source=n,t.host=t.host.substring(1,t.host.length-1).replace(/;/g,":"),t.authority=t.authority.replace("[","").replace("]","").replace(/;/g,":"),t.ipv6uri=!0),t.pathNames=pathNames(t,t.path),t.queryKey=queryKey(t,t.query),t}function pathNames(c,n){const s=/\/{2,9}/g,a=n.replace(s,"/").split("/");return(n.slice(0,1)=="/"||n.length===0)&&a.splice(0,1),n.slice(-1)=="/"&&a.splice(a.length-1,1),a}function queryKey(c,n){const s={};return n.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(a,o,t){o&&(s[o]=t)}),s}let Socket$1=class j extends Emitter{constructor(n,s={}){super(),this.binaryType=defaultBinaryType,this.writeBuffer=[],n&&typeof n=="object"&&(s=n,n=null),n?(n=parse(n),s.hostname=n.host,s.secure=n.protocol==="https"||n.protocol==="wss",s.port=n.port,n.query&&(s.query=n.query)):s.host&&(s.hostname=parse(s.host).host),installTimerFunctions(this,s),this.secure=s.secure!=null?s.secure:typeof location<"u"&&location.protocol==="https:",s.hostname&&!s.port&&(s.port=this.secure?"443":"80"),this.hostname=s.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=s.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=s.transports||["polling","websocket","webtransport"],this.writeBuffer=[],this.prevBufferLen=0,this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},s),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=decode(this.opts.query)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingTimeoutTimer=null,typeof addEventListener=="function"&&(this.opts.closeOnBeforeunload&&(this.beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this.beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this.offlineEventListener=()=>{this.onClose("transport close",{description:"network connection lost"})},addEventListener("offline",this.offlineEventListener,!1))),this.open()}createTransport(n){const s=Object.assign({},this.opts.query);s.EIO=protocol$1,s.transport=n,this.id&&(s.sid=this.id);const a=Object.assign({},this.opts,{query:s,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[n]);return new transports[n](a)}open(){let n;if(this.opts.rememberUpgrade&&j.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1)n="websocket";else if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}else n=this.transports[0];this.readyState="opening";try{n=this.createTransport(n)}catch{this.transports.shift(),this.open();return}n.open(),this.setTransport(n)}setTransport(n){this.transport&&this.transport.removeAllListeners(),this.transport=n,n.on("drain",this.onDrain.bind(this)).on("packet",this.onPacket.bind(this)).on("error",this.onError.bind(this)).on("close",s=>this.onClose("transport close",s))}probe(n){let s=this.createTransport(n),a=!1;j.priorWebsocketSuccess=!1;const o=()=>{a||(s.send([{type:"ping",data:"probe"}]),s.once("packet",m=>{if(!a)if(m.type==="pong"&&m.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",s),!s)return;j.priorWebsocketSuccess=s.name==="websocket",this.transport.pause(()=>{a||this.readyState!=="closed"&&(l(),this.setTransport(s),s.send([{type:"upgrade"}]),this.emitReserved("upgrade",s),s=null,this.upgrading=!1,this.flush())})}else{const h=new Error("probe error");h.transport=s.name,this.emitReserved("upgradeError",h)}}))};function t(){a||(a=!0,l(),s.close(),s=null)}const e=m=>{const h=new Error("probe error: "+m);h.transport=s.name,t(),this.emitReserved("upgradeError",h)};function r(){e("transport closed")}function d(){e("socket closed")}function u(m){s&&m.name!==s.name&&t()}const l=()=>{s.removeListener("open",o),s.removeListener("error",e),s.removeListener("close",r),this.off("close",d),this.off("upgrading",u)};s.once("open",o),s.once("error",e),s.once("close",r),this.once("close",d),this.once("upgrading",u),this.upgrades.indexOf("webtransport")!==-1&&n!=="webtransport"?this.setTimeoutFn(()=>{a||s.open()},200):s.open()}onOpen(){if(this.readyState="open",j.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush(),this.readyState==="open"&&this.opts.upgrade){let n=0;const s=this.upgrades.length;for(;n<s;n++)this.probe(this.upgrades[n])}}onPacket(n){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",n),this.emitReserved("heartbeat"),this.resetPingTimeout(),n.type){case"open":this.onHandshake(JSON.parse(n.data));break;case"ping":this.sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong");break;case"error":const s=new Error("server error");s.code=n.data,this.onError(s);break;case"message":this.emitReserved("data",n.data),this.emitReserved("message",n.data);break}}onHandshake(n){this.emitReserved("handshake",n),this.id=n.sid,this.transport.query.sid=n.sid,this.upgrades=this.filterUpgrades(n.upgrades),this.pingInterval=n.pingInterval,this.pingTimeout=n.pingTimeout,this.maxPayload=n.maxPayload,this.onOpen(),this.readyState!=="closed"&&this.resetPingTimeout()}resetPingTimeout(){this.clearTimeoutFn(this.pingTimeoutTimer),this.pingTimeoutTimer=this.setTimeoutFn(()=>{this.onClose("ping timeout")},this.pingInterval+this.pingTimeout),this.opts.autoUnref&&this.pingTimeoutTimer.unref()}onDrain(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const n=this.getWritablePackets();this.transport.send(n),this.prevBufferLen=n.length,this.emitReserved("flush")}}getWritablePackets(){if(!(this.maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let s=1;for(let a=0;a<this.writeBuffer.length;a++){const o=this.writeBuffer[a].data;if(o&&(s+=byteLength(o)),a>0&&s>this.maxPayload)return this.writeBuffer.slice(0,a);s+=2}return this.writeBuffer}write(n,s,a){return this.sendPacket("message",n,s,a),this}send(n,s,a){return this.sendPacket("message",n,s,a),this}sendPacket(n,s,a,o){if(typeof s=="function"&&(o=s,s=void 0),typeof a=="function"&&(o=a,a=null),this.readyState==="closing"||this.readyState==="closed")return;a=a||{},a.compress=a.compress!==!1;const t={type:n,data:s,options:a};this.emitReserved("packetCreate",t),this.writeBuffer.push(t),o&&this.once("flush",o),this.flush()}close(){const n=()=>{this.onClose("forced close"),this.transport.close()},s=()=>{this.off("upgrade",s),this.off("upgradeError",s),n()},a=()=>{this.once("upgrade",s),this.once("upgradeError",s)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?a():n()}):this.upgrading?a():n()),this}onError(n){j.priorWebsocketSuccess=!1,this.emitReserved("error",n),this.onClose("transport error",n)}onClose(n,s){(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")&&(this.clearTimeoutFn(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),typeof removeEventListener=="function"&&(removeEventListener("beforeunload",this.beforeunloadEventListener,!1),removeEventListener("offline",this.offlineEventListener,!1)),this.readyState="closed",this.id=null,this.emitReserved("close",n,s),this.writeBuffer=[],this.prevBufferLen=0)}filterUpgrades(n){const s=[];let a=0;const o=n.length;for(;a<o;a++)~this.transports.indexOf(n[a])&&s.push(n[a]);return s}};Socket$1.protocol=protocol$1;function url(c,n="",s){let a=c;s=s||typeof location<"u"&&location,c==null&&(c=s.protocol+"//"+s.host),typeof c=="string"&&(c.charAt(0)==="/"&&(c.charAt(1)==="/"?c=s.protocol+c:c=s.host+c),/^(https?|wss?):\/\//.test(c)||(typeof s<"u"?c=s.protocol+"//"+c:c="https://"+c),a=parse(c)),a.port||(/^(http|ws)$/.test(a.protocol)?a.port="80":/^(http|ws)s$/.test(a.protocol)&&(a.port="443")),a.path=a.path||"/";const t=a.host.indexOf(":")!==-1?"["+a.host+"]":a.host;return a.id=a.protocol+"://"+t+":"+a.port+n,a.href=a.protocol+"://"+t+(s&&s.port===a.port?"":":"+a.port),a}const withNativeArrayBuffer=typeof ArrayBuffer=="function",isView=c=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(c):c.buffer instanceof ArrayBuffer,toString=Object.prototype.toString,withNativeBlob=typeof Blob=="function"||typeof Blob<"u"&&toString.call(Blob)==="[object BlobConstructor]",withNativeFile=typeof File=="function"||typeof File<"u"&&toString.call(File)==="[object FileConstructor]";function isBinary(c){return withNativeArrayBuffer&&(c instanceof ArrayBuffer||isView(c))||withNativeBlob&&c instanceof Blob||withNativeFile&&c instanceof File}function hasBinary(c,n){if(!c||typeof c!="object")return!1;if(Array.isArray(c)){for(let s=0,a=c.length;s<a;s++)if(hasBinary(c[s]))return!0;return!1}if(isBinary(c))return!0;if(c.toJSON&&typeof c.toJSON=="function"&&arguments.length===1)return hasBinary(c.toJSON(),!0);for(const s in c)if(Object.prototype.hasOwnProperty.call(c,s)&&hasBinary(c[s]))return!0;return!1}function deconstructPacket(c){const n=[],s=c.data,a=c;return a.data=_deconstructPacket(s,n),a.attachments=n.length,{packet:a,buffers:n}}function _deconstructPacket(c,n){if(!c)return c;if(isBinary(c)){const s={_placeholder:!0,num:n.length};return n.push(c),s}else if(Array.isArray(c)){const s=new Array(c.length);for(let a=0;a<c.length;a++)s[a]=_deconstructPacket(c[a],n);return s}else if(typeof c=="object"&&!(c instanceof Date)){const s={};for(const a in c)Object.prototype.hasOwnProperty.call(c,a)&&(s[a]=_deconstructPacket(c[a],n));return s}return c}function reconstructPacket(c,n){return c.data=_reconstructPacket(c.data,n),delete c.attachments,c}function _reconstructPacket(c,n){if(!c)return c;if(c&&c._placeholder===!0){if(typeof c.num=="number"&&c.num>=0&&c.num<n.length)return n[c.num];throw new Error("illegal attachments")}else if(Array.isArray(c))for(let s=0;s<c.length;s++)c[s]=_reconstructPacket(c[s],n);else if(typeof c=="object")for(const s in c)Object.prototype.hasOwnProperty.call(c,s)&&(c[s]=_reconstructPacket(c[s],n));return c}const RESERVED_EVENTS$1=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],protocol=5;var PacketType;(function(c){c[c.CONNECT=0]="CONNECT",c[c.DISCONNECT=1]="DISCONNECT",c[c.EVENT=2]="EVENT",c[c.ACK=3]="ACK",c[c.CONNECT_ERROR=4]="CONNECT_ERROR",c[c.BINARY_EVENT=5]="BINARY_EVENT",c[c.BINARY_ACK=6]="BINARY_ACK"})(PacketType||(PacketType={}));let Encoder$1=class{constructor(n){this.replacer=n}encode(n){return(n.type===PacketType.EVENT||n.type===PacketType.ACK)&&hasBinary(n)?this.encodeAsBinary({type:n.type===PacketType.EVENT?PacketType.BINARY_EVENT:PacketType.BINARY_ACK,nsp:n.nsp,data:n.data,id:n.id}):[this.encodeAsString(n)]}encodeAsString(n){let s=""+n.type;return(n.type===PacketType.BINARY_EVENT||n.type===PacketType.BINARY_ACK)&&(s+=n.attachments+"-"),n.nsp&&n.nsp!=="/"&&(s+=n.nsp+","),n.id!=null&&(s+=n.id),n.data!=null&&(s+=JSON.stringify(n.data,this.replacer)),s}encodeAsBinary(n){const s=deconstructPacket(n),a=this.encodeAsString(s.packet),o=s.buffers;return o.unshift(a),o}};function isObject(c){return Object.prototype.toString.call(c)==="[object Object]"}let Decoder$1=class q extends Emitter{constructor(n){super(),this.reviver=n}add(n){let s;if(typeof n=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");s=this.decodeString(n);const a=s.type===PacketType.BINARY_EVENT;a||s.type===PacketType.BINARY_ACK?(s.type=a?PacketType.EVENT:PacketType.ACK,this.reconstructor=new BinaryReconstructor(s),s.attachments===0&&super.emitReserved("decoded",s)):super.emitReserved("decoded",s)}else if(isBinary(n)||n.base64)if(this.reconstructor)s=this.reconstructor.takeBinaryData(n),s&&(this.reconstructor=null,super.emitReserved("decoded",s));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+n)}decodeString(n){let s=0;const a={type:Number(n.charAt(0))};if(PacketType[a.type]===void 0)throw new Error("unknown packet type "+a.type);if(a.type===PacketType.BINARY_EVENT||a.type===PacketType.BINARY_ACK){const t=s+1;for(;n.charAt(++s)!=="-"&&s!=n.length;);const e=n.substring(t,s);if(e!=Number(e)||n.charAt(s)!=="-")throw new Error("Illegal attachments");a.attachments=Number(e)}if(n.charAt(s+1)==="/"){const t=s+1;for(;++s&&!(n.charAt(s)===","||s===n.length););a.nsp=n.substring(t,s)}else a.nsp="/";const o=n.charAt(s+1);if(o!==""&&Number(o)==o){const t=s+1;for(;++s;){const e=n.charAt(s);if(e==null||Number(e)!=e){--s;break}if(s===n.length)break}a.id=Number(n.substring(t,s+1))}if(n.charAt(++s)){const t=this.tryParse(n.substr(s));if(q.isPayloadValid(a.type,t))a.data=t;else throw new Error("invalid payload")}return a}tryParse(n){try{return JSON.parse(n,this.reviver)}catch{return!1}}static isPayloadValid(n,s){switch(n){case PacketType.CONNECT:return isObject(s);case PacketType.DISCONNECT:return s===void 0;case PacketType.CONNECT_ERROR:return typeof s=="string"||isObject(s);case PacketType.EVENT:case PacketType.BINARY_EVENT:return Array.isArray(s)&&(typeof s[0]=="number"||typeof s[0]=="string"&&RESERVED_EVENTS$1.indexOf(s[0])===-1);case PacketType.ACK:case PacketType.BINARY_ACK:return Array.isArray(s)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}};class BinaryReconstructor{constructor(n){this.packet=n,this.buffers=[],this.reconPack=n}takeBinaryData(n){if(this.buffers.push(n),this.buffers.length===this.reconPack.attachments){const s=reconstructPacket(this.reconPack,this.buffers);return this.finishedReconstruction(),s}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}var parser=Object.freeze({__proto__:null,Decoder:Decoder$1,Encoder:Encoder$1,get PacketType(){return PacketType},protocol});function on(c,n,s){return c.on(n,s),function(){c.off(n,s)}}const RESERVED_EVENTS=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class Socket extends Emitter{constructor(n,s,a){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=n,this.nsp=s,a&&a.auth&&(this.auth=a.auth),this._opts=Object.assign({},a),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const n=this.io;this.subs=[on(n,"open",this.onopen.bind(this)),on(n,"packet",this.onpacket.bind(this)),on(n,"error",this.onerror.bind(this)),on(n,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...n){return n.unshift("message"),this.emit.apply(this,n),this}emit(n,...s){if(RESERVED_EVENTS.hasOwnProperty(n))throw new Error('"'+n.toString()+'" is a reserved event name');if(s.unshift(n),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(s),this;const a={type:PacketType.EVENT,data:s};if(a.options={},a.options.compress=this.flags.compress!==!1,typeof s[s.length-1]=="function"){const e=this.ids++,r=s.pop();this._registerAckCallback(e,r),a.id=e}const o=this.io.engine&&this.io.engine.transport&&this.io.engine.transport.writable;return this.flags.volatile&&(!o||!this.connected)||(this.connected?(this.notifyOutgoingListeners(a),this.packet(a)):this.sendBuffer.push(a)),this.flags={},this}_registerAckCallback(n,s){var a;const o=(a=this.flags.timeout)!==null&&a!==void 0?a:this._opts.ackTimeout;if(o===void 0){this.acks[n]=s;return}const t=this.io.setTimeoutFn(()=>{delete this.acks[n];for(let e=0;e<this.sendBuffer.length;e++)this.sendBuffer[e].id===n&&this.sendBuffer.splice(e,1);s.call(this,new Error("operation has timed out"))},o);this.acks[n]=(...e)=>{this.io.clearTimeoutFn(t),s.apply(this,[null,...e])}}emitWithAck(n,...s){const a=this.flags.timeout!==void 0||this._opts.ackTimeout!==void 0;return new Promise((o,t)=>{s.push((e,r)=>a?e?t(e):o(r):o(e)),this.emit(n,...s)})}_addToQueue(n){let s;typeof n[n.length-1]=="function"&&(s=n.pop());const a={id:this._queueSeq++,tryCount:0,pending:!1,args:n,flags:Object.assign({fromQueue:!0},this.flags)};n.push((o,...t)=>a!==this._queue[0]?void 0:(o!==null?a.tryCount>this._opts.retries&&(this._queue.shift(),s&&s(o)):(this._queue.shift(),s&&s(null,...t)),a.pending=!1,this._drainQueue())),this._queue.push(a),this._drainQueue()}_drainQueue(n=!1){if(!this.connected||this._queue.length===0)return;const s=this._queue[0];s.pending&&!n||(s.pending=!0,s.tryCount++,this.flags=s.flags,this.emit.apply(this,s.args))}packet(n){n.nsp=this.nsp,this.io._packet(n)}onopen(){typeof this.auth=="function"?this.auth(n=>{this._sendConnectPacket(n)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(n){this.packet({type:PacketType.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},n):n})}onerror(n){this.connected||this.emitReserved("connect_error",n)}onclose(n,s){this.connected=!1,delete this.id,this.emitReserved("disconnect",n,s)}onpacket(n){if(n.nsp===this.nsp)switch(n.type){case PacketType.CONNECT:n.data&&n.data.sid?this.onconnect(n.data.sid,n.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case PacketType.EVENT:case PacketType.BINARY_EVENT:this.onevent(n);break;case PacketType.ACK:case PacketType.BINARY_ACK:this.onack(n);break;case PacketType.DISCONNECT:this.ondisconnect();break;case PacketType.CONNECT_ERROR:this.destroy();const a=new Error(n.data.message);a.data=n.data.data,this.emitReserved("connect_error",a);break}}onevent(n){const s=n.data||[];n.id!=null&&s.push(this.ack(n.id)),this.connected?this.emitEvent(s):this.receiveBuffer.push(Object.freeze(s))}emitEvent(n){if(this._anyListeners&&this._anyListeners.length){const s=this._anyListeners.slice();for(const a of s)a.apply(this,n)}super.emit.apply(this,n),this._pid&&n.length&&typeof n[n.length-1]=="string"&&(this._lastOffset=n[n.length-1])}ack(n){const s=this;let a=!1;return function(...o){a||(a=!0,s.packet({type:PacketType.ACK,id:n,data:o}))}}onack(n){const s=this.acks[n.id];typeof s=="function"&&(s.apply(this,n.data),delete this.acks[n.id])}onconnect(n,s){this.id=n,this.recovered=s&&this._pid===s,this._pid=s,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(n=>this.emitEvent(n)),this.receiveBuffer=[],this.sendBuffer.forEach(n=>{this.notifyOutgoingListeners(n),this.packet(n)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(n=>n()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:PacketType.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(n){return this.flags.compress=n,this}get volatile(){return this.flags.volatile=!0,this}timeout(n){return this.flags.timeout=n,this}onAny(n){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(n),this}prependAny(n){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(n),this}offAny(n){if(!this._anyListeners)return this;if(n){const s=this._anyListeners;for(let a=0;a<s.length;a++)if(n===s[a])return s.splice(a,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(n){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(n),this}prependAnyOutgoing(n){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(n),this}offAnyOutgoing(n){if(!this._anyOutgoingListeners)return this;if(n){const s=this._anyOutgoingListeners;for(let a=0;a<s.length;a++)if(n===s[a])return s.splice(a,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(n){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const s=this._anyOutgoingListeners.slice();for(const a of s)a.apply(this,n.data)}}}function Backoff(c){c=c||{},this.ms=c.min||100,this.max=c.max||1e4,this.factor=c.factor||2,this.jitter=c.jitter>0&&c.jitter<=1?c.jitter:0,this.attempts=0}Backoff.prototype.duration=function(){var c=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var n=Math.random(),s=Math.floor(n*this.jitter*c);c=(Math.floor(n*10)&1)==0?c-s:c+s}return Math.min(c,this.max)|0},Backoff.prototype.reset=function(){this.attempts=0},Backoff.prototype.setMin=function(c){this.ms=c},Backoff.prototype.setMax=function(c){this.max=c},Backoff.prototype.setJitter=function(c){this.jitter=c};class Manager extends Emitter{constructor(n,s){var a;super(),this.nsps={},this.subs=[],n&&typeof n=="object"&&(s=n,n=void 0),s=s||{},s.path=s.path||"/socket.io",this.opts=s,installTimerFunctions(this,s),this.reconnection(s.reconnection!==!1),this.reconnectionAttempts(s.reconnectionAttempts||1/0),this.reconnectionDelay(s.reconnectionDelay||1e3),this.reconnectionDelayMax(s.reconnectionDelayMax||5e3),this.randomizationFactor((a=s.randomizationFactor)!==null&&a!==void 0?a:.5),this.backoff=new Backoff({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(s.timeout==null?2e4:s.timeout),this._readyState="closed",this.uri=n;const o=s.parser||parser;this.encoder=new o.Encoder,this.decoder=new o.Decoder,this._autoConnect=s.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(n){return arguments.length?(this._reconnection=!!n,this):this._reconnection}reconnectionAttempts(n){return n===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=n,this)}reconnectionDelay(n){var s;return n===void 0?this._reconnectionDelay:(this._reconnectionDelay=n,(s=this.backoff)===null||s===void 0||s.setMin(n),this)}randomizationFactor(n){var s;return n===void 0?this._randomizationFactor:(this._randomizationFactor=n,(s=this.backoff)===null||s===void 0||s.setJitter(n),this)}reconnectionDelayMax(n){var s;return n===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=n,(s=this.backoff)===null||s===void 0||s.setMax(n),this)}timeout(n){return arguments.length?(this._timeout=n,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(n){if(~this._readyState.indexOf("open"))return this;this.engine=new Socket$1(this.uri,this.opts);const s=this.engine,a=this;this._readyState="opening",this.skipReconnect=!1;const o=on(s,"open",function(){a.onopen(),n&&n()}),t=r=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",r),n?n(r):this.maybeReconnectOnOpen()},e=on(s,"error",t);if(this._timeout!==!1){const r=this._timeout,d=this.setTimeoutFn(()=>{o(),t(new Error("timeout")),s.close()},r);this.opts.autoUnref&&d.unref(),this.subs.push(()=>{this.clearTimeoutFn(d)})}return this.subs.push(o),this.subs.push(e),this}connect(n){return this.open(n)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const n=this.engine;this.subs.push(on(n,"ping",this.onping.bind(this)),on(n,"data",this.ondata.bind(this)),on(n,"error",this.onerror.bind(this)),on(n,"close",this.onclose.bind(this)),on(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(n){try{this.decoder.add(n)}catch(s){this.onclose("parse error",s)}}ondecoded(n){nextTick(()=>{this.emitReserved("packet",n)},this.setTimeoutFn)}onerror(n){this.emitReserved("error",n)}socket(n,s){let a=this.nsps[n];return a?this._autoConnect&&!a.active&&a.connect():(a=new Socket(this,n,s),this.nsps[n]=a),a}_destroy(n){const s=Object.keys(this.nsps);for(const a of s)if(this.nsps[a].active)return;this._close()}_packet(n){const s=this.encoder.encode(n);for(let a=0;a<s.length;a++)this.engine.write(s[a],n.options)}cleanup(){this.subs.forEach(n=>n()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close"),this.engine&&this.engine.close()}disconnect(){return this._close()}onclose(n,s){this.cleanup(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",n,s),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const n=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const s=this.backoff.duration();this._reconnecting=!0;const a=this.setTimeoutFn(()=>{n.skipReconnect||(this.emitReserved("reconnect_attempt",n.backoff.attempts),!n.skipReconnect&&n.open(o=>{o?(n._reconnecting=!1,n.reconnect(),this.emitReserved("reconnect_error",o)):n.onreconnect()}))},s);this.opts.autoUnref&&a.unref(),this.subs.push(()=>{this.clearTimeoutFn(a)})}}onreconnect(){const n=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",n)}}const cache={};function lookup(c,n){typeof c=="object"&&(n=c,c=void 0),n=n||{};const s=url(c,n.path||"/socket.io"),a=s.source,o=s.id,t=s.path,e=cache[o]&&t in cache[o].nsps,r=n.forceNew||n["force new connection"]||n.multiplex===!1||e;let d;return r?d=new Manager(a,n):(cache[o]||(cache[o]=new Manager(a,n)),d=cache[o]),s.query&&!n.query&&(n.query=s.queryKey),d.socket(s.path,n)}Object.assign(lookup,{Manager,Socket,io:lookup,connect:lookup});var requiresPort,hasRequiredRequiresPort;function requireRequiresPort(){return hasRequiredRequiresPort||(hasRequiredRequiresPort=1,requiresPort=function(n,s){if(s=s.split(":")[0],n=+n,!n)return!1;switch(s){case"http":case"ws":return n!==80;case"https":case"wss":return n!==443;case"ftp":return n!==21;case"gopher":return n!==70;case"file":return!1}return n!==0}),requiresPort}var querystringify={},hasRequiredQuerystringify;function requireQuerystringify(){if(hasRequiredQuerystringify)return querystringify;hasRequiredQuerystringify=1;var c=Object.prototype.hasOwnProperty,n;function s(e){try{return decodeURIComponent(e.replace(/\+/g," "))}catch{return null}}function a(e){try{return encodeURIComponent(e)}catch{return null}}function o(e){for(var r=/([^=?#&]+)=?([^&]*)/g,d={},u;u=r.exec(e);){var l=s(u[1]),m=s(u[2]);l===null||m===null||l in d||(d[l]=m)}return d}function t(e,r){r=r||"";var d=[],u,l;typeof r!="string"&&(r="?");for(l in e)if(c.call(e,l)){if(u=e[l],!u&&(u===null||u===n||isNaN(u))&&(u=""),l=a(l),u=a(u),l===null||u===null)continue;d.push(l+"="+u)}return d.length?r+d.join("&"):""}return querystringify.stringify=t,querystringify.parse=o,querystringify}var urlParse,hasRequiredUrlParse;function requireUrlParse(){if(hasRequiredUrlParse)return urlParse;hasRequiredUrlParse=1;var c=requireRequiresPort(),n=requireQuerystringify(),s=/^[\x00-\x20\u00a0\u1680\u2000-\u200a\u2028\u2029\u202f\u205f\u3000\ufeff]+/,a=/[\n\r\t]/g,o=/^[A-Za-z][A-Za-z0-9+-.]*:\/\//,t=/:\d+$/,e=/^([a-z][a-z0-9.+-]*:)?(\/\/)?([\\/]+)?([\S\s]*)/i,r=/^[a-zA-Z]:/;function d(O){return(O||"").toString().replace(s,"")}var u=[["#","hash"],["?","query"],function(I,C){return h(C.protocol)?I.replace(/\\/g,"/"):I},["/","pathname"],["@","auth",1],[NaN,"host",void 0,1,1],[/:(\d*)$/,"port",void 0,1],[NaN,"hostname",void 0,1,1]],l={hash:1,query:1};function m(O){var I;typeof window<"u"?I=window:typeof commonjsGlobal<"u"?I=commonjsGlobal:typeof self<"u"?I=self:I={};var C=I.location||{};O=O||C;var v={},R=typeof O,E;if(O.protocol==="blob:")v=new S(unescape(O.pathname),{});else if(R==="string"){v=new S(O,{});for(E in l)delete v[E]}else if(R==="object"){for(E in O)E in l||(v[E]=O[E]);v.slashes===void 0&&(v.slashes=o.test(O.href))}return v}function h(O){return O==="file:"||O==="ftp:"||O==="http:"||O==="https:"||O==="ws:"||O==="wss:"}function g(O,I){O=d(O),O=O.replace(a,""),I=I||{};var C=e.exec(O),v=C[1]?C[1].toLowerCase():"",R=!!C[2],E=!!C[3],D=0,b;return R?E?(b=C[2]+C[3]+C[4],D=C[2].length+C[3].length):(b=C[2]+C[4],D=C[2].length):E?(b=C[3]+C[4],D=C[3].length):b=C[4],v==="file:"?D>=2&&(b=b.slice(2)):h(v)?b=C[4]:v?R&&(b=b.slice(2)):D>=2&&h(I.protocol)&&(b=C[4]),{protocol:v,slashes:R||h(v),slashesCount:D,rest:b}}function y(O,I){if(O==="")return I;for(var C=(I||"/").split("/").slice(0,-1).concat(O.split("/")),v=C.length,R=C[v-1],E=!1,D=0;v--;)C[v]==="."?C.splice(v,1):C[v]===".."?(C.splice(v,1),D++):D&&(v===0&&(E=!0),C.splice(v,1),D--);return E&&C.unshift(""),(R==="."||R==="..")&&C.push(""),C.join("/")}function S(O,I,C){if(O=d(O),O=O.replace(a,""),!(this instanceof S))return new S(O,I,C);var v,R,E,D,b,M,x=u.slice(),N=typeof I,P=this,B=0;for(N!=="object"&&N!=="string"&&(C=I,I=null),C&&typeof C!="function"&&(C=n.parse),I=m(I),R=g(O||"",I),v=!R.protocol&&!R.slashes,P.slashes=R.slashes||v&&I.slashes,P.protocol=R.protocol||I.protocol||"",O=R.rest,(R.protocol==="file:"&&(R.slashesCount!==2||r.test(O))||!R.slashes&&(R.protocol||R.slashesCount<2||!h(P.protocol)))&&(x[3]=[/(.*)/,"pathname"]);B<x.length;B++){if(D=x[B],typeof D=="function"){O=D(O,P);continue}E=D[0],M=D[1],E!==E?P[M]=O:typeof E=="string"?(b=E==="@"?O.lastIndexOf(E):O.indexOf(E),~b&&(typeof D[2]=="number"?(P[M]=O.slice(0,b),O=O.slice(b+D[2])):(P[M]=O.slice(b),O=O.slice(0,b)))):(b=E.exec(O))&&(P[M]=b[1],O=O.slice(0,b.index)),P[M]=P[M]||v&&D[3]&&I[M]||"",D[4]&&(P[M]=P[M].toLowerCase())}C&&(P.query=C(P.query)),v&&I.slashes&&P.pathname.charAt(0)!=="/"&&(P.pathname!==""||I.pathname!=="")&&(P.pathname=y(P.pathname,I.pathname)),P.pathname.charAt(0)!=="/"&&h(P.protocol)&&(P.pathname="/"+P.pathname),c(P.port,P.protocol)||(P.host=P.hostname,P.port=""),P.username=P.password="",P.auth&&(b=P.auth.indexOf(":"),~b?(P.username=P.auth.slice(0,b),P.username=encodeURIComponent(decodeURIComponent(P.username)),P.password=P.auth.slice(b+1),P.password=encodeURIComponent(decodeURIComponent(P.password))):P.username=encodeURIComponent(decodeURIComponent(P.auth)),P.auth=P.password?P.username+":"+P.password:P.username),P.origin=P.protocol!=="file:"&&h(P.protocol)&&P.host?P.protocol+"//"+P.host:"null",P.href=P.toString()}function k(O,I,C){var v=this;switch(O){case"query":typeof I=="string"&&I.length&&(I=(C||n.parse)(I)),v[O]=I;break;case"port":v[O]=I,c(I,v.protocol)?I&&(v.host=v.hostname+":"+I):(v.host=v.hostname,v[O]="");break;case"hostname":v[O]=I,v.port&&(I+=":"+v.port),v.host=I;break;case"host":v[O]=I,t.test(I)?(I=I.split(":"),v.port=I.pop(),v.hostname=I.join(":")):(v.hostname=I,v.port="");break;case"protocol":v.protocol=I.toLowerCase(),v.slashes=!C;break;case"pathname":case"hash":if(I){var R=O==="pathname"?"/":"#";v[O]=I.charAt(0)!==R?R+I:I}else v[O]=I;break;case"username":case"password":v[O]=encodeURIComponent(I);break;case"auth":var E=I.indexOf(":");~E?(v.username=I.slice(0,E),v.username=encodeURIComponent(decodeURIComponent(v.username)),v.password=I.slice(E+1),v.password=encodeURIComponent(decodeURIComponent(v.password))):v.username=encodeURIComponent(decodeURIComponent(I))}for(var D=0;D<u.length;D++){var b=u[D];b[4]&&(v[b[1]]=v[b[1]].toLowerCase())}return v.auth=v.password?v.username+":"+v.password:v.username,v.origin=v.protocol!=="file:"&&h(v.protocol)&&v.host?v.protocol+"//"+v.host:"null",v.href=v.toString(),v}function w(O){(!O||typeof O!="function")&&(O=n.stringify);var I,C=this,v=C.host,R=C.protocol;R&&R.charAt(R.length-1)!==":"&&(R+=":");var E=R+(C.protocol&&C.slashes||h(C.protocol)?"//":"");return C.username?(E+=C.username,C.password&&(E+=":"+C.password),E+="@"):C.password?(E+=":"+C.password,E+="@"):C.protocol!=="file:"&&h(C.protocol)&&!v&&C.pathname!=="/"&&(E+="@"),(v[v.length-1]===":"||t.test(C.hostname)&&!C.port)&&(v+=":"),E+=v+C.pathname,I=typeof C.query=="object"?O(C.query):C.query,I&&(E+=I.charAt(0)!=="?"?"?"+I:I),C.hash&&(E+=C.hash),E}return S.prototype={set:k,toString:w},S.extractProtocol=g,S.location=m,S.trimLeft=d,S.qs=n,urlParse=S,urlParse}var urlParseExports=requireUrlParse(),_0x4304c=getDefaultExportFromCjs(urlParseExports);class ChannelMessage extends Message{type;socketId;data;static DESCRIPTOR_NAME="ChannelMessage";static DESCRIPTOR={fields:{type:{type:"uint32",id:1},socketId:{type:"string",id:2},data:{type:"bytes",id:3}}};constructor(n,s,a){super(),this.type=n,this.socketId=s,this.data=a}toJSON(){return{type:this.type,socketId:this.socketId,data:this.data}}static fromJSON(n){return new ChannelMessage(n.type,n.socketId,n.data)}}class _0x5b0b27 extends EmitterMixin(){_channelName;_wsGateway;_socket;constructor(n,s,a){super(),this._channelName=n,this._wsGateway=s,this._socket=a,this._subscribeToChannel()}remove(){this._socket.off(this._channelName)}getEventName(n,s=!1){let a="";return s&&(a+="all:"),a+="event",n&&(a+=":"+n),a}_subscribeToChannel(){this._socket.on(this._channelName,n=>{const s=MessagesCompressor.decode(n,ChannelMessage);this.fire(this.getEventName(s.type,!0),s.data,s.socketId),s.socketId!==this._wsGateway.socketId&&this.fire(this.getEventName(s.type),s.data,s.socketId)})}}var _0x536af9="53.0.1";class CKEditorCloudServicesError extends Error{context;code;data;constructor(n,s,a=null,o={}){super("cloud-services-internal-error: "+n),this.context=s,this.code=a,this.data=o,this.name="CKEditorError"}static fromPublicError(n){return new CKEditorCloudServicesError((function(s){let a="cloud-services-error: "+s.message;return s.data&&(a+=`
Error data: `+JSON.stringify(s.data)),s.explanation&&(a+=`
Explanation: `+s.explanation),s.action&&(a+=`
Action: `+s.action),s.traceId&&(a+=`
TraceId: `+s.traceId),s.code&&(a+=`
Code: `+s.code),a})(n),n)}}class CKEditorCloudServicesServerError extends Error{code;traceId;data;constructor(n,s){super(),this.name="CKEditorCloudServicesServerError",this.stack=void 0,this.message=n,this.code=s.code,this.traceId=s.traceId,this.data=s.data}static fromPublicError(n){return new CKEditorCloudServicesServerError((function(s){let a="cloud-services-server-error: "+s.message;return s.explanation&&(a+=`
Explanation: `+s.explanation),s.action&&(a+=`
Action: `+s.action),s.traceId&&(a+=`
TraceId: `+s.traceId),s.code&&(a+=`
Code: `+s.code),a})(n),n)}}class PacketOptionsMessage extends Message{flags;rooms;except;static TYPE=11;static DESCRIPTOR_NAME="PacketOptionsMessage";static DESCRIPTOR={fields:{flags:{type:"string",id:1},rooms:{type:"string",id:2,rule:"repeated"},except:{type:"string",id:3,rule:"repeated"}}};constructor(n,s=[],a=[]){super(),this.flags=n,this.rooms=s,this.except=a}toJSON(){return{flags:this.flags?JSON.stringify(this.flags):void 0,rooms:this.rooms?.length?this.rooms:void 0,except:this.except?.length?this.except:void 0}}static fromJSON(n){return new PacketOptionsMessage(n.flags&&JSON.parse(n.flags),n.rooms,n.except)}}const IS_NODE=!(typeof process>"u"||!process.versions?.node),MessageDataTypes={BUFFER:1,STRING:2,NUMBER:3,OBJECT:4};class ParserUtils{static getPacketType(...n){let s=0;for(let a=0;a<n.length;a++)s+=n[a]*Math.pow(10,n.length-a-1);return s}static getType(n){if(ParserUtils.isBuffer(n))return MessageDataTypes.BUFFER;const s=typeof n;return s==="string"?MessageDataTypes.STRING:s==="number"?MessageDataTypes.NUMBER:MessageDataTypes.OBJECT}static isBuffer(n){return IS_NODE&&Buffer.isBuffer(n)||n instanceof ArrayBuffer||n instanceof Uint8Array||this._isBufferView(n)}static _isBufferView(n){return typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(n):n.buffer instanceof ArrayBuffer}}class PackageDataMessage extends Message{data;data1;static create(n,s){throw new TypeError("Must be implemented in a child class!")}}class NumberBytesPacketDataMessage extends PackageDataMessage{data;data1;static TYPE=ParserUtils.getPacketType(MessageDataTypes.NUMBER,MessageDataTypes.BUFFER);static DESCRIPTOR_NAME="NumberBytesPacketDataMessage";static DESCRIPTOR={fields:{data:{type:"uint32",id:1},data1:{type:"bytes",id:2}}};constructor(n,s){super(),this.data=n,this.data1=s}toJSON(){return{data:this.data,data1:this.data1}}static fromJSON(n){return new NumberBytesPacketDataMessage(n.data,n.data1)}static create(n,s){return new NumberBytesPacketDataMessage(n,s)}}class StringBytesPacketDataMessage extends PackageDataMessage{data;data1;static TYPE=ParserUtils.getPacketType(MessageDataTypes.STRING,MessageDataTypes.BUFFER);static DESCRIPTOR_NAME="StringBytesPacketDataMessage";static DESCRIPTOR={fields:{data:{type:"string",id:1},data1:{type:"bytes",id:2}}};constructor(n,s){super(),this.data=n,this.data1=s}toJSON(){return{data:this.data,data1:this.data1}}static fromJSON(n){return new StringBytesPacketDataMessage(n.data,n.data1)}static create(n,s){return new StringBytesPacketDataMessage(n,s)}}class BytesBytesPacketDataMessage extends PackageDataMessage{data;data1;static TYPE=ParserUtils.getPacketType(MessageDataTypes.BUFFER,MessageDataTypes.BUFFER);static DESCRIPTOR_NAME="BytesBytesPacketDataMessage";static DESCRIPTOR={fields:{data:{type:"bytes",id:1},data1:{type:"bytes",id:2}}};constructor(n,s){super(),this.data=n,this.data1=s}toJSON(){return{data:this.data,data1:this.data1}}static fromJSON(n){return new BytesBytesPacketDataMessage(n.data,n.data1)}static create(n,s){return new BytesBytesPacketDataMessage(n,s)}}class StringObjectPacketDataMessage extends PackageDataMessage{data;data1;static TYPE=ParserUtils.getPacketType(MessageDataTypes.STRING,MessageDataTypes.OBJECT);static DESCRIPTOR_NAME="StringObjectPacketDataMessage";static DESCRIPTOR={fields:{data:{type:"string",id:1},data1:{type:"string",id:2}}};constructor(n,s){super(),this.data=n,this.data1=s}toJSON(){return{data:this.data,data1:this.data1?JSON.stringify(this.data1):void 0}}static fromJSON(n){return new StringObjectPacketDataMessage(n.data,n.data1&&JSON.parse(n.data1))}static create(n,s){return new StringObjectPacketDataMessage(n,s)}}class NumberObjectPacketDataMessage extends PackageDataMessage{data;data1;static TYPE=ParserUtils.getPacketType(MessageDataTypes.NUMBER,MessageDataTypes.OBJECT);static DESCRIPTOR_NAME="NumberObjectPacketDataMessage";static DESCRIPTOR={fields:{data:{type:"uint32",id:1},data1:{type:"string",id:2}}};constructor(n,s){super(),this.data=n,this.data1=s}toJSON(){return{data:this.data,data1:this.data1?JSON.stringify(this.data1):void 0}}static fromJSON(n){return new NumberObjectPacketDataMessage(n.data,n.data1&&JSON.parse(n.data1))}static create(n,s){return new NumberObjectPacketDataMessage(n,s)}}class ObjectObjectPacketDataMessage extends PackageDataMessage{data;data1;static TYPE=ParserUtils.getPacketType(MessageDataTypes.OBJECT,MessageDataTypes.OBJECT);static DESCRIPTOR_NAME="ObjectObjectPacketDataMessage";static DESCRIPTOR={fields:{data:{type:"string",id:1},data1:{type:"string",id:2}}};constructor(n,s){super(),this.data=n,this.data1=s}toJSON(){return{data:this.data?JSON.stringify(this.data):void 0,data1:this.data1?JSON.stringify(this.data1):void 0}}static fromJSON(n){return new ObjectObjectPacketDataMessage(n.data&&JSON.parse(n.data),n.data1&&JSON.parse(n.data1))}static create(n,s){return new ObjectObjectPacketDataMessage(n,s)}}class ObjectBufferPacketDataMessage extends PackageDataMessage{data;data1;static TYPE=ParserUtils.getPacketType(MessageDataTypes.OBJECT,MessageDataTypes.BUFFER);static DESCRIPTOR_NAME="ObjectBufferPacketDataMessage";static DESCRIPTOR={fields:{data:{type:"string",id:1},data1:{type:"bytes",id:2}}};constructor(n,s){super(),this.data=n,this.data1=s}toJSON(){return{data:this.data?JSON.stringify(this.data):void 0,data1:this.data1}}static fromJSON(n){return new ObjectBufferPacketDataMessage(n.data&&JSON.parse(n.data),n.data1)}static create(n,s){return new ObjectBufferPacketDataMessage(n,s)}}class StringStringPacketDataMessage extends PackageDataMessage{data;data1;static TYPE=ParserUtils.getPacketType(MessageDataTypes.STRING,MessageDataTypes.STRING);static DESCRIPTOR_NAME="StringStringPacketDataMessage";static DESCRIPTOR={fields:{data:{type:"string",id:1},data1:{type:"string",id:2}}};constructor(n,s){super(),this.data=n,this.data1=s}toJSON(){return{data:this.data,data1:this.data1}}static fromJSON(n){return new StringStringPacketDataMessage(n.data,n.data1)}static create(n,s){return new StringStringPacketDataMessage(n,s)}}class StringNumberPacketDataMessage extends PackageDataMessage{data;data1;static TYPE=ParserUtils.getPacketType(MessageDataTypes.STRING,MessageDataTypes.NUMBER);static DESCRIPTOR_NAME="StringNumberPacketDataMessage";static DESCRIPTOR={fields:{data:{type:"string",id:1},data1:{type:"uint32",id:2}}};constructor(n,s){super(),this.data=n,this.data1=s}toJSON(){return{data:this.data,data1:this.data1}}static fromJSON(n){return new StringNumberPacketDataMessage(n.data,n.data1)}static create(n,s){return new StringNumberPacketDataMessage(n,s)}}class NumberNumberPacketDataMessage extends PackageDataMessage{data;data1;static TYPE=ParserUtils.getPacketType(MessageDataTypes.NUMBER,MessageDataTypes.NUMBER);static DESCRIPTOR_NAME="NumberNumberPacketDataMessage";static DESCRIPTOR={fields:{data:{type:"uint32",id:1},data1:{type:"uint32",id:2}}};constructor(n,s){super(),this.data=n,this.data1=s}toJSON(){return{data:this.data,data1:this.data1}}static fromJSON(n){return new NumberNumberPacketDataMessage(n.data,n.data1)}static create(n,s){return new NumberNumberPacketDataMessage(n,s)}}class NumberStringPacketDataMessage extends PackageDataMessage{data;data1;static TYPE=ParserUtils.getPacketType(MessageDataTypes.NUMBER,MessageDataTypes.STRING);static DESCRIPTOR_NAME="NumberStringPacketDataMessage";static DESCRIPTOR={fields:{data:{type:"uint32",id:1},data1:{type:"string",id:2}}};constructor(n,s){super(),this.data=n,this.data1=s}toJSON(){return{data:this.data,data1:this.data1}}static fromJSON(n){return new NumberStringPacketDataMessage(n.data,n.data1)}static create(n,s){return new NumberStringPacketDataMessage(n,s)}}const PACKET_DATA_MESSAGES=[NumberBytesPacketDataMessage,StringBytesPacketDataMessage,BytesBytesPacketDataMessage,StringObjectPacketDataMessage,NumberObjectPacketDataMessage,ObjectObjectPacketDataMessage,ObjectBufferPacketDataMessage,StringStringPacketDataMessage,StringNumberPacketDataMessage,NumberNumberPacketDataMessage,NumberStringPacketDataMessage].reduce((c,n)=>(c[n.TYPE]=n,c),{});class PacketMessage extends Message{type;data;id;nsp;options;static TYPE=10;static DESCRIPTOR_NAME="PacketMessage";static DESCRIPTOR={fields:{type:{type:"uint32",id:1},id:{type:"uint32",id:2},nsp:{type:"string",id:3},data:{type:"bytes",id:4},options:{type:"bytes",id:5}}};constructor(n,s,a,o="/",t){super(),this.type=n,this.data=s,this.id=a,this.nsp=o,this.options=t??new PacketOptionsMessage}get packetData(){return this.data.data===void 0&&this.data.data1===void 0?[]:this.data.data&&this.data.data1===void 0?[this.data.data]:[this.data.data,this.data.data1]}toJSON(){const n=MessagesCompressor.encode(this.options),s=MessagesCompressor.encode(this.data);return{type:this.type+10*this.data.constructor.TYPE,id:this.id,nsp:this.nsp==="/"?void 0:this.nsp,data:s,options:n}}static fromJSON(n){const s=Math.floor(n.type/10);return new PacketMessage(n.type-10*s,MessagesCompressor.decode(n.data,PACKET_DATA_MESSAGES[s]),n.id,n.nsp,n.options?MessagesCompressor.decode(n.options,PacketOptionsMessage):new PacketOptionsMessage)}static create(n,s={}){const a=ParserUtils.getPacketType(ParserUtils.getType(n.data[0]),ParserUtils.getType(n.data[1]??n.data[0]));return new PacketMessage(n.type,PACKET_DATA_MESSAGES[a].create(n.data[0],n.data[1]),n.id,n.nsp,new PacketOptionsMessage(s.flags,s.rooms,s.except))}}class PacketParser{encode(n,s,a,o="/",t={}){if(s.length>2)throw new Error("PacketParser supports only 2 elements in data");const e={type:n,data:s,id:a,nsp:o};return MessagesCompressor.encode(PacketMessage.create(e,t))}decode(n){const s=MessagesCompressor.decode(n,PacketMessage);return{packet:{id:s.id,type:s.type,data:s.packetData,nsp:s.nsp},options:{flags:s.options.flags,rooms:s.options.rooms,except:s.options.except}}}}const ENCODED_TYPES=[PacketType.EVENT,PacketType.ACK,PacketType.BINARY_ACK,PacketType.BINARY_EVENT];class Encoder extends Encoder$1{_packetParser;constructor(n){super(),this._packetParser=n??new PacketParser}encode(n){if(ENCODED_TYPES.includes(n.type))try{return[this._packetParser.encode(n.type,n.data,n.id,n.nsp)]}catch(s){console.error("Can not properly serialize or deserialize messages. Check the original error.",{originalError:{message:s.message}})}return super.encode(n)}}class Decoder extends Decoder$1{_packetParser;constructor(n){super(),this._packetParser=n??new PacketParser}add(n){if(!ParserUtils.isBuffer(n))return super.add(n);let s;try{s=this._packetParser.decode(n).packet}catch{return super.add(n)}super.emitReserved("decoded",s)}}class WebSocketRequest{_context;_deferredPromise=(function(){let n,s;const a=new Promise((o,t)=>{n=o,s=t});return{resolve:n,reject:s,promise:a}})();timeout;constructor(n,s){this._context=n,this.timeout=setTimeout(()=>this.error(new CKEditorCloudServicesError("Request timeout.",this._context)),s)}get promise(){return this._deferredPromise.promise}response(n){this._deferredPromise.resolve(n)}error(n){this._deferredPromise.reject(n)}}class WebSocketGatewayRequestsManager{_context;_requests=new Set;constructor(n){this._context=n}async send(n,s=45e3){const a=this._createRequest(s);try{return n(a),await a.promise}finally{this._finishRequest(a)}}errorAll(n){for(const s of this._requests)s.error(n)}waitForAllRequests(n=45e3){return this._waitForRequests(n)}_createRequest(n){const s=new WebSocketRequest(this._context,n);return this._requests.add(s),s}_finishRequest(n){this._requests.delete(n),clearTimeout(n.timeout)}async _waitForRequests(n=5e3,s=0){return!this._requests.size||s>=n/500?Promise.resolve():(await new Promise(a=>{setTimeout(a,500)}),this._waitForRequests(n,s++))}}const WEB_SOCKET_GATEWAY_STATES={DISCONNECTED:"disconnected",CONNECTING:"connecting",CONNECTED:"connected"};let WebSocketGateway$1=class V extends ObservableMixin(){_requestsManager;_url;_socket;_socketAuth;_channels;_connectionAttempt=0;_token;_options;_connectionProvider;_userFactory;static STATE_DISCONNECTED=WEB_SOCKET_GATEWAY_STATES.DISCONNECTED;static STATE_CONNECTING=WEB_SOCKET_GATEWAY_STATES.CONNECTING;static STATE_CONNECTED=WEB_SOCKET_GATEWAY_STATES.CONNECTED;static _CHANGE_STATE_EVENT_PRIORITY=priorities.get("highest")+999999;constructor(n,s,a,o,t){if(super(),this._token=s,this._options=a??{},this._connectionProvider=o??lookup,this._userFactory=t??User.get,this._requestsManager=new WebSocketGatewayRequestsManager(this),this._channels=new Map,!n)throw new TypeError("Api address must be provided.");if(!this._token)throw new TypeError("Token must be provided.");this._options.requestTimeout||(this._options.requestTimeout=2e4),this._url=_0x4304c(n.replace(/^(?!(?:\w+:)?\/\/)/,"https://")),this.set("state",WEB_SOCKET_GATEWAY_STATES.DISCONNECTED),this.set("socketId",void 0),this.set("me",void 0),this.on("change:state",async(e,r,d)=>{if(this._debugEvent("ws-gw:change:state",d),d!==V.STATE_CONNECTED){if(d===V.STATE_DISCONNECTED)return this._requestsManager.errorAll(new CKEditorCloudServicesError("Not connected.",this))}else try{this.me=await this._userFactory.call(User,this,this._socketAuth?.userId)}catch{}},{priority:V._CHANGE_STATE_EVENT_PRIORITY}),this.on("error",(e,r)=>{this._options.onError?this._options.onError(r):console.error(r)})}get sessionId(){return this.socketId}waitForAllRequests(n){return this._requestsManager.waitForAllRequests(n)}disconnect(){this.state!==WEB_SOCKET_GATEWAY_STATES.DISCONNECTED&&(this._socket?.disconnect(),this._socket=void 0,this.state=WEB_SOCKET_GATEWAY_STATES.DISCONNECTED)}async reconnect(){this._socket||this.state!==WEB_SOCKET_GATEWAY_STATES.DISCONNECTED||(await this._token.refreshToken(),await this._connect())}static async connect(n,s="local.cs.dev:443/ws-v2",a={},o=lookup,t=User.get){const e=new V(s,n,a,o,t);return await e._connect(),e}_sendRequest(n,s,a){if(!n)throw new CKEditorCloudServicesError("`serviceName` must be provided.",this);if(this.state!==V.STATE_CONNECTED)throw new CKEditorCloudServicesError("Not connected.",this);if(!this._socketAuth||!this._socketAuth.isAuthenticated)throw new CKEditorCloudServicesError("Not authenticated.",this);const o=new ArrayBuffer(a.length+2),t=new Uint8Array(o);return t[0]=n,t[1]=parseInt(s),t.set(a,2),this._emit(1,t)}_getChannel(n,s){const a=""+n+s;return!this._channels.has(a)&&this._socket&&this._channels.set(a,new _0x5b0b27(a,this,this._socket)),this._channels.get(a)}_connect(){return new Promise((n,s)=>{const a=this._setupSocket();!this.socketId&&a.io.on("reconnect_error",()=>{this._debugEvent("reconnect_error"),this._reconnectionAttemptError(s)}),a.once("connect",async()=>{this._debugEvent("once-connect");try{await this._onConnect(),n()}catch(o){s(o)}}),a.connect()})}_getPortByProtocol(n){return["http:","ws:"].includes(n)?80:443}_setupSocket(){if(this._socket)return this._socket;const n=this._url.port||this._getPortByProtocol(this._url.protocol),s=(this._url.protocol||"https:")+"//"+this._url.hostname+":"+n,a=this._url.pathname.match(/^\/.*\/ws/)?this._url.pathname.split("/ws")[0]:"",o=this._connectionProvider(s,{parser:{Encoder,Decoder},path:a+"/ws-v2/ws",transports:["websocket"],timeout:this._options.timeout!==void 0?this._options.timeout:5e3,reconnection:this._options.autoReconnect===void 0||this._options.autoReconnect,reconnectionDelay:1e3,reconnectionDelayMax:5e3,rejectUnauthorized:this._options.rejectUnauthorized===void 0||this._options.rejectUnauthorized,query:{version:_0x536af9},agent:this._options.agent??!1,closeOnBeforeunload:!1});return this.state=WEB_SOCKET_GATEWAY_STATES.CONNECTING,o.on("connect",()=>{this._debugEvent("connect"),this.socketId=o.id}),o.on("connect_error",t=>{this._debugEvent("connect_error",t)}),o.on("disconnect",()=>{this._debugEvent("disconnect"),this._onDisconnect()}),o.io.on("reconnect",async()=>{this._debugEvent("reconnect"),await this._onReconnect()}),o.io.on("reconnect_attempt",t=>{this._debugEvent("reconnect_attempt",t),this.state=WEB_SOCKET_GATEWAY_STATES.CONNECTING,this._connectionAttempt=t}),o.on("unauthorized",t=>{this._debugEvent("unauthorized"),this._onUnauthorized(t)}),o.on("authenticationRequest",async t=>{this._debugEvent("authenticationRequest",t.attempt),await this._onReconnect()}),this._socket=o,o}_emit(n,s){const a=this._socket;return this._requestsManager.send(o=>{a.emit(n,s,(t,e)=>{if(t)return o.error(CKEditorCloudServicesServerError.fromPublicError(t));o.response(e)})},this._options.requestTimeout)}_addAuthData(n,s){this._socketAuth={environmentId:n,userId:s,isAuthenticated:!0}}_removeAuthData(){this._socketAuth=void 0}async _onConnect(){await this._authenticate(this._token.value),this.state=WEB_SOCKET_GATEWAY_STATES.CONNECTED;const n=async(s,a,o)=>{this._debugEvent("token:value:change");try{await this._authenticate(o)}catch{}};this._token.on("change:value",n),this._socket.io.off("reconnect_error"),this.on("disconnect",()=>{this._token.off("change:value",n)})}async _onReconnect(){await this._token.refreshToken(),await this._onConnect()}_onDisconnect(){this.state=WEB_SOCKET_GATEWAY_STATES.DISCONNECTED,this._connectionAttempt=0,this.fire("disconnect");for(const n of this._channels.values())n.remove();this._channels.clear(),this._options.autoReconnect===void 0||this._options.autoReconnect||(this._socket=void 0)}_debugEvent(n,s){if(!this._isDebugModeEnabled())return;const a=s!==void 0?", data: "+s:"";console.info(new Date().toLocaleString()+" "+n+a)}_reconnectionAttemptError(n){this._connectionAttempt>=2&&(this.disconnect(),n(CKEditorCloudServicesError.fromPublicError({message:"The number of initial connection attempts exceeded.",explanation:"Three initial connection attempts failed. It can be caused by a slow, unstable, missing or blocked Internet connection.",action:"Please verify the stability of your Internet connection and ensure that no antivirus or firewall software blocks the Web Socket protocol connections."})))}_onUnauthorized({error:n}){this._removeAuthData(),this.fire("error",CKEditorCloudServicesServerError.fromPublicError(n))}async _authenticate(n){try{this._debugEvent("authenticate:start");const s=await this._emit(2,{token:n});this._debugEvent("authenticate:success","envId: "+s.environmentId+", userId: "+s.userId),this._addAuthData(s.environmentId,s.userId)}catch(s){throw this._debugEvent("authenticate:error",s.message),this._removeAuthData(),s}}_isDebugModeEnabled(){return global$1.window.localStorage?(global$1.window.localStorage.getItem("csClientDebugMode")??"false").toLowerCase()==="true":!1}};class IsEditorBundleUploadedMessage extends Message{bundleVersion;static TYPE="131";static READABLE_TYPE_NAME="isEditorBundleUploaded";static DESCRIPTOR_NAME="IsEditorBundleUploadedMessage";static DESCRIPTOR={fields:{bundleVersion:{type:"string",id:1}}};constructor(n){super(),this.bundleVersion=n}toJSON(){return{bundleVersion:this.bundleVersion}}static fromJSON(n){return new IsEditorBundleUploadedMessage(n.bundleVersion)}}class IsEditorBundleUploadedResponse extends Message{isUploaded;static DESCRIPTOR_NAME="IsEditorBundleUploadedResponse";static DESCRIPTOR={fields:{isUploaded:{type:"bool",id:1}}};constructor(n){super(),this.isUploaded=n}toJSON(){return{isUploaded:this.isUploaded}}static fromJSON(n){return new IsEditorBundleUploadedResponse(n.isUploaded)}}class EditorService extends EmitterMixin(){static _SERVICE=13;static async isBundleUploaded(n,s){const a=new IsEditorBundleUploadedMessage(s);if(n.state!==WEB_SOCKET_GATEWAY_STATES.CONNECTED)throw new CKEditorCloudServicesError("WebSocket Gateway is not connected.",n);const o=await n._sendRequest(EditorService._SERVICE,IsEditorBundleUploadedMessage.TYPE,MessagesCompressor.encode(a));return MessagesCompressor.decode(o,IsEditorBundleUploadedResponse).isUploaded}}class RevisionHistoryGetRevisionMessage extends Message{documentId;revisionId;static TYPE="123";static READABLE_TYPE_NAME="getRevision";static DESCRIPTOR_NAME="RevisionHistoryGetRevisionMessage";static DESCRIPTOR={fields:{documentId:{type:"string",id:1},revisionId:{type:"string",id:2}}};constructor(n,s){super(),this.documentId=n,this.revisionId=s}toJSON(){return{documentId:this.documentId,revisionId:this.revisionId}}static fromJSON(n){return new RevisionHistoryGetRevisionMessage(n.documentId,n.revisionId)}}class RevisionDescriptor extends Descriptor{static DESCRIPTOR_NAME="RevisionDescriptor";static DESCRIPTOR={fields:{revisionId:{type:"string",id:1},name:{type:"string",id:2},creatorId:{type:"string",id:3},authorsIds:{type:"string",id:4},diffData:{type:"string",id:5},createdAt:{type:"string",id:6},attributes:{type:"string",id:7},toVersion:{type:"uint32",id:8},fromVersion:{type:"uint32",id:9},isEmptyCurrent:{type:"bool",id:10}}};static create(n){return{revisionId:n.id,name:n.name,creatorId:n.creatorId,createdAt:n.createdAt,fromVersion:n.fromVersion,toVersion:n.toVersion,isEmptyCurrent:n.isEmptyCurrent,diffData:n.diffData?JSON.stringify(n.diffData):void 0,attributes:n.attributes,authorsIds:n.authorsIds}}static toJSON(n){return{revisionId:n.revisionId,name:n.name,creatorId:n.creatorId,authorsIds:n.authorsIds?JSON.stringify(n.authorsIds):void 0,diffData:n.diffData,createdAt:n.createdAt?.toISOString(),attributes:n.attributes?JSON.stringify(n.attributes):void 0,toVersion:n.toVersion,fromVersion:n.fromVersion,isEmptyCurrent:n.isEmptyCurrent}}static fromJSON(n){return{revisionId:(n={...n}).revisionId,name:n.name,creatorId:n.creatorId,authorsIds:n.authorsIds?JSON.parse(n.authorsIds):void 0,diffData:n.diffData,createdAt:n.createdAt?new Date(n.createdAt):void 0,attributes:n.attributes?JSON.parse(n.attributes):void 0,toVersion:n.toVersion,fromVersion:n.fromVersion,isEmptyCurrent:n.isEmptyCurrent}}static toObject(n){return(function(s){for(const[a,o]of Object.entries(s))o===void 0&&delete s[a];return s})({id:n.revisionId,name:n.name,creatorId:n.creatorId,createdAt:n.createdAt,fromVersion:n.fromVersion,toVersion:n.toVersion,isEmptyCurrent:n.isEmptyCurrent,diffData:n.diffData?JSON.parse(n.diffData):void 0,attributes:n.attributes,authorsIds:n.authorsIds})}}class RevisionHistoryGetRevisionResponse extends Message{revisionId;name;creatorId;authorsIds;createdAt;diffData;attributes;fromVersion;toVersion;isEmptyCurrent;static DESCRIPTOR_NAME="RevisionHistoryGetRevisionResponse";static DESCRIPTOR=RevisionDescriptor.DESCRIPTOR;constructor(n,s,a,o,t,e,r,d,u,l){super(),this.revisionId=n,this.name=s,this.creatorId=a,this.authorsIds=o,this.createdAt=t,this.diffData=e,this.attributes=r,this.fromVersion=d,this.toVersion=u,this.isEmptyCurrent=l}toJSON(){return RevisionDescriptor.toJSON(this)}toObject(){return RevisionDescriptor.toObject(this)}static create(n){return new RevisionHistoryGetRevisionResponse(n.revisionId,n.name,n.creatorId,n.authorsIds,n.createdAt,n.diffData,n.attributes,n.fromVersion,n.toVersion,n.isEmptyCurrent)}static fromJSON(n){return new RevisionHistoryGetRevisionResponse(n.revisionId,n.name,n.creatorId,n.authorsIds?JSON.parse(n.authorsIds):void 0,n.createdAt?new Date(n.createdAt):void 0,n.diffData,n.attributes?JSON.parse(n.attributes):void 0,n.fromVersion,n.toVersion,n.isEmptyCurrent)}}class RevisionHistoryUpdateRevisionsMessage extends Message{documentId;requestId;revisions;static TYPE="124";static READABLE_TYPE_NAME="updateRevisions";static DESCRIPTOR_NAME="RevisionHistoryUpdateRevisionsMessage";static DESCRIPTOR={fields:{documentId:{type:"string",id:1},requestId:{type:"uint32",id:2},revisions:{type:"RevisionDescriptor",id:3,rule:"repeated"}}};constructor(n,s,a){super(),this.documentId=n,this.requestId=s,this.revisions=a}toJSON(){return{documentId:this.documentId,requestId:this.requestId,revisions:this.revisions.map(RevisionDescriptor.toJSON)}}toObject(){return{documentId:this.documentId,requestId:this.requestId,revisions:this.revisions.map(RevisionDescriptor.toObject)}}static create(n){return new RevisionHistoryUpdateRevisionsMessage(n.documentId,n.requestId,n.revisions.map(RevisionDescriptor.create))}static fromJSON(n){return new RevisionHistoryUpdateRevisionsMessage(n.documentId,n.requestId,n.revisions.map(RevisionDescriptor.fromJSON))}}class RevisionHistoryUpdateRevisionsResponse extends Message{requestId;static DESCRIPTOR_NAME="RevisionHistoryUpdateRevisionsResponse";static DESCRIPTOR={fields:{requestId:{type:"uint32",id:1}}};constructor(n){super(),this.requestId=n}toJSON(){return{requestId:this.requestId}}static fromJSON(n){return new RevisionHistoryUpdateRevisionsResponse(n.requestId)}}class RevisionHistoryConnectMessage extends Message{documentId;static TYPE="121";static READABLE_TYPE_NAME="connectToRevisionHistory";static DESCRIPTOR_NAME="RevisionHistoryConnectMessage";static DESCRIPTOR={fields:{documentId:{type:"string",id:1}}};constructor(n){super(),this.documentId=n}toJSON(){return{documentId:this.documentId}}static fromJSON(n){return new RevisionHistoryConnectMessage(n.documentId)}}class RevisionHistoryConnectResponse extends Message{channel;requestId;revisions;static DESCRIPTOR_NAME="RevisionHistoryConnectResponse";static DESCRIPTOR={fields:{channel:{type:"string",id:1},requestId:{type:"uint32",id:2},revisions:{type:"RevisionDescriptor",id:3,rule:"repeated"}}};constructor(n,s,a){super(),this.channel=n,this.requestId=s,this.revisions=a}toJSON(){return{channel:this.channel,requestId:this.requestId,revisions:this.revisions.map(RevisionDescriptor.toJSON)}}toObject(){return{channel:this.channel,requestId:this.requestId,revisions:this.revisions.map(RevisionDescriptor.toObject)}}static fromJSON(n){return new RevisionHistoryConnectResponse(n.channel,n.requestId,n.revisions.map(RevisionDescriptor.fromJSON))}}class RevisionHistoryReconnectMessage extends Message{documentId;requestId;static TYPE="122";static READABLE_TYPE_NAME="reconnectToRevisionHistory";static DESCRIPTOR_NAME="RevisionHistoryReconnectMessage";static DESCRIPTOR={fields:{documentId:{type:"string",id:1},requestId:{type:"uint32",id:2}}};constructor(n,s){super(),this.documentId=n,this.requestId=s}toJSON(){return{documentId:this.documentId,requestId:this.requestId}}static fromJSON(n){return new RevisionHistoryReconnectMessage(n.documentId,n.requestId)}}class ServiceNotConnectedError extends CKEditorCloudServicesError{constructor(n,s){super(n+" Service is not connected.",s)}}class RevisionHistoryService extends EmitterMixin(){_documentId;_isConnected=!1;_wsGateway;_channel;static _SERVICE=12;constructor(n){super(),this._documentId=n}get isConnected(){return this._isConnected}connect(n){return this._isConnected?Promise.resolve():this._connect(n,new RevisionHistoryConnectMessage(this._documentId))}disconnect(){this._isConnected&&(this._isConnected=!1,this._wsGateway&&(this.stopListening(this._wsGateway),this._wsGateway=void 0),this._channel&&(this.stopListening(this._channel),this._channel=void 0),this.fire("disconnected"),this.stopListening())}reconnect(n,s){if(this.isConnected)throw new CKEditorCloudServicesError("Cannot reconnect to already connected service.",n);return this._connect(n,new RevisionHistoryReconnectMessage(this._documentId,s))}async updateRevisions(n,s){const a=RevisionHistoryUpdateRevisionsMessage.create({documentId:this._documentId,requestId:s,revisions:n}),o=await this._sendRequest(RevisionHistoryUpdateRevisionsMessage.TYPE,a),{requestId:t}=MessagesCompressor.decode(o,RevisionHistoryUpdateRevisionsResponse);return t}async getRevision(n){const s=new RevisionHistoryGetRevisionMessage(this._documentId,n),a=await this._sendRequest(RevisionHistoryGetRevisionMessage.TYPE,s);return MessagesCompressor.decode(a,RevisionHistoryGetRevisionResponse).toObject()}async _connect(n,s){if(n.state!==WEB_SOCKET_GATEWAY_STATES.CONNECTED)throw new CKEditorCloudServicesError("WebSocket Gateway is not connected.",n);this._wsGateway=n,this.stopListening(n,"change:state");const a=await n._sendRequest(12,s.constructor.TYPE,MessagesCompressor.encode(s)),{channel:o,requestId:t,revisions:e}=MessagesCompressor.decode(a,RevisionHistoryConnectResponse).toObject();return this.listenTo(n,"change:state",(r,d,u)=>this._onWsGatewayStateChange(u),{priority:WebSocketGateway$1._CHANGE_STATE_EVENT_PRIORITY}),this._connectToChannel(n,o),this._isConnected=!0,this.fire("connected"),{revisions:e,requestId:t}}_connectToChannel(n,s){this._channel=n._getChannel(RevisionHistoryService._SERVICE,s),this._channel&&this.listenTo(this._channel,this._channel.getEventName(RevisionHistoryUpdateRevisionsMessage.TYPE),(a,o)=>{const{documentId:t,requestId:e,revisions:r}=MessagesCompressor.decode(o,RevisionHistoryUpdateRevisionsMessage).toObject();this.fire("revisionsUpdated",{documentId:t,requestId:e,revisionsData:r})})}_onWsGatewayStateChange(n){n===WEB_SOCKET_GATEWAY_STATES.DISCONNECTED&&this.disconnect()}_sendRequest(n,s){if(!this._wsGateway||!this._isConnected)throw new ServiceNotConnectedError("Revision History",this);return this._wsGateway._sendRequest(12,n,MessagesCompressor.encode(s))}}class AddSuggestionMessage extends Message{id;documentId;type;data;originalSuggestionId;attributes;static TYPE="101";static READABLE_TYPE_NAME="addSuggestion";static DESCRIPTOR_NAME="TrackChangesAddSuggestionMessage";static DESCRIPTOR={fields:{id:{type:"string",id:1},documentId:{type:"string",id:2},type:{type:"string",id:3},data:{type:"string",id:4},originalSuggestionId:{type:"string",id:5},attributes:{type:"string",id:6}}};constructor(n,s,a,o={},t=null,e=null){super(),this.id=n,this.documentId=s,this.type=a,this.data=o,this.originalSuggestionId=t,this.attributes=e}toJSON(){return{id:this.id,documentId:this.documentId,type:this.type,data:JSON.stringify(this.data),originalSuggestionId:this.originalSuggestionId,attributes:JSON.stringify(this.attributes)}}static fromJSON(n){return new AddSuggestionMessage(n.id,n.documentId,n.type,JSON.parse(n.data),n.originalSuggestionId??null,n.attributes?JSON.parse(n.attributes):null)}}class AddSuggestionResponse extends Message{id;authorId;type;hasComments;state;data;attributes;createdAt;static DESCRIPTOR_NAME="TrackChangesAddSuggestionResponse";static DESCRIPTOR={fields:{id:{type:"string",id:1},authorId:{type:"string",id:2},type:{type:"string",id:3},createdAt:{type:"string",id:4},data:{type:"string",id:5},hasComments:{type:"bool",id:6},state:{type:"string",id:7},attributes:{type:"string",id:8}}};constructor(n,s,a,o,t,e,r={},d=null){super(),this.id=n,this.authorId=s,this.type=a,this.hasComments=t,this.state=e,this.data=r,this.attributes=d,this.createdAt=o?new Date(o):void 0}toJSON(){return{id:this.id,authorId:this.authorId,type:this.type,createdAt:this.createdAt?.toISOString(),data:JSON.stringify(this.data),hasComments:this.hasComments,state:this.state,attributes:JSON.stringify(this.attributes)}}static fromJSON(n){return new AddSuggestionResponse(n.id,n.authorId,n.type,n.createdAt,n.hasComments,n.state,JSON.parse(n.data),n.attributes?JSON.parse(n.attributes):null)}}class GetSuggestionMessage extends Message{id;documentId;static TYPE="103";static READABLE_TYPE_NAME="getSuggestion";static DESCRIPTOR_NAME="TrackChangesGetSuggestionMessage";static DESCRIPTOR={fields:{id:{type:"string",id:1},documentId:{type:"string",id:2}}};constructor(n,s){super(),this.id=n,this.documentId=s}toJSON(){return{id:this.id,documentId:this.documentId}}static fromJSON(n){return new GetSuggestionMessage(n.id,n.documentId)}}class GetSuggestionResponse extends Message{id;authorId;type;hasComments;state;data;attributes;createdAt;static DESCRIPTOR_NAME="TrackChangesGetSuggestionResponse";static DESCRIPTOR={fields:{id:{type:"string",id:1},authorId:{type:"string",id:2},type:{type:"string",id:3},createdAt:{type:"string",id:4},data:{type:"string",id:5},hasComments:{type:"bool",id:6},state:{type:"string",id:7},attributes:{type:"string",id:8}}};constructor(n,s,a,o,t,e,r={},d=null){super(),this.id=n,this.authorId=s,this.type=a,this.hasComments=t,this.state=e,this.data=r,this.attributes=d,this.createdAt=new Date(o)}toJSON(){return{id:this.id,authorId:this.authorId,type:this.type,createdAt:this.createdAt.toISOString(),data:JSON.stringify(this.data),hasComments:this.hasComments,state:this.state,attributes:JSON.stringify(this.attributes)}}static fromJSON(n){return new GetSuggestionResponse(n.id,n.authorId,n.type,n.createdAt,n.hasComments,n.state,JSON.parse(n.data),n.attributes?JSON.parse(n.attributes):null)}}class GetAllSuggestionsMessage extends Message{documentId;static TYPE="102";static READABLE_TYPE_NAME="getAllSuggestions";static DESCRIPTOR_NAME="TrackChangesGetAllSuggestionMessage";static DESCRIPTOR={fields:{documentId:{type:"string",id:1}}};constructor(n){super(),this.documentId=n}toJSON(){return{documentId:this.documentId}}static fromJSON(n){return new GetAllSuggestionsMessage(n.documentId)}}class SuggestionDescriptor extends Descriptor{static DESCRIPTOR_NAME="SuggestionDescriptor";static DESCRIPTOR={fields:{id:{id:1,type:"string"},authorId:{id:2,type:"string"},type:{id:3,type:"string"},createdAt:{id:4,type:"string"},data:{id:5,type:"string"},hasComments:{id:6,type:"bool"},state:{id:7,type:"string"},attributes:{id:8,type:"string"}}};static toJSON(n){return{...n,data:n.data?JSON.stringify(n.data):n.data,attributes:n.attributes?JSON.stringify(n.attributes):n.attributes,createdAt:n.createdAt?.toISOString()}}static fromJSON(n){return{...n,data:n.data?JSON.parse(n.data):n.data,attributes:n.attributes?JSON.parse(n.attributes):n.attributes,createdAt:n.createdAt?new Date(n.createdAt):void 0}}}class GetAllSuggestionResponse extends Message{_suggestions;_suggestionsV2;suggestions;static DESCRIPTOR_NAME="TrackChangesGetAllSuggestionsResponse";static DESCRIPTOR={fields:{suggestions:{type:"string",rule:"repeated",id:1},suggestionsV2:{type:"SuggestionDescriptor",rule:"repeated",id:2}}};constructor(n,s){super(),this._suggestions=n,this._suggestionsV2=s,this.suggestions=s?.length?s:n}toJSON(){return{suggestions:this._suggestions?.map(n=>JSON.stringify(n)),suggestionsV2:this._suggestionsV2?.map(SuggestionDescriptor.toJSON)}}static fromJSON(n){return new GetAllSuggestionResponse(n.suggestions?.map(_suggestionFromString),n.suggestionsV2?.map(SuggestionDescriptor.fromJSON))}}function _suggestionFromString(c){const n=JSON.parse(c);return n.createdAt=n.createdAt?new Date(n.createdAt):void 0,n}class UpdateSuggestionMessage extends Message{id;documentId;hasComments;isHasCommentsModified;state;attributes;static TYPE="104";static READABLE_TYPE_NAME="updateSuggestion";static DESCRIPTOR_NAME="TrackChangesUpdateSuggestionMessage";static DESCRIPTOR={fields:{id:{type:"string",id:1},documentId:{type:"string",id:2},hasComments:{type:"bool",id:3},isHasCommentsModified:{type:"bool",id:4},state:{type:"string",id:5},attributes:{type:"string",id:6}}};constructor(n,s,a,o,t,e=null){super(),this.id=n,this.documentId=s,this.hasComments=a,this.isHasCommentsModified=o,this.state=t,this.attributes=e}toJSON(){return{id:this.id,documentId:this.documentId,hasComments:this.hasComments,isHasCommentsModified:this.isHasCommentsModified,state:this.state,attributes:JSON.stringify(this.attributes)}}static fromJSON(n){return new UpdateSuggestionMessage(n.id,n.documentId,n.hasComments,n.isHasCommentsModified,n.state,n.attributes?JSON.parse(n.attributes):null)}}let ConnectMessage$1=class J extends Message{documentId;static TYPE="105";static READABLE_TYPE_NAME="connectToSuggestions";static DESCRIPTOR_NAME="TrackChangesConnectMessage";static DESCRIPTOR={fields:{documentId:{type:"string",id:1}}};constructor(n){super(),this.documentId=n}toJSON(){return{documentId:this.documentId}}static fromJSON(n){return new J(n.documentId)}},ConnectResponse$1=class G extends Message{channel;_suggestions;_suggestionsV2;suggestions;static DESCRIPTOR_NAME="TrackChangesConnectResponse";static DESCRIPTOR={fields:{channel:{type:"string",id:1},suggestions:{type:"string",rule:"repeated",id:2},suggestionsV2:{type:"SuggestionDescriptor",rule:"repeated",id:3}}};constructor(n,s,a){super(),this.channel=n,this._suggestions=s,this._suggestionsV2=a,this.suggestions=a?.length?a:s}toJSON(){return{channel:this.channel,suggestions:this._suggestions?.map(n=>JSON.stringify(n)),suggestionsV2:this._suggestionsV2?.map(SuggestionDescriptor.toJSON)}}static fromJSON(n){return new G(n.channel,n.suggestions?.map(s=>JSON.parse(s)),n.suggestionsV2?.map(SuggestionDescriptor.fromJSON))}};class BatchUpdateSuggestionsStateMessage extends Message{ids;documentId;state;static TYPE="106";static READABLE_TYPE_NAME="batchUpdateSuggestionsState";static DESCRIPTOR_NAME="TrackChangesBatchUpdateSuggestionsStateMessage";static DESCRIPTOR={fields:{ids:{type:"string",rule:"repeated",id:1},documentId:{type:"string",id:2},state:{type:"string",id:3}}};constructor(n,s,a){super(),this.ids=n,this.documentId=s,this.state=a}toJSON(){return{ids:this.ids,documentId:this.documentId,state:this.state}}static fromJSON(n){return new BatchUpdateSuggestionsStateMessage(n.ids,n.documentId,n.state)}}class TrackChangesService extends EmitterMixin(){_documentId;_isConnected=!1;_wsGateway;_channel;static _SERVICE=10;constructor(n){super(),this._documentId=n}get isConnected(){return this._isConnected}async connect(n){if(this._isConnected)return;if(n.state!==WEB_SOCKET_GATEWAY_STATES.CONNECTED)throw new CKEditorCloudServicesError("WebSocket Gateway is not connected.",n);const s=new ConnectMessage$1(this._documentId);this._wsGateway=n,this.stopListening(n,"change:state");const a=await n._sendRequest(10,ConnectMessage$1.TYPE,MessagesCompressor.encode(s)),o=MessagesCompressor.decode(a,ConnectResponse$1);return this.listenTo(n,"change:state",(t,e,r)=>this._onWsGatewayStateChange(r),{priority:WebSocketGateway$1._CHANGE_STATE_EVENT_PRIORITY}),this._connectToChannel(n,o.channel),this._isConnected=!0,this.fire("connected"),o.suggestions}disconnect(){this._isConnected&&(this._isConnected=!1,this._wsGateway&&(this.stopListening(this._wsGateway),this._wsGateway=void 0),this._channel&&(this.stopListening(this._channel),this._channel=void 0),this.fire("disconnected"),this.stopListening())}async add(n,s,a,o=null,t){const e=new AddSuggestionMessage(n,this._documentId,s,a,o,t),r=await this._sendRequest(AddSuggestionMessage.TYPE,e);return MessagesCompressor.decode(r,AddSuggestionResponse)}async get(n,s=1){const a=new GetSuggestionMessage(n,this._documentId);try{const t=await this._sendRequest(GetSuggestionMessage.TYPE,a);return MessagesCompressor.decode(t,GetSuggestionResponse)}catch(t){if(t.name==="CKEditorCloudServicesServerError"&&t.code==="404"&&s<5)return await(o=100*s,new Promise(e=>{setTimeout(e,o)})),this.get(n,s+1);throw t.name==="CKEditorCloudServicesServerError"?t:CKEditorCloudServicesServerError.fromPublicError(t)}var o}async getAll(){const n=new GetAllSuggestionsMessage(this._documentId),s=await this._sendRequest(GetAllSuggestionsMessage.TYPE,n),{suggestions:a}=MessagesCompressor.decode(s,GetAllSuggestionResponse);return a}async update(n,s={}){const{hasComments:a,state:o,attributes:t}=s,e=a!==void 0,r=new UpdateSuggestionMessage(n,this._documentId,a,e,o,t);await this._sendRequest(UpdateSuggestionMessage.TYPE,r)}async batchUpdateState(n){const s=new BatchUpdateSuggestionsStateMessage(n.ids,this._documentId,n.state);await this._sendRequest(BatchUpdateSuggestionsStateMessage.TYPE,s)}_connectToChannel(n,s){this._channel=n._getChannel(TrackChangesService._SERVICE,s),this._channel&&this.listenTo(this._channel,this._channel.getEventName(UpdateSuggestionMessage.TYPE),(a,o)=>{const t=MessagesCompressor.decode(o,UpdateSuggestionMessage);this.fire("suggestionUpdated",t)})}_onWsGatewayStateChange(n){n===WEB_SOCKET_GATEWAY_STATES.DISCONNECTED&&this.disconnect()}_sendRequest(n,s){if(!this._wsGateway||!this._isConnected)throw new ServiceNotConnectedError("Track Changes",this);return this._wsGateway._sendRequest(10,n,MessagesCompressor.encode(s))}}let getRandomValues;const rnds8=new Uint8Array(16);function rng(){if(!getRandomValues&&(getRandomValues=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!getRandomValues))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return getRandomValues(rnds8)}const byteToHex=[];for(let c=0;c<256;++c)byteToHex.push((c+256).toString(16).slice(1));function unsafeStringify(c,n=0){return byteToHex[c[n+0]]+byteToHex[c[n+1]]+byteToHex[c[n+2]]+byteToHex[c[n+3]]+"-"+byteToHex[c[n+4]]+byteToHex[c[n+5]]+"-"+byteToHex[c[n+6]]+byteToHex[c[n+7]]+"-"+byteToHex[c[n+8]]+byteToHex[c[n+9]]+"-"+byteToHex[c[n+10]]+byteToHex[c[n+11]]+byteToHex[c[n+12]]+byteToHex[c[n+13]]+byteToHex[c[n+14]]+byteToHex[c[n+15]]}const randomUUID=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto);var native={randomUUID};function v4(c,n,s){if(native.randomUUID&&!c)return native.randomUUID();c=c||{};const a=c.random||(c.rng||rng)();return a[6]=a[6]&15|64,a[8]=a[8]&63|128,unsafeStringify(a)}class SessionsConnectResponse extends Message{channel;sockets;static DESCRIPTOR_NAME="SessionsConnectResponse";static DESCRIPTOR={fields:{channel:{type:"string",id:1},sockets:{rule:"repeated",type:"SessionsSocketDescriptor",id:2}}};constructor(n,s=[]){super(),this.channel=n,this.sockets=s}toJSON(){return{channel:this.channel,sockets:this.sockets.map(n=>({user:n.userId,session:n.id,role:n.role,permissions:n.permissions}))}}static fromJSON(n){return new SessionsConnectResponse(n.channel,n.sockets.map(s=>({id:s.session,userId:s.user,role:s.role,permissions:s.permissions})))}}class SessionsConnectMessage extends Message{id;sessionType;static TYPE="31";static READABLE_TYPE_NAME="getConnectedSockets";static DESCRIPTOR_NAME="SessionsConnectMessage";static DESCRIPTOR={fields:{id:{type:"string",id:1},sessionType:{type:"uint32",id:2}}};constructor(n,s){super(),this.id=n,this.sessionType=s}toJSON(){return{id:this.id,sessionType:this.sessionType}}static fromJSON(n){return new SessionsConnectMessage(n.id,n.sessionType)}}class SocketConnectMessage extends Message{id;userId;role;permissions;static TYPE="32";static READABLE_TYPE_NAME="connectSocket";static DESCRIPTOR_NAME="SocketConnectMessage";static DESCRIPTOR={fields:{id:{type:"string",id:1},userId:{type:"string",id:2},role:{type:"string",id:3},permissions:{rule:"repeated",type:"string",id:4}}};constructor(n,s,a,o){super(),this.id=n,this.userId=s,this.role=a,this.permissions=o}toJSON(){return{id:this.id,userId:this.userId??void 0,role:this.role??void 0,permissions:this.permissions??void 0}}static fromJSON(n){return new SocketConnectMessage(n.id,n.userId,n.role,n.permissions)}}class SocketDisconnectMessage extends Message{id;static TYPE="33";static READABLE_TYPE_NAME="disconnectSocket";static DESCRIPTOR_NAME="SocketDisconnectMessage";static DESCRIPTOR={fields:{id:{type:"string",id:1}}};constructor(n){super(),this.id=n}toJSON(){return{id:this.id}}static fromJSON(n){return new SocketDisconnectMessage(n.id)}}class _0xe631fc extends Collection{_id;_sessionType;_handlers=new Map;_channel;_wsGateway;_connected;_eventsQueue=[];_isRunning=!1;constructor(n,s){super({idProperty:"id"}),this._id=n,this._sessionType=s}async connect(n){this._wsGateway=n,this.stopListening(n,"change:state");const s=new SessionsConnectMessage(this._id,this._sessionType);let a;try{const t=await this._wsGateway._sendRequest(3,SessionsConnectMessage.TYPE,MessagesCompressor.encode(s));a=MessagesCompressor.decode(t,SessionsConnectResponse)}catch{a=new SessionsConnectResponse(this._id,[])}this._connectToChannel(this._wsGateway,a.channel,this._sessionType);const o=await(async function(t,e){const r=e.map(u=>u.userId),d=r.length?await User.getMany(t,r):[];return e.map(u=>{const l={id:u.id,role:u.role,permissions:u.permissions};return l.user=u.userId&&d.find(m=>m.id===u.userId)||new User,l})})(this._wsGateway,a.sockets);for(const t of o)super.add(t);this._connected=!0,this.fire("connected"),this.listenTo(this._wsGateway,"change:state",(t,e,r)=>this._onWsGatewayStateChange(r),{priority:WebSocketGateway$1._CHANGE_STATE_EVENT_PRIORITY}),await this._runQueue()}disconnect(n=!0){if(this._connected){for(this._connected=!1,this._eventsQueue=[];this.length;)super.remove(0);this._channel&&(this.stopListening(this._channel),this._channel=void 0),this._wsGateway&&n&&(this.stopListening(this._wsGateway),this._wsGateway=void 0),this.fire("disconnected"),n&&this.stopListening()}}add(n,s){throw new TypeError("The collection is read-only.")}remove(n){throw new TypeError("The collection is read-only.")}_connectToChannel(n,s,a){this._channel=n._getChannel(a,s),this._channel&&(this._addHandler(this._channel,SocketConnectMessage.TYPE,async o=>{const t=MessagesCompressor.decode(o,SocketConnectMessage);if(this.getIndex(t.id)===-1){const e={id:t.id,role:t.role,permissions:t.permissions};t.userId&&(e.user=await User.get(n,t.userId)),super.add(e)}}),this._addHandler(this._channel,SocketDisconnectMessage.TYPE,o=>{const t=MessagesCompressor.decode(o,SocketDisconnectMessage);this.getIndex(t.id)!==-1&&super.remove(t.id)}))}async _onWsGatewayStateChange(n){n===WebSocketGateway$1.STATE_DISCONNECTED&&this.disconnect(!1),n===WebSocketGateway$1.STATE_CONNECTED&&await this.connect(this._wsGateway)}async _runQueue(){if(this._isRunning||!this._connected)return;let n;for(this._isRunning=!0;n=this._eventsQueue.shift();){const s=this._handlers.get(n.eventName);s&&await s(n.data)}this._isRunning=!1}_addHandler(n,s,a){const o=n.getEventName(s,!0);this.listenTo(n,o,async(t,e)=>{const r=t.name;this._eventsQueue.push({eventName:r,data:e}),await this._runQueue()}),this._handlers.set(o,a)}}let Sessions$1=class{static async getConnectedSessions(n,s,a){const o=new _0xe631fc(s,a);return await o.connect(n),o}};class CollaborativeEditingConnectMessage extends Message{id;buffers;types;bundleVersion;lastOperationId;static TYPE="11";static READABLE_TYPE_NAME="connectToDocument";static DESCRIPTOR_NAME="CollaborativeEditingConnectMessage";static DESCRIPTOR={fields:{id:{type:"string",id:1},bundleVersion:{type:"string",id:2},buffers:{rule:"repeated",type:"bytes",id:3},types:{rule:"repeated",type:"uint32",id:4},lastOperationId:{type:"string",id:5}}};constructor(n,s,a,o,t=""){super(),this.id=n,this.buffers=s,this.types=a,this.bundleVersion=o,this.lastOperationId=t}toJSON(){return{id:this.id,buffers:this.buffers,types:this.types,bundleVersion:this.bundleVersion,lastOperationId:this.lastOperationId}}static fromJSON(n){return new CollaborativeEditingConnectMessage(n.id,n.buffers,n.types,n.bundleVersion,n.lastOperationId)}}class OperationMetadataHelpers{static prepareMetadataForOperations(n,s){if(!n?.length||!s?.length)return[];const a=[];let o=0;for(const t of n)if(t!==0){if(!s[o])throw new Error("Missing metadata for a operation");a.push(s[o]),o++}else a.push(a[a.length-1]);return a}static removeUnnecessaryMetadata(n,s){if(!n?.length||!s?.length)return[];const a=[];for(let o=0;o<n.length;o++)if(n[o]!==0){if(!s[o])throw new Error("Missing metadata for a operation");a.push(s[o])}return a}}class OperationMetadataDescriptor extends Descriptor{static DESCRIPTOR_NAME="OperationMetadataDescriptor";static DESCRIPTOR={fields:{userId:{type:"string",id:1},type:{type:"string",id:2},createdAt:{type:"string",id:3}}};static toJSON({createdAt:n,...s}){const a={...s};return n?.toISOString&&(a.createdAt=n.toISOString()),a}static fromJSON({createdAt:n,...s}){const a={...s};return n&&(a.createdAt=new Date(n)),a}}class CollaborativeEditingUpdateMessage extends Message{id;buffers;types;baseVersion;metadata;lastOperationId;static TYPE="13";static READABLE_TYPE_NAME="updateDocument";static DESCRIPTOR_NAME="CollaborativeEditingUpdateMessage";static DESCRIPTOR={fields:{id:{type:"string",id:1},baseVersion:{type:"uint32",id:2},buffers:{rule:"repeated",type:"bytes",id:3},types:{rule:"repeated",type:"uint32",id:4},metadata:{rule:"repeated",type:"OperationMetadataDescriptor",id:6},lastOperationId:{type:"string",id:7}}};constructor(n,s,a,o,t=[],e=""){super(),this.id=n,this.buffers=s,this.types=a,this.baseVersion=o,this.metadata=t,this.lastOperationId=e}get data(){return{buffers:this.buffers,types:this.types,baseVersion:this.baseVersion,lastOperationId:this.lastOperationId}}toJSON(){return{id:this.id,buffers:this.buffers,types:this.types,baseVersion:this.baseVersion,metadata:OperationMetadataHelpers.removeUnnecessaryMetadata(this.types,this.metadata).map(OperationMetadataDescriptor.toJSON),lastOperationId:this.lastOperationId}}static fromJSON(n){return new CollaborativeEditingUpdateMessage(n.id,n.buffers,n.types,n.baseVersion,OperationMetadataHelpers.prepareMetadataForOperations(n.types,n.metadata).map(OperationMetadataDescriptor.fromJSON),n.lastOperationId)}}class CollaborativeEditingReconnectMessage extends Message{id;lastKnowVersion;bundleVersion;static TYPE="12";static READABLE_TYPE_NAME="reconnectToDocument";static DESCRIPTOR_NAME="CollaborativeEditingReconnectMessage";static DESCRIPTOR={fields:{id:{type:"string",id:1},bundleVersion:{type:"string",id:2},lastKnowVersion:{type:"uint32",id:3}}};constructor(n,s,a){super(),this.id=n,this.lastKnowVersion=s,this.bundleVersion=a}toJSON(){return{id:this.id,bundleVersion:this.bundleVersion,lastKnowVersion:this.lastKnowVersion}}static fromJSON(n){return new CollaborativeEditingReconnectMessage(n.id,n.lastKnowVersion,n.bundleVersion)}}class CollaborativeEditingResponse extends Message{version;buffers;types;metadata;lastOperationId;lastOperationAcceptedAt;static DESCRIPTOR_NAME="CollaborativeEditingResponse";static DESCRIPTOR={fields:{version:{type:"uint32",id:1},buffers:{rule:"repeated",type:"bytes",id:2},types:{rule:"repeated",type:"uint32",id:3},metadata:{rule:"repeated",type:"OperationMetadataDescriptor",id:5},lastOperationId:{type:"string",id:6},lastOperationAcceptedAt:{type:"string",id:7}}};constructor(n,s=[],a=[],o=[],t="",e=null){super(),this.version=n,this.buffers=s,this.types=a,this.metadata=o,this.lastOperationId=t,this.lastOperationAcceptedAt=e}get data(){return{buffers:this.buffers,types:this.types,baseVersion:this.version-this.types.length,lastOperationId:this.lastOperationId,lastOperationAcceptedAt:this.lastOperationAcceptedAt}}get wereChangesApplied(){return!this.types?.length}toJSON(){return{version:this.version,buffers:this.buffers,types:this.types,metadata:OperationMetadataHelpers.removeUnnecessaryMetadata(this.types,this.metadata).map(OperationMetadataDescriptor.toJSON),lastOperationId:this.lastOperationId,lastOperationAcceptedAt:this.lastOperationAcceptedAt instanceof Date?this.lastOperationAcceptedAt.toISOString():this.lastOperationAcceptedAt}}static fromJSON(n){return new CollaborativeEditingResponse(n.version,n.buffers,n.types,OperationMetadataHelpers.prepareMetadataForOperations(n.types,n.metadata).map(OperationMetadataDescriptor.fromJSON),n.lastOperationId,n.lastOperationAcceptedAt?new Date(n.lastOperationAcceptedAt):null)}static create(n){return new CollaborativeEditingResponse(n.version,n.buffers,n.types,n.metadata,n.lastOperationId,n.lastOperationAcceptedAt?new Date(n.lastOperationAcceptedAt):null)}}class CollaborativeEditingConnectResponse extends Message{channel;version;buffers;types;offset;metadata;initData;sessionId;lastOperationId;sessionCreatedAt;static DESCRIPTOR_NAME="CollaborativeEditingConnectResponse";static DESCRIPTOR={fields:{channel:{type:"string",id:1},offset:{type:"uint32",id:2},version:{type:"uint32",id:3},buffers:{rule:"repeated",type:"bytes",id:4},types:{rule:"repeated",type:"uint32",id:5},metadata:{rule:"repeated",type:OperationMetadataDescriptor.DESCRIPTOR_NAME,id:7},initData:{type:"string",id:8},isInitialized:{type:"bool",id:9},sessionId:{type:"string",id:10},lastOperationId:{type:"string",id:11},sessionCreatedAt:{type:"string",id:12}}};constructor(n,s,a=[],o=[],t=0,e=[],r=null,d="",u="",l=null){super(),this.channel=n,this.version=s,this.buffers=a,this.types=o,this.offset=t,this.metadata=e,this.initData=r,this.sessionId=d,this.lastOperationId=u,this.sessionCreatedAt=l}get data(){return{buffers:this.buffers,types:this.types,baseVersion:this.version-this.types.length,lastOperationId:this.lastOperationId,sessionCreatedAt:this.sessionCreatedAt}}get wereChangesApplied(){return!this.types?.length&&this.initData===null}toJSON(){return{channel:this.channel,version:this.version,sessionId:this.sessionId,buffers:this.buffers,types:this.types,offset:this.offset,metadata:OperationMetadataHelpers.removeUnnecessaryMetadata(this.types,this.metadata).map(OperationMetadataDescriptor.toJSON),initData:this.initData??"",isInitialized:typeof this.initData=="string",lastOperationId:this.lastOperationId,sessionCreatedAt:this.sessionCreatedAt?this.sessionCreatedAt.toISOString():null}}static create(n){return new CollaborativeEditingConnectResponse(n.channel,n.version,n.buffers,n.types,n.offset,n.metadata,n.initData,n.sessionId,n.lastOperationId,n.sessionCreatedAt)}static fromJSON(n){let s=null;return n.isInitialized===!0?s=n.initData??"":typeof n.isInitialized!="boolean"&&n.initData&&(s=n.initData),CollaborativeEditingConnectResponse.create({channel:n.channel,version:n.version,buffers:n.buffers,types:n.types,offset:n.offset,metadata:OperationMetadataHelpers.prepareMetadataForOperations(n.types,n.metadata).map(OperationMetadataDescriptor.fromJSON),initData:s,sessionId:n.sessionId,lastOperationId:n.lastOperationId,sessionCreatedAt:n.sessionCreatedAt?new Date(n.sessionCreatedAt):null})}}class GetDocumentDetailsResponse extends Message{lastDocumentSession;currentDocumentSession;static DESCRIPTOR_NAME="GetDocumentDetailsResponse";static DESCRIPTOR={fields:{lastDocumentSessionId:{type:"string",id:1},lastDocumentSessionOperationId:{type:"string",id:2},currentDocumentSessionId:{type:"string",id:3},currentDocumentSessionVersion:{type:"uint32",id:4},currentDocumentSessionOperationId:{type:"string",id:5}}};constructor(n,s){super(),this.lastDocumentSession=n,this.currentDocumentSession=s}get data(){return{lastDocumentSessionId:this.lastDocumentSession?.id,lastDocumentSessionOperationId:this.lastDocumentSession?.lastOperationId,currentDocumentSessionId:this.currentDocumentSession?.id,currentDocumentSessionVersion:this.currentDocumentSession?.version,currentDocumentSessionOperationId:this.currentDocumentSession?.lastOperationId}}toJSON(){return{lastDocumentSessionId:this.lastDocumentSession?.id,lastDocumentSessionOperationId:this.lastDocumentSession?.lastOperationId,currentDocumentSessionId:this.currentDocumentSession?.id,currentDocumentSessionVersion:this.currentDocumentSession?.version,currentDocumentSessionOperationId:this.currentDocumentSession?.lastOperationId}}static fromJSON(n){const s=n.lastDocumentSessionId?{id:n.lastDocumentSessionId,lastOperationId:n.lastDocumentSessionOperationId}:void 0,a=n.currentDocumentSessionId?{lastOperationId:n.currentDocumentSessionOperationId,version:n.currentDocumentSessionVersion,id:n.currentDocumentSessionId}:void 0;return new GetDocumentDetailsResponse(s,a)}}class GetDocumentDetailsMessage extends Message{documentId;static TYPE="14";static READABLE_TYPE_NAME="getDocumentDetails";static DESCRIPTOR_NAME="GetDocumentDetailsMessage";static DESCRIPTOR={fields:{documentId:{type:"string",id:1},environmentId:{type:"string",id:2}}};constructor(n){super(),this.documentId=n}get data(){return{documentId:this.documentId}}toJSON(){return{documentId:this.documentId}}static fromJSON(n){return new GetDocumentDetailsMessage(n.documentId)}}class _0x339b93 extends EmitterMixin(){static _SERVICE=1;_bundleVersion;_id;_isConnected;_wsGateway;_channel;_connectedSessions;constructor(n,s){if(super(),!n)throw new TypeError('Param "bundleVersion" must be provided.');this._id=s??v4(),this._isConnected=!1,this._bundleVersion=n}getId(){return this._id}isConnected(){return this._isConnected}connect(n,s={buffers:[],types:[]},a){const o=new CollaborativeEditingConnectMessage(this.getId(),s.buffers,s.types,this._bundleVersion,a);return this._connect(n,o)}reconnect(n,s){if(this.isConnected())throw new CKEditorCloudServicesError("Cannot reconnect to already connected service.",n);return this._connect(n,new CollaborativeEditingReconnectMessage(this.getId(),s,this._bundleVersion))}disconnect(){this._isConnected&&(this._isConnected=!1,this._wsGateway&&(this.stopListening(this._wsGateway),this._wsGateway=void 0),this._channel&&(this.stopListening(this._channel),this._channel=void 0),this._connectedSessions&&(this._connectedSessions.disconnect(),this._connectedSessions=void 0),this.fire("disconnected"),this.stopListening())}async getDocumentDetails(){const n=new GetDocumentDetailsMessage(this.getId());if(!this._wsGateway)throw new ServiceNotConnectedError("Collaborative Editing",this);const s=await this._wsGateway._sendRequest(1,GetDocumentDetailsMessage.TYPE,MessagesCompressor.encode(n));return MessagesCompressor.decode(s,GetDocumentDetailsResponse)}async sendOperations(n,s,a){if(!n?.types?.length)throw new CKEditorCloudServicesError("Cannot send empty update.",this._wsGateway);const o=typeof s=="number"?s:parseInt(s);if(!Number.isInteger(o)||o<0)throw new CKEditorCloudServicesError("Base version not provided.",this._wsGateway);const t=new CollaborativeEditingUpdateMessage(this.getId(),n.buffers,n.types,o,[],a);if(!this._wsGateway||!this._isConnected)throw new ServiceNotConnectedError("Collaborative Editing",this);const e=await this._wsGateway._sendRequest(1,CollaborativeEditingUpdateMessage.TYPE,MessagesCompressor.encode(t));return MessagesCompressor.decode(e,CollaborativeEditingResponse)}async getConnectedSessions(){if(!this._isConnected)throw new ServiceNotConnectedError("Collaborative Editing",this);return this._connectedSessions||(this._connectedSessions=await Sessions$1.getConnectedSessions(this._wsGateway,this._id,1)),this._connectedSessions}static getConnectedSessions(n,s){return Sessions$1.getConnectedSessions(n,s,1)}async _connect(n,s){if(this.isConnected())return;if(n.state!==WebSocketGateway$1.STATE_CONNECTED)throw new CKEditorCloudServicesError("WebSocket Gateway is not connected.",n);this._wsGateway=n,this.stopListening(n,"change:state");const a=await n._sendRequest(1,s.constructor.TYPE,MessagesCompressor.encode(s)),o=MessagesCompressor.decode(a,CollaborativeEditingConnectResponse);return this.listenTo(n,"change:state",(t,e,r)=>this._onWsGatewayStateChange(r),{priority:WebSocketGateway$1._CHANGE_STATE_EVENT_PRIORITY}),this._connectToChannel(n,o.channel),this._isConnected=!0,this.fire("connected"),o}_connectToChannel(n,s){this._channel=n._getChannel(1,s),this.listenTo(this._channel,this._channel.getEventName(CollaborativeEditingUpdateMessage.TYPE),(a,o)=>{const t=MessagesCompressor.decode(o,CollaborativeEditingUpdateMessage);this.fire("operationsReceived",t.baseVersion,t.data,t.metadata)})}_onWsGatewayStateChange(n){n===WebSocketGateway$1.STATE_DISCONNECTED&&this.disconnect()}}class CommentDescriptor extends Descriptor{static DESCRIPTOR_NAME="CommentDescriptor";static DESCRIPTOR={fields:{commentId:{id:1,type:"string"},commentThreadId:{id:2,type:"string"},userId:{id:3,type:"string"},content:{id:4,type:"string"},documentId:{id:5,type:"string"},createdAt:{id:6,type:"string"},attributes:{id:7,type:"string"}}};static toJSON(n){return{...n,createdAt:n.createdAt?.toISOString(),attributes:n.attributes?JSON.stringify(n.attributes):null}}static fromJSON(n){return{...n,createdAt:new Date(n.createdAt),attributes:n.attributes?JSON.parse(n.attributes):null}}}class CommentsThreadDescriptor extends Descriptor{static DESCRIPTOR_NAME="CommentsThreadDescriptor";static DESCRIPTOR={fields:{commentThreadId:{type:"string",id:1},comments:{type:"CommentDescriptor",rule:"repeated",id:2},resolvedAt:{type:"string",id:3},resolvedBy:{type:"string",id:4},context:{type:"string",id:5},createdAt:{type:"string",id:6},deletedAt:{type:"string",id:7},attributes:{type:"string",id:8},unlinkedAt:{type:"string",id:9}}};static toJSON(n){return{...n,createdAt:n.createdAt?.toISOString(),deletedAt:n.deletedAt?.toISOString(),resolvedAt:n.resolvedAt?.toISOString(),attributes:n.attributes?JSON.stringify(n.attributes):null,context:n.context?JSON.stringify(n.context):n.context,comments:n.comments?.map(CommentDescriptor.toJSON),unlinkedAt:n.unlinkedAt?.toISOString()}}static fromJSON(n){return{...n,createdAt:n.createdAt?new Date(n.createdAt):void 0,deletedAt:n.deletedAt?new Date(n.deletedAt):void 0,resolvedAt:n.resolvedAt?new Date(n.resolvedAt):void 0,attributes:n.attributes?JSON.parse(n.attributes):null,context:n.context?JSON.parse(n.context):void 0,comments:n.comments?.map(CommentDescriptor.fromJSON),unlinkedAt:n.unlinkedAt?new Date(n.unlinkedAt):void 0}}}class AddCommentMessage extends Message{documentId;commentThreadId;content;commentId;userId;attributes;commentThread;createdAt;static TYPE="91";static READABLE_TYPE_NAME="addComment";static DESCRIPTOR_NAME="CommentsV2AddCommentMessage";static DESCRIPTOR={fields:{commentThreadId:{type:"string",id:1},content:{type:"string",id:2},documentId:{type:"string",id:3},commentId:{type:"string",id:4},createdAt:{type:"string",id:5},userId:{type:"string",id:6},attributes:{type:"string",id:7},commentThread:{type:"CommentsThreadDescriptor",id:8}}};constructor(n,s,a,o="",t,e="",r=null,d){super(),this.documentId=n,this.commentThreadId=s,this.content=a,this.commentId=o,this.userId=e,this.attributes=r,this.commentThread=d,this.createdAt=t?new Date(t):""}toJSON(){return{commentThreadId:this.commentThreadId,content:this.content,documentId:this.documentId,commentId:this.commentId,createdAt:this.createdAt instanceof Date?this.createdAt.toISOString():this.createdAt,userId:this.userId,attributes:JSON.stringify(this.attributes),commentThread:this.commentThread?CommentsThreadDescriptor.toJSON(this.commentThread):void 0}}static fromJSON(n){return new AddCommentMessage(n.documentId,n.commentThreadId,n.content,n.commentId?n.commentId:void 0,n.createdAt?new Date(n.createdAt):void 0,n.userId?n.userId:void 0,n.attributes?JSON.parse(n.attributes):{},n.commentThread?CommentsThreadDescriptor.fromJSON(n.commentThread):void 0)}}class AddCommentResponse extends Message{commentThreadId;commentId;createdAt;static DESCRIPTOR_NAME="CommentsV2AddCommentResponse";static DESCRIPTOR={fields:{commentThreadId:{type:"string",id:1},commentId:{type:"string",id:2},createdAt:{type:"string",id:3}}};constructor(n,s,a){super(),this.commentThreadId=n,this.commentId=s,this.createdAt=new Date(a)}toJSON(){return{commentThreadId:this.commentThreadId,commentId:this.commentId,createdAt:this.createdAt.toISOString()}}static fromJSON(n){return new AddCommentResponse(n.commentThreadId,n.commentId,n.createdAt)}}class ConnectMessage extends Message{documentId;static TYPE="92";static READABLE_TYPE_NAME="connectToComment";static DESCRIPTOR_NAME="CommentsV2ConnectMessage";static DESCRIPTOR={fields:{documentId:{type:"string",id:1}}};constructor(n){super(),this.documentId=n}toJSON(){return{documentId:this.documentId}}static fromJSON(n){return new ConnectMessage(n.documentId)}}class ConnectResponse extends Message{channel;_threads;_threadsV2;threads;static DESCRIPTOR_NAME="CommentsV2ConnectResponse";static DESCRIPTOR={fields:{channel:{type:"string",id:1},threads:{type:"string",rule:"repeated",id:2},threadsV2:{type:"CommentsThreadDescriptor",rule:"repeated",id:3}}};constructor(n,s,a){super(),this.channel=n,this._threads=s,this._threadsV2=a,this.threads=a?.length?a:s}toJSON(){return{channel:this.channel,threads:this._threads?.map(n=>JSON.stringify(n)),threadsV2:this._threadsV2?.map(CommentsThreadDescriptor.toJSON)}}static fromJSON(n){return new ConnectResponse(n.channel,n.threads?.map(s=>JSON.parse(s)),n.threadsV2?.map(CommentsThreadDescriptor.fromJSON))}}class RemoveCommentMessage extends Message{documentId;commentThreadId;commentId;static TYPE="95";static READABLE_TYPE_NAME="removeComment";static DESCRIPTOR_NAME="CommentsV2RemoveCommentMessage";static DESCRIPTOR={fields:{commentThreadId:{type:"string",id:1},commentId:{type:"string",id:2},documentId:{type:"string",id:3}}};constructor(n,s,a){super(),this.documentId=n,this.commentThreadId=s,this.commentId=a}toJSON(){return{documentId:this.documentId,commentThreadId:this.commentThreadId,commentId:this.commentId}}static fromJSON(n){return new RemoveCommentMessage(n.documentId,n.commentThreadId,n.commentId)}}class RemoveCommentThreadMessage extends Message{documentId;commentThreadId;static TYPE="97";static READABLE_TYPE_NAME="removeCommentThread";static DESCRIPTOR_NAME="CommentsV2RemoveCommentThreadMessage";static DESCRIPTOR={fields:{commentThreadId:{type:"string",id:1},documentId:{type:"string",id:2}}};constructor(n,s){super(),this.documentId=n,this.commentThreadId=s}toJSON(){return{documentId:this.documentId,commentThreadId:this.commentThreadId}}static fromJSON(n){return new RemoveCommentThreadMessage(n.documentId,n.commentThreadId)}}class UpdateCommentMessage extends Message{documentId;commentThreadId;commentId;content;attributes;isAttributesUpdated;commentThread;static TYPE="96";static READABLE_TYPE_NAME="updateComment";static DESCRIPTOR_NAME="CommentsV2UpdateCommentMessage";static DESCRIPTOR={fields:{commentThreadId:{type:"string",id:1},commentId:{type:"string",id:2},content:{type:"string",id:3},documentId:{type:"string",id:4},attributes:{type:"string",id:5},isAttributesUpdated:{type:"bool",id:6},commentThread:{type:"CommentsThreadDescriptor",id:7}}};constructor(n,s,a,o,t=null,e=!1,r){super(),this.documentId=n,this.commentThreadId=s,this.commentId=a,this.content=o,this.attributes=t,this.isAttributesUpdated=e,this.commentThread=r}toJSON(){return{documentId:this.documentId,commentThreadId:this.commentThreadId,commentId:this.commentId,content:this.content,attributes:this.attributes?JSON.stringify(this.attributes):null,isAttributesUpdated:this.isAttributesUpdated,commentThread:this.commentThread?CommentsThreadDescriptor.toJSON(this.commentThread):void 0}}static fromJSON(n){return new UpdateCommentMessage(n.documentId,n.commentThreadId,n.commentId,n.content,n.attributes?JSON.parse(n.attributes):null,n.isAttributesUpdated,n.commentThread?CommentsThreadDescriptor.fromJSON(n.commentThread):void 0)}}class GetCommentThreadMessage extends Message{commentThreadId;documentId;static TYPE="93";static READABLE_TYPE_NAME="getComment";static DESCRIPTOR_NAME="CommentsV2GetCommentThreadMessage";static DESCRIPTOR={fields:{commentThreadId:{type:"string",id:1},documentId:{type:"string",id:2}}};constructor(n,s){super(),this.commentThreadId=n,this.documentId=s}toJSON(){return{commentThreadId:this.commentThreadId,documentId:this.documentId}}static fromJSON(n){return new GetCommentThreadMessage(n.commentThreadId,n.documentId)}}class GetCommentThreadResponse extends Message{commentThreadId;_comments;_commentsV2;resolvedBy;comments;createdAt;deletedAt;resolvedAt;attributes;context;unlinkedAt;static DESCRIPTOR_NAME="CommentsV2GetCommentThreadResponse";static DESCRIPTOR={fields:{commentThreadId:{type:"string",id:1},comments:{type:"string",rule:"repeated",id:2},commentsV2:{type:"CommentDescriptor",rule:"repeated",id:3},resolvedAt:{type:"string",id:4},resolvedBy:{type:"string",id:5},context:{type:"string",id:6},createdAt:{type:"string",id:7},deletedAt:{type:"string",id:8},attributes:{type:"string",id:9},unlinkedAt:{type:"string",id:10}}};constructor(n,s,a,o,t,e,r,d,u,l){super(),this.commentThreadId=n,this._comments=s,this._commentsV2=a,this.resolvedBy=t,this.comments=a?.length?a:s,this.createdAt=r?new Date(r):void 0,this.deletedAt=typeof d=="string"?new Date(d):d,this.resolvedAt=typeof u=="string"?new Date(u):u,this.unlinkedAt=typeof l=="string"?new Date(l):l,this.attributes=typeof o=="string"?JSON.parse(o):o,this.context=typeof e=="string"?JSON.parse(e):e}toJSON(){return{commentThreadId:this.commentThreadId,comments:this._comments?.map(n=>JSON.stringify(n)),commentsV2:this._commentsV2?.map(CommentDescriptor.toJSON),attributes:this.attributes?JSON.stringify(this.attributes):this.attributes,context:this.context?JSON.stringify(this.context):this.context,resolvedBy:this.resolvedBy,createdAt:this.createdAt?.toISOString(),deletedAt:this.deletedAt?.toISOString(),resolvedAt:this.resolvedAt?.toISOString(),unlinkedAt:this.unlinkedAt?.toISOString()}}static fromJSON(n){return new GetCommentThreadResponse(n.commentThreadId,n.comments?.map(s=>(function(a){const o=JSON.parse(a);return{...o,createdAt:new Date(o.createdAt)}})(s)),n.commentsV2?.map(CommentDescriptor.fromJSON),n.attributes?JSON.parse(n.attributes):n.attributes,n.resolvedBy,n.context?JSON.parse(n.context):n.context,n.createdAt,n.deletedAt,n.resolvedAt,n.unlinkedAt)}}class GetDocumentThreadsMessage extends Message{documentId;static TYPE="94";static READABLE_TYPE_NAME="getDocumentThreads";static DESCRIPTOR_NAME="CommentsV2GetDocumentThreadsMessage";static DESCRIPTOR={fields:{documentId:{type:"string",id:1}}};constructor(n){super(),this.documentId=n}toJSON(){return{documentId:this.documentId}}static fromJSON(n){return new GetDocumentThreadsMessage(n.documentId)}}class GetDocumentThreadsResponse extends Message{_threads;_threadsV2;threads;static DESCRIPTOR_NAME="CommentsV2GetDocumentThreadsResponse";static DESCRIPTOR={fields:{threads:{type:"string",rule:"repeated",id:1},threadsV2:{type:"CommentsThreadDescriptor",rule:"repeated",id:2}}};constructor(n,s){super(),this._threads=n,this._threadsV2=s,this.threads=s?.length?s:n}toJSON(){return{threads:this._threads?.map(n=>JSON.stringify(n)),threadsV2:this._threadsV2?.map(CommentsThreadDescriptor.toJSON)}}static fromJSON(n){return new GetDocumentThreadsResponse(n.threads?.map(s=>(function(a){const o=JSON.parse(a),t={...o};return o.comments&&(t.comments=o.comments?.map(e=>({...e,createdAt:new Date(e.createdAt)}))),t})(s)),n.threadsV2?.map(CommentsThreadDescriptor.fromJSON))}}class CommentThreadAddedCommentDescriptor extends Descriptor{static DESCRIPTOR_NAME="CommentThreadAddedCommentDescriptor";static DESCRIPTOR={fields:{commentId:{id:1,type:"string"},createdAt:{id:2,type:"string"}}};static toJSON(n){return{commentId:n.commentId,createdAt:n.createdAt?.toISOString()}}static fromJSON(n){return{commentId:n.commentId,createdAt:new Date(n.createdAt)}}}class AddCommentThreadResponse extends Message{commentThreadId;comments;createdAt;static DESCRIPTOR_NAME="CommentsV2AddCommentThreadResponse";static DESCRIPTOR={fields:{commentThreadId:{type:"string",id:1},createdAt:{type:"string",id:2},comments:{type:"CommentThreadAddedCommentDescriptor",rule:"repeated",id:3}}};constructor(n,s,a=[]){super(),this.commentThreadId=n,this.comments=a,this.createdAt=new Date(s)}toJSON(){return{commentThreadId:this.commentThreadId,createdAt:this.createdAt.toISOString(),comments:this.comments.map(n=>CommentThreadAddedCommentDescriptor.toJSON(n))}}static fromJSON(n){return new AddCommentThreadResponse(n.commentThreadId,n.createdAt,n.comments.map(s=>CommentThreadAddedCommentDescriptor.fromJSON(s)))}}class AddCommentThreadMessage extends Message{documentId;commentThreadId;comments;context;resolvedBy;attributes;createdAt;resolvedAt;deletedAt;static TYPE="140";static READABLE_TYPE_NAME="addCommentThread";static DESCRIPTOR_NAME="CommentsV2AddCommentThreadMessage";static DESCRIPTOR={fields:{documentId:{type:"string",id:1},commentThreadId:{type:"string",id:2},context:{type:"string",id:3},createdAt:{type:"string",id:4},resolvedAt:{type:"string",id:5},resolvedBy:{type:"string",id:6},attributes:{type:"string",id:7},deletedAt:{type:"string",id:8},comments:{type:"CommentDescriptor",rule:"repeated",id:9}}};constructor(n,s,a=[],o,t=null,e=null,r=null,d=null,u=null){super(),this.documentId=n,this.commentThreadId=s,this.comments=a,this.context=o,this.resolvedBy=t,this.attributes=u,this.createdAt=e?new Date(e):"",this.resolvedAt=r?new Date(r):"",this.deletedAt=d?new Date(d):""}toJSON(){return{commentThreadId:this.commentThreadId,context:this.context?JSON.stringify(this.context):this.context,documentId:this.documentId,resolvedBy:this.resolvedBy,resolvedAt:this.resolvedAt instanceof Date?this.resolvedAt.toISOString():this.resolvedAt,deletedAt:this.deletedAt instanceof Date?this.deletedAt.toISOString():this.deletedAt,createdAt:this.createdAt instanceof Date?this.createdAt.toISOString():this.createdAt,attributes:this.attributes?JSON.stringify(this.attributes):this.attributes,comments:this.comments?.map(n=>CommentDescriptor.toJSON(n))}}static fromJSON(n){return new AddCommentThreadMessage(n.documentId,n.commentThreadId,n.comments?.map(s=>CommentDescriptor.fromJSON({...s,documentId:n.documentId,commentThreadId:n.commentThreadId})),n.context?JSON.parse(n.context):n.context,n.resolvedBy,n.createdAt?new Date(n.createdAt):void 0,n.resolvedAt?new Date(n.resolvedAt):void 0,n.deletedAt?new Date(n.deletedAt):void 0,n.attributes?JSON.parse(n.attributes):n.attributes)}}class ResolveCommentThreadMessage extends Message{commentThreadId;documentId;resolvedBy;resolvedAt;static TYPE="142";static READABLE_TYPE_NAME="resolveCommentThread";static DESCRIPTOR_NAME="CommentsV2ResolveCommentThreadMessage";static DESCRIPTOR={fields:{commentThreadId:{type:"string",id:1},documentId:{type:"string",id:2},resolvedBy:{type:"string",id:3},resolvedAt:{type:"string",id:4}}};constructor(n,s,a,o){super(),this.commentThreadId=n,this.documentId=s,this.resolvedBy=a,this.resolvedAt=o?new Date(o):void 0}toJSON(){return{documentId:this.documentId,commentThreadId:this.commentThreadId,resolvedBy:this.resolvedBy,resolvedAt:this.resolvedAt?.toISOString()}}static fromJSON(n){return new ResolveCommentThreadMessage(n.commentThreadId,n.documentId,n.resolvedBy,n.resolvedAt)}}class ReopenCommentThreadMessage extends Message{commentThreadId;documentId;static TYPE="141";static READABLE_TYPE_NAME="reopenCommentThread";static DESCRIPTOR_NAME="CommentsV2ReopenCommentThreadMessage";static DESCRIPTOR={fields:{commentThreadId:{type:"string",id:1},documentId:{type:"string",id:2}}};constructor(n,s){super(),this.commentThreadId=n,this.documentId=s}toJSON(){return{documentId:this.documentId,commentThreadId:this.commentThreadId}}static fromJSON(n){return new ReopenCommentThreadMessage(n.commentThreadId,n.documentId)}}class UpdateCommentThreadMessage extends Message{commentThreadId;documentId;context;attributes;unlinkedAt;static TYPE="143";static READABLE_TYPE_NAME="updateCommentThread";static DESCRIPTOR_NAME="CommentsV2UpdateCommentThreadMessage";static DESCRIPTOR={fields:{commentThreadId:{type:"string",id:1},documentId:{type:"string",id:2},context:{type:"string",id:3},attributes:{type:"string",id:4},unlinkedAt:{type:"string",id:5}}};constructor(n,s,a,o=null,t=null){super(),this.commentThreadId=n,this.documentId=s,this.context=a,this.attributes=o,this.unlinkedAt=t?new Date(t):""}toJSON(){return{documentId:this.documentId,commentThreadId:this.commentThreadId,context:this.context?JSON.stringify(this.context):this.context,attributes:this.attributes?JSON.stringify(this.attributes):null,unlinkedAt:this.unlinkedAt instanceof Date?this.unlinkedAt.toISOString():this.unlinkedAt}}static fromJSON(n){return new UpdateCommentThreadMessage(n.commentThreadId,n.documentId,n.context?JSON.parse(n.context):n.context,n.attributes?JSON.parse(n.attributes):null,n.unlinkedAt?new Date(n.unlinkedAt):null)}}class ResolveCommentThreadResponse extends Message{commentThreadId;documentId;resolvedBy;resolvedAt;static DESCRIPTOR_NAME="CommentsV2ResolveCommentThreadResponse";static DESCRIPTOR={fields:{commentThreadId:{type:"string",id:1},documentId:{type:"string",id:2},resolvedAt:{type:"string",id:3},resolvedBy:{type:"string",id:4}}};constructor(n,s,a,o){super(),this.commentThreadId=n,this.documentId=s,this.resolvedBy=a,this.resolvedAt=new Date(o)}toJSON(){return{commentThreadId:this.commentThreadId,documentId:this.documentId,resolvedBy:this.resolvedBy,resolvedAt:this.resolvedAt.toISOString()}}static fromJSON(n){return new ResolveCommentThreadResponse(n.commentThreadId,n.documentId,n.resolvedBy,n.resolvedAt)}}class CommentsService extends EmitterMixin(){_documentId;_isConnected=!1;_wsGateway;_channel;_connectedSessions;static _SERVICE=9;constructor(n){super(),this._documentId=n}get isConnected(){return this._isConnected}async connect(n){if(this._isConnected)return;if(n.state!==WEB_SOCKET_GATEWAY_STATES.CONNECTED)throw new CKEditorCloudServicesError("WebSocket Gateway is not connected.",n);const s=new ConnectMessage(this._documentId);this._wsGateway=n,this.stopListening(n,"change:state");const a=await n._sendRequest(9,ConnectMessage.TYPE,MessagesCompressor.encode(s)),{channel:o,threads:t}=MessagesCompressor.decode(a,ConnectResponse);return this.listenTo(n,"change:state",(e,r,d)=>this._onWsGatewayStateChange(d),{priority:WebSocketGateway$1._CHANGE_STATE_EVENT_PRIORITY}),this._connectToChannel(n,o),this._isConnected=!0,this.fire("connected"),t}disconnect(){this._isConnected&&(this._isConnected=!1,this._wsGateway&&(this.stopListening(this._wsGateway),this._wsGateway=void 0),this._channel&&(this.stopListening(this._channel),this._channel=void 0),this._connectedSessions&&(this._connectedSessions.disconnect(),this._connectedSessions=void 0),this.fire("disconnected"),this.stopListening())}async addComment(n,s,a,o){const t=new AddCommentMessage(this._documentId,n,a,s,void 0,void 0,o),e=await this._sendRequest(AddCommentMessage.TYPE,t);return MessagesCompressor.decode(e,AddCommentResponse)}async updateComment(n,s,a,o){const t=o!==void 0,e=new UpdateCommentMessage(this._documentId,n,s,a,o,t);await this._sendRequest(UpdateCommentMessage.TYPE,e)}async removeComment(n,s){const a=new RemoveCommentMessage(this._documentId,n,s);await this._sendRequest(RemoveCommentMessage.TYPE,a)}async removeCommentThread(n){const s=new RemoveCommentThreadMessage(this._documentId,n);await this._sendRequest(RemoveCommentThreadMessage.TYPE,s)}async addCommentThread(n){const s=new AddCommentThreadMessage(this._documentId,n.commentThreadId,n.comments?.map(o=>({...o,documentId:this._documentId,commentThreadId:n.commentThreadId})),n.context,n.resolvedBy,n.createdAt,n.resolvedAt,n.deletedAt,n.attributes),a=await this._sendRequest(AddCommentThreadMessage.TYPE,s);return MessagesCompressor.decode(a,AddCommentThreadResponse)}async resolveCommentThread(n){const s=new ResolveCommentThreadMessage(n,this._documentId),a=await this._sendRequest(ResolveCommentThreadMessage.TYPE,s);return MessagesCompressor.decode(a,ResolveCommentThreadResponse)}async reopenCommentThread(n){const s=new ReopenCommentThreadMessage(n,this._documentId);await this._sendRequest(ReopenCommentThreadMessage.TYPE,s)}async updateCommentThread(n){const s=new UpdateCommentThreadMessage(n.commentThreadId,this._documentId,n.context,n.attributes,n.unlinkedAt);await this._sendRequest(UpdateCommentThreadMessage.TYPE,s)}async getCommentThread(n,s=1){const a=new GetCommentThreadMessage(n,this._documentId);try{const t=await this._sendRequest(GetCommentThreadMessage.TYPE,a),e=MessagesCompressor.decode(t,GetCommentThreadResponse);return{commentThreadId:e.commentThreadId,comments:e.comments,attributes:e.attributes,context:e.context,resolvedAt:e.resolvedAt,resolvedBy:e.resolvedBy,deletedAt:e.deletedAt,unlinkedAt:e.unlinkedAt}}catch(t){if(t.name==="CKEditorCloudServicesServerError"&&t.code==="404"&&s<5)return await(o=100*s,new Promise(e=>{setTimeout(e,o)})),this.getCommentThread(n,s+1);throw t.name==="CKEditorCloudServicesServerError"?t:CKEditorCloudServicesServerError.fromPublicError(t)}var o}async getDocumentThreads(){const n=new GetDocumentThreadsMessage(this._documentId),s=await this._sendRequest(GetDocumentThreadsMessage.TYPE,n),{threads:a}=MessagesCompressor.decode(s,GetDocumentThreadsResponse);return{threads:a}}async getConnectedSessions(){if(!this._isConnected)throw new ServiceNotConnectedError("Comments",this);return this._connectedSessions||(this._connectedSessions=await Sessions$1.getConnectedSessions(this._wsGateway,this._documentId,9)),this._connectedSessions}_connectToChannel(n,s){this._channel=n._getChannel(CommentsService._SERVICE,s),this._channel&&(this.listenTo(this._channel,this._channel.getEventName(AddCommentMessage.TYPE),(a,o)=>{const t=MessagesCompressor.decode(o,AddCommentMessage);this.fire("commentAdded",t)}),this.listenTo(this._channel,this._channel.getEventName(RemoveCommentMessage.TYPE),(a,o)=>{const t=MessagesCompressor.decode(o,RemoveCommentMessage);this.fire("commentRemoved",t)}),this.listenTo(this._channel,this._channel.getEventName(UpdateCommentMessage.TYPE),(a,o)=>{const t=MessagesCompressor.decode(o,UpdateCommentMessage);this.fire("commentUpdated",t)}),this.listenTo(this._channel,this._channel.getEventName(RemoveCommentThreadMessage.TYPE),(a,o)=>{const t=MessagesCompressor.decode(o,RemoveCommentThreadMessage);this.fire("commentThreadRemoved",t)}),this.listenTo(this._channel,this._channel.getEventName(AddCommentThreadMessage.TYPE),(a,o)=>{const t=MessagesCompressor.decode(o,AddCommentThreadMessage);this.fire("commentThreadAdded",t)}),this.listenTo(this._channel,this._channel.getEventName(UpdateCommentThreadMessage.TYPE),(a,o)=>{const t=MessagesCompressor.decode(o,UpdateCommentThreadMessage);this.fire("commentThreadUpdated",t)}),this.listenTo(this._channel,this._channel.getEventName(ResolveCommentThreadMessage.TYPE),(a,o)=>{const t=MessagesCompressor.decode(o,ResolveCommentThreadMessage);this.fire("commentThreadResolved",t)}),this.listenTo(this._channel,this._channel.getEventName(ReopenCommentThreadMessage.TYPE),(a,o)=>{const t=MessagesCompressor.decode(o,ReopenCommentThreadMessage);this.fire("commentThreadReopened",t)}))}_onWsGatewayStateChange(n){n===WEB_SOCKET_GATEWAY_STATES.DISCONNECTED&&this.disconnect()}_sendRequest(n,s){if(!this._wsGateway||!this._isConnected)throw new ServiceNotConnectedError("Comments",this);return this._wsGateway._sendRequest(9,n,MessagesCompressor.encode(s))}}const _0x10f2ab=_0x4a52;(function(c,n){const s=_0x4a52,a=c();for(;;)try{if(-parseInt(s(365))/1+-parseInt(s(361))/2*(parseInt(s(334))/3)+parseInt(s(331))/4*(-parseInt(s(348))/5)+-parseInt(s(362))/6+-parseInt(s(326))/7+-parseInt(s(306))/8*(parseInt(s(302))/9)+parseInt(s(358))/10===n)break;a.push(a.shift())}catch{a.push(a.shift())}})(_0x131e,734526);function _0x4a52(c,n){const s=_0x131e();return _0x4a52=function(a,o){return a=a-296,s[a]},_0x4a52(c,n)}function _0x131e(){const c=["requires","code","config","state","has","_isBrowserOffline","websocketgateway-missing-websocket-url","3103779Hnvejq","init","real-time-collaboration","limitExceeded","_reconnect","8lvzTSL","context","CONNECTING","9RpvxFP","CloudServices","change:me","then","connection","delete","_reconnectionStack","cloudServices.requestTimeout","destroy","initialReconnectionInterval","cloudServices.connectionTimeout","from","add","cloudservices-reconnection-error","1935345pqfGMr","function","_shouldPluginsReconnect","WebSocketGateway","cloudservices-init","webSocketUrl","all","plugins","websocketgateway-missing-token","error","43821030FslbGg","connected","bind","29828jDQSbV","4616982Sbaeae","isInReconnectionStack","set","1086804rvVFTY","constructor","addToReconnectionStack","online","pluginName","DISCONNECTED","removeFromReconnectionStack","showWarning","_domEmitter","define","websocketgateway-plugin-already-registered","9DqREDx","The limit of maximum concurrent connections that the collaboration server can handle has been reached. Try opening the document again in a few minutes. Please contact your system administrator if the problem persists.","stopListening","CONNECTED","4231992wlcZvx","websocketgateway-invalid-plugin-interface","isPremiumPlugin","connect","listenTo","token","disconnect","reconnect","catch","Connected users limit exceeded","offline","get","isOfficialPlugin"];return _0x131e=function(){return c},_0x131e()}class WebSocketGateway extends ContextPlugin{static[_0x10f2ab(351)]=WebSocketGateway$1;static[_0x10f2ab(343)]=1e3;[_0x10f2ab(338)];[_0x10f2ab(340)];[_0x10f2ab(350)];[_0x10f2ab(299)];static get[_0x10f2ab(319)](){return[_0x10f2ab(335),Notification]}static get[_0x10f2ab(369)](){return _0x10f2ab(351)}static get[_0x10f2ab(318)](){return!0}static get[_0x10f2ab(308)](){return!0}constructor(n){const s=_0x10f2ab;super(n),this[s(364)](s(322),WEB_SOCKET_GATEWAY_STATES[s(305)]),this[s(364)](s(324),!1),this[s(340)]=new Set,this[s(350)]=!1,this[s(299)]=new(DomEmitterMixin())}[_0x10f2ab(327)](){const n=_0x10f2ab,s=this[n(332)],a=s[n(355)][n(317)](n(335)),o=s[n(355)][n(317)](Notification);if(!a[n(311)])throw new CKEditorError(n(356),this);if(!a[n(353)])throw new CKEditorError(n(325),this);return this[n(299)][n(310)](window,n(316),()=>this[n(324)]=!0),this[n(299)][n(310)](window,n(368),()=>this[n(324)]=!1),this[n(332)][n(321)][n(300)](n(344),10),this[n(332)][n(321)][n(300)](n(341),20),WebSocketGateway[n(351)][n(309)](a[n(311)],a[n(353)],{timeout:1e3*this[n(332)][n(321)][n(317)](n(344)),requestTimeout:1e3*this[n(332)][n(321)][n(317)](n(341))})[n(337)](t=>{const e=n;if(this[e(338)]=t,this[e(360)](e(322)).to(t,e(322),this,e(324),(r,d)=>(e(359)!==r&&(this[e(350)]=!0),d||r!==WEB_SOCKET_GATEWAY_STATES[e(305)]?WEB_SOCKET_GATEWAY_STATES[e(296)]:this[e(322)]==WEB_SOCKET_GATEWAY_STATES[e(296)]&&this[e(350)]?(this[e(350)]=!1,this[e(330)](),WEB_SOCKET_GATEWAY_STATES[e(333)]):WEB_SOCKET_GATEWAY_STATES[e(305)])),this[e(338)].on(e(357),(r,d)=>{const u=e;if(u(329)!==d[u(320)])throw console[u(357)](d),new CKEditorError(u(352),null,{originalError:d});o[u(298)](u(303),{title:u(315),namespace:u(328)})}),!t.me)return new Promise(r=>t.on(e(336),r))})[n(314)](t=>{const e=n;throw console[e(357)](t),new CKEditorError(e(352),null,{originalError:t})})}[_0x10f2ab(367)](n){const s=_0x10f2ab;if(s(349)!=typeof n[s(313)])throw new CKEditorError(s(307),this);if(this[s(363)](n))throw new CKEditorError(s(301),this,{name:n[s(366)][s(369)]});this[s(340)][s(346)](n)}[_0x10f2ab(297)](n){const s=_0x10f2ab;this[s(340)][s(339)](n)}[_0x10f2ab(363)](n){const s=_0x10f2ab;return this[s(340)][s(323)](n)}[_0x10f2ab(330)](){const n=_0x10f2ab;return this[n(338)][n(313)]()[n(337)](()=>Promise[n(354)](Array[n(345)](this[n(340)],s=>s[n(313)]())))[n(337)](()=>this[n(322)]=WEB_SOCKET_GATEWAY_STATES[n(305)])[n(314)](s=>{const a=n;throw console[a(357)](s),new CKEditorError(a(347),this[a(332)])})}[_0x10f2ab(312)](){const n=_0x10f2ab;this[n(338)]&&this[n(338)][n(312)](),this[n(322)]=WEB_SOCKET_GATEWAY_STATES[n(296)],this[n(299)][n(304)]()}[_0x10f2ab(342)](){const n=_0x10f2ab;this[n(312)](),super[n(342)]()}}const _0x3a9e37=_0x3c2a;(function(c,n){const s=_0x3c2a,a=c();for(;;)try{if(parseInt(s(462))/1+-parseInt(s(471))/2*(parseInt(s(454))/3)+-parseInt(s(449))/4*(parseInt(s(472))/5)+-parseInt(s(437))/6*(-parseInt(s(489))/7)+parseInt(s(498))/8*(-parseInt(s(484))/9)+parseInt(s(477))/10+-parseInt(s(439))/11*(-parseInt(s(473))/12)===n)break;a.push(a.shift())}catch{a.push(a.shift())}})(_0x24ab,425573);function _0x3c2a(c,n){const s=_0x24ab();return _0x3c2a=function(a,o){return a=a-437,s[a]},_0x3c2a(c,n)}function _0x24ab(){const c=["assign","_users","channelConnectedUsers","set","allConnectedUsers","getUserSessions","16048edhQVH","_registeredSessions","_uniqueUsersCount","init","listenTo","18IDyhcH","requires","fire","register","role","delete","addUser","forEach","272066gPQqLi","user","orderNumber","values","sessions-register-already-registered","sessions-unregister-not-exist","pluginName","stopListening","getUserRole","16818MnmAaE","450NkTFtO","36seRnvs","isMe","defineMe","_createUser","723800tbwYeo","isOfficialPlugin","getUser","size","mySessionId","context","sessionId","13491KWRkRd","connection","channelSessions","_handleSessionAdd","change:state","7UNBvvM","unregister","get","remove","add","hiddenInPresenceList","Sessions","plugins","state","4000wAxiYV","_handleSessionRemove","clear","has","57972HMjIYe","connected","4519163XUnrEA","isPremiumPlugin","sessionAdd:","getUserBySessionId"];return _0x24ab=function(){return c},_0x24ab()}class Sessions extends ContextPlugin{[_0x3a9e37(486)];[_0x3a9e37(445)];[_0x3a9e37(447)];[_0x3a9e37(450)];[_0x3a9e37(451)];[_0x3a9e37(444)];static get[_0x3a9e37(468)](){return _0x3a9e37(495)}static get[_0x3a9e37(478)](){return!0}static get[_0x3a9e37(440)](){return!0}static get[_0x3a9e37(455)](){return[WebSocketGateway,Users]}constructor(n){const s=_0x3a9e37;super(n),this[s(486)]=new Map,this[s(445)]=new Map,this[s(447)]=new Collection,this[s(450)]=new Map,this[s(451)]=0,this[s(444)]=this[s(482)][s(496)][s(491)](Users)}[_0x3a9e37(452)](){const n=_0x3a9e37,s=this[n(482)][n(496)][n(491)](WebSocketGateway);this[n(453)](s,n(488),(a,o,t)=>{const e=n;if(e(438)!==t)this[e(486)][e(461)](r=>r[e(500)]()),this[e(445)][e(461)](r=>r[e(500)]()),this[e(447)][e(500)]();else for(const[r,d]of this[e(450)])for(const u of d)this[e(487)](r,u)}),this[n(476)](s[n(485)].me,!0)}[_0x3a9e37(457)](n,s){const a=_0x3a9e37;if(this[a(450)][a(501)](n))throw new CKEditorError(a(466),null,{channelId:n});this[a(450)][a(446)](n,s),this[a(486)][a(446)](n,new Collection),this[a(445)][a(446)](n,new Collection),this[a(453)](s,a(493),(o,t)=>this[a(487)](n,t)),this[a(453)](s,a(492),(o,t)=>this[a(499)](n,t));for(const o of s)this[a(487)](n,o)}[_0x3a9e37(490)](n){const s=_0x3a9e37;if(!this[s(450)][s(501)](n))throw new CKEditorError(s(467),null,{channelId:n});const a=this[s(450)][s(491)](n);this[s(469)](a);for(const o of a)s(438)===this[s(482)][s(496)][s(491)](WebSocketGateway)[s(497)]&&this[s(499)](n,o);this[s(450)][s(459)](n),this[s(486)][s(459)](n),this[s(445)][s(459)](n)}get[_0x3a9e37(481)](){const n=_0x3a9e37;return this[n(482)][n(496)][n(491)](WebSocketGateway)[n(485)][n(483)]}[_0x3a9e37(442)](n){const s=_0x3a9e37;for(const a of this[s(486)][s(465)]())for(const o of a)if(o.id===n)return o[s(463)]}[_0x3a9e37(448)](n,s){const a=_0x3a9e37,o=s?[this[a(486)][a(491)](s)]:this[a(486)][a(465)](),t=new Set;for(const e of o)for(const r of e)r[a(463)].id===n.id&&t[a(493)](r.id);return t}[_0x3a9e37(470)](n){const s=_0x3a9e37;for(const a of this[s(486)][s(465)]())for(const o of a)if(o[s(463)]===n)return o[s(458)]}[_0x3a9e37(487)](n,s){const a=_0x3a9e37;if(a(438)!==this[a(482)][a(496)][a(491)](WebSocketGateway)[a(497)])return;const o=s[a(463)],t=this[a(444)][a(479)](o.id)||this[a(476)](o),e=Object[a(443)]({},s,{user:t});if(this[a(486)][a(491)](n)[a(493)](e),!o[a(494)]){const r=this[a(445)][a(491)](n);r[a(501)](t.id)||r[a(493)](t),this[a(447)][a(501)](t.id)||o[a(494)]||this[a(447)][a(493)](t,t[a(474)]?0:void 0)}this[a(456)](a(441)+n,{channelId:n,session:e})}[_0x3a9e37(499)](n,s){const a=_0x3a9e37;if(a(438)!==this[a(482)][a(496)][a(491)](WebSocketGateway)[a(497)])return;const o=this[a(445)][a(491)](n),t=s[a(463)];t.id&&(this[a(486)][a(491)](n)[a(492)](s.id),o[a(501)](t.id)&&!this[a(448)](t,n)[a(480)]&&o[a(492)](t.id),this[a(447)][a(491)](t.id)&&!this[a(448)](t)[a(480)]&&this[a(447)][a(492)](t.id))}[_0x3a9e37(476)](n,s){const a=_0x3a9e37,o=this[a(444)][a(460)](n);return s&&this[a(444)][a(475)](n.id),o[a(464)]=this[a(451)]++,o}}function styleInject(c,{insertAt:n}={}){if(!c||typeof document>"u")return;const s=document.head||document.getElementsByTagName("head")[0],a=document.createElement("style");a.type="text/css",window.litNonce&&a.setAttribute("nonce",window.litNonce),n==="top"&&s.firstChild?s.insertBefore(a,s.firstChild):s.appendChild(a),a.styleSheet?a.styleSheet.cssText=c:a.appendChild(document.createTextNode(c))}styleInject(".ck .ck-user__marker-dot{border-radius:50%;cursor:default;display:block;height:var(--ck-user-dot-size);left:50%;position:absolute;top:calc((var(--ck-user-dot-size)/2)*-1);transform:translate(-50%,-50%);width:var(--ck-user-dot-size)}.ck .ck-user__marker-tooltip{color:#fff;display:none;font-family:Georgia,sans-serif;font-size:var(--ck-font-size-base);font-style:normal;font-weight:400;left:0;line-height:1;opacity:0;padding:var(--ck-spacing-small);position:absolute;top:-20px;transition:opacity .2s linear,transform .3s ease-in-out;white-space:nowrap;z-index:99999}@media (prefers-reduced-motion:reduce){.ck .ck-user__marker-tooltip{transition:none}}.ck .ck-user__marker-line{bottom:0;height:100%;position:absolute;width:0}.ck .ck-user__marker{cursor:default;display:inline;position:relative}.ck .ck-user__marker.ck-user__marker_hovered .ck-user__marker-dot{width:0}.ck .ck-user__marker.ck-user__marker_hovered .ck-user__marker-tooltip{animation:fadeInLeft .3s ease-in-out;display:block;opacity:1}.ck .ck-placeholder .ck-user__marker{display:none}@media (prefers-reduced-motion:reduce){.ck .ck-user__marker,.ck .ck-user__marker *,.ck .ck-user__marker:after{animation:none!important}}@keyframes fadeInLeft{0%{opacity:0;transform:translateX(-10px)}to{opacity:1;transform:translateX(0)}}");const _0x32326d=_0x4a17;(function(c,n){const s=_0x4a17,a=c();for(;;)try{if(-parseInt(s(111))/1*(-parseInt(s(117))/2)+parseInt(s(142))/3*(parseInt(s(217))/4)+parseInt(s(109))/5+parseInt(s(140))/6+parseInt(s(122))/7+parseInt(s(192))/8*(parseInt(s(242))/9)+parseInt(s(126))/10*(-parseInt(s(114))/11)===n)break;a.push(a.shift())}catch{a.push(a.shift())}})(_0xff96,338819);function _0x4a17(c,n){const s=_0xff96();return _0x4a17=function(a,o){return a=a-104,s[a]},_0x4a17(c,n)}function _0xff96(){const c=["791924GSYtYu","getMarkerClass","getAttribute","marker","getSelectionClass","user:","undo","addMarker","remove","Escape","setCustomProperty","user:position","requires","getPositions","change","name","mouseleave","toRange","stopListening","$text","editing","start","markerRange","commands","removeClass","9TjwVsk","markerName","checkChild","userPositionMarker","mySessionId","applyOperation","classList","1980530ZxeDfS","getUserBySessionId","2111FkuRBu","markerToHighlight","nodeAfter","55kNAiXi","mapper","getStart","218puJgnY","isDocumentOperation","init","end","selection","4018532thketa","oldRange","isObject","addEventListener","4047150mytfQR","root","startsWith","getCustomProperty","change:range","highest","fromRange","isPremiumPlugin","span","get","hasDomSelection","getNearestSelectionRange","isInline","user:range","3467208PITHLy","getFirstRange","6EMNcQY","plugins","textContent","markerNameToElements","listenTo","_domEmitter","removeMarker","keydown","_createdBatches","document","$graveyard","delete","false","tableCell","model","clear","isSimilar","isCollapsed","mouseenter","size","isOfficialPlugin","reconvertMarker","setAttribute","pluginName","schema","createElement","createRange","createUIElement","toDomElement","ck-user__marker-tooltip","getContainedElement","markers","element","deletionPosition","ck-user__marker_hovered","markerToElement","spellcheck","data-session-id","render","for","add","user:position:","update:user:range","type","contenteditable","color","ck-user__marker ","innerHTML","ck-user__selection","editingDowncast","1506264GxtpNs","batch","editor","detach","afterInit","user:range:","conversion","split","UserMarkers","outerHTML","enqueueChange","isLimit","newRange","rootName","set","has",'\u2060<span class="ck-user__marker-line" contenteditable="false"><span class="ck-user__marker-dot"></span></span>',"view","parent","hasContent","createUserMarkerOperations","getRange","orderNumber","destroy","updateMarker"];return _0xff96=function(){return c},_0xff96()}class UserMarkers extends Plugin{[_0x32326d(147)]=new(DomEmitterMixin());static get[_0x32326d(229)](){return[Sessions]}static get[_0x32326d(165)](){return _0x32326d(200)}static get[_0x32326d(162)](){return!0}static get[_0x32326d(133)](){return!0}[_0x32326d(119)](){const n=_0x32326d,s=this[n(194)],a=s[n(143)][n(135)](Sessions);s[n(198)][n(181)](n(191))[n(177)]({model:n(228),view:(o,{writer:t})=>(function(e,r,d,u){const l=n,m=e[l(243)][l(199)](":")[2],h=d[l(110)](m);if(!h||m===d[l(106)]||!u[l(156)][l(166)][l(104)](e[l(239)][l(238)],l(236)))return;const g={class:l(188)+h[l(187)][l(218)](),"data-name":h[l(232)],"data-session-id":m},y=u[l(156)][l(173)][l(135)](e[l(243)]),S=y[l(116)](),k=S[l(113)],w=u[l(156)][l(166)];if(k&&w[l(124)](k)&&w[l(138)](k)&&!u[l(156)][l(173)][l(135)](l(197)+m)[l(213)]()[l(159)])return;const O=S[l(210)];return u[l(156)][l(166)][l(203)](O)&&!u[l(156)][l(211)](O)&&(g[l(186)]=!1),(function(I,C,v){const R=l,E=I[R(169)](R(134),C);return I[R(227)](R(105),!0,E),E[R(180)]=function(D){const b=R,M=this[b(170)](D),x=document[b(167)](b(134));return x[b(108)][b(182)](b(171)),x[b(164)](b(186),b(154)),x[b(164)](b(178),b(154)),x[b(144)]=v[b(232)],M[b(189)]=b(208)+x[b(201)]+"\u2060",M[b(125)](b(160),()=>{const N=b;M[N(108)][N(182)](N(176))}),M[b(125)](b(233),()=>{const N=b;M[N(108)][N(225)](N(176))}),M},E[R(158)]=function(D){const b=R;return!(!this[b(129)](b(105))||!D[b(129)](b(105))||this[b(219)](b(179))!=D[b(219)](b(179)))},E})(r,g,h)})(o,t,a,s)}),s[n(198)][n(181)](n(191))[n(112)]({model:n(139),view:o=>(function(t,e){const r=n,d=t[r(243)][r(199)](":")[2];if(d===e[r(106)])return null;const u=e[r(110)](d);return u?{id:d,classes:[r(190),u[r(187)][r(221)]()],attributes:{"data-session-id":d},priority:2e3+u[r(214)]}:{id:d,classes:[]}})(o,a)}),(function(o){const t=n,e=o[t(156)],r=new Map,d=o[t(143)][t(135)](Sessions);e[t(173)].on(t(184),(u,l,m,h)=>{const g=t;if(!h&&r[g(135)](l[g(232)]))return r[g(135)](l[g(232)])[g(195)](),void r[g(153)](l[g(232)]);const y=l[g(232)][g(199)](":")[2];if(y===d[g(106)])return;const S=g(183)+y;e[g(173)][g(207)](S)&&o[g(237)][g(163)](S),l.on(g(130),(k,w,O)=>{const I=g;if(I(152)!=w[I(127)][I(205)]&&I(152)==l[I(213)]()[I(127)][I(205)]&&!r[I(207)](l[I(232)])){const C=e[I(166)][I(137)](O[I(175)]);if(C){const v=ModelLiveRange[I(132)](C);r[I(206)](l[I(232)],v),v.on(I(130),(R,E,D)=>{const b=I;if(b(152)==v[b(127)][b(205)]){const M=e[b(166)][b(137)](D[b(175)]);M?(v[b(238)]=M[b(238)],v[b(120)]=M[b(120)]):(r[b(153)](l[b(232)]),v[b(195)]())}})}}})}),e[t(151)].on(t(231),()=>{const u=t;r[u(161)]>0&&e[u(202)]({isUndoable:!1},l=>{const m=u;for(const[h,g]of r)m(152)==e[m(173)][m(135)](h)[m(213)]()[m(127)][m(205)]&&(te(h[m(199)](":")[2],g[m(234)](),e,l),g[m(195)]());r[m(157)]()})})})(s),this[n(147)][n(146)](global$1[n(151)],n(149),(o,{key:t})=>{const e=n;e(226)===t&&(function(r){const d=e;r[d(237)][d(209)][d(231)](u=>{const l=d;for(const m of r[l(156)][l(173)]){if(!m[l(232)][l(128)](l(228)))continue;const h=r[l(237)][l(115)][l(145)](m[l(232)]);if(h)for(const g of h)u[l(241)](l(176),g)}})})(s)},{useCapture:!0})}[_0x32326d(196)](){const n=_0x32326d,s=this[n(194)],a=s[n(240)][n(135)](n(223));a&&s[n(156)].on(n(107),(o,t)=>{const e=n,r=t[0];if(!r[e(118)]||e(220)!=r[e(185)]||!r[e(232)][e(128)](e(222)))return;const d=r[e(193)];a[e(150)][e(207)](d)&&(r[e(204)]=r[e(123)]?s[e(156)][e(168)](r[e(123)][e(238)],r[e(123)][e(120)]):null)},{priority:n(131)})}[_0x32326d(215)](){const n=_0x32326d;return this[n(147)][n(235)](),super[n(215)]()}[_0x32326d(212)](){const n=_0x32326d,s=this[n(194)],a=s[n(156)][n(151)],o=s[n(143)][n(135)](Sessions);s[n(156)][n(202)]({isUndoable:!1},t=>{const e=n,r=e(197)+o[e(106)],d=e(183)+o[e(106)],u=s[e(156)][e(173)][e(207)](r);s[e(237)][e(209)][e(136)]?te(o[e(106)],a[e(121)][e(141)](),s[e(156)],t):u&&(t[e(148)](r),t[e(148)](d))})}}function te(c,n,s,a){const o=_0x32326d,t=o(197)+c,e=o(183)+c,r=n[o(172)]();let d=n[o(238)];if(r&&r.is(o(174),o(155))){const l=(function(m,h){const g=o;for(const y of m[g(230)]())if(h[g(166)][g(104)](y,g(236)))return y})(n,s);l&&(d=l,n=a[o(168)](d))}const u=a[o(168)](d);s[o(173)][o(207)](t)?(a[o(216)](t,{range:n}),a[o(216)](e,{range:u})):(a[o(224)](t,{range:n,usingOperation:!0}),a[o(224)](e,{range:u,usingOperation:!0}))}function getTranslation(c,n,s){const a=c.t,o=c.t;switch(n){case"PENDING_ACTION_SENDING_DATA":return o({string:"Sending data to the server.",id:"PENDING_ACTION_SENDING_DATA"});case"The local document and server document differ and merging them can cause unexpected behavior. To not lose your content save it locally and refresh the editor.":return o("The local document and server document differ and merging them can cause unexpected behavior. To not lose your content save it locally and refresh the editor.");case"The document cannot be connected back to the server. To not lose your content save it locally and refresh the editor.":return o("The document cannot be connected back to the server. To not lose your content save it locally and refresh the editor.");case"The document details could not be taken during the reconnection. To not lose your content save it locally and refresh the editor.":return o("The document details could not be taken during the reconnection. To not lose your content save it locally and refresh the editor.");case"The last saved version of the document does not match the local version. To not lose your content save it locally and refresh the editor.":return o("The last saved version of the document does not match the local version. To not lose your content save it locally and refresh the editor.");case"Synchronization issue":return o("Synchronization issue");case"Connected users list dropdown menu":return o("Connected users list dropdown menu");case"Collapsed connected users list (press ENTER to open it)":return o("Collapsed connected users list (press ENTER to open it)");case"Connected users list":return o("Connected users list");case"PENDING_ACTION_REVISION_HISTORY":return a({string:"Unsaved change in revision history.",id:"PENDING_ACTION_REVISION_HISTORY"});case"CONNECTED_USERS":return o({string:"1 connected user (me)",plural:"%0 connected users",id:"CONNECTED_USERS"},s);default:return""}}const _0x108ca0=_0x207e;(function(c,n){const s=_0x207e,a=c();for(;;)try{if(-parseInt(s(572))/1+-parseInt(s(532))/2*(parseInt(s(401))/3)+-parseInt(s(468))/4*(-parseInt(s(552))/5)+parseInt(s(427))/6*(parseInt(s(458))/7)+-parseInt(s(402))/8+parseInt(s(452))/9+-parseInt(s(513))/10*(-parseInt(s(503))/11)===n)break;a.push(a.shift())}catch{a.push(a.shift())}})(_0x5093,310840);function _0x207e(c,n){const s=_0x5093();return _0x207e=function(a,o){return a=a-401,s[a]},_0x207e(c,n)}let X=1;class RealTimeCollaborationClient extends Plugin{static[_0x108ca0(497)]=_0x339b93;[_0x108ca0(559)];[_0x108ca0(410)];[_0x108ca0(538)];[_0x108ca0(556)];[_0x108ca0(576)];[_0x108ca0(441)];[_0x108ca0(568)];[_0x108ca0(527)];[_0x108ca0(537)];[_0x108ca0(543)];[_0x108ca0(486)];[_0x108ca0(421)];[_0x108ca0(431)];[_0x108ca0(453)];[_0x108ca0(439)];[_0x108ca0(631)];[_0x108ca0(598)];[_0x108ca0(438)];static get[_0x108ca0(482)](){return[WebSocketGateway,Sessions,UserMarkers,PendingActions,Users,Notification]}static get[_0x108ca0(415)](){return _0x108ca0(540)}static get[_0x108ca0(643)](){return!0}static get[_0x108ca0(471)](){return!0}get[_0x108ca0(590)](){const n=_0x108ca0;return this[n(436)]+this[n(559)]}get[_0x108ca0(436)](){const n=_0x108ca0;return this[n(538)][n(489)]-this[n(559)]}get[_0x108ca0(432)](){const n=_0x108ca0,s=this[n(538)][n(465)]();for(let a=s[n(642)]-1;a>=0;a--){const o=s[a];if(!this[n(598)][n(445)](o))return o[n(454)]+1-this[n(559)]}return 0}constructor(n){const s=_0x108ca0;if(super(n),this[s(559)]=0,this[s(410)]=null,this[s(538)]=new History,this[s(530)][s(603)][s(443)](s(586),{}),this[s(556)]=this[s(530)][s(603)][s(446)](s(405)),!this[s(556)])throw new CKEditorError(s(633),this);const a=n[s(603)][s(446)](s(601))||version;this[s(576)]=new RealTimeCollaborationClient[s(497)](a,this[s(556)]),this[s(441)]=this[s(530)][s(632)][s(650)],this[s(568)]=new Compressor,this[s(527)]=[],this[s(537)]=new WeakSet,this[s(543)]=new Set,this[s(646)](s(564),!1),this[s(646)](s(493),!1),this[s(486)]=null,this[s(421)]=!1,this[s(431)]=null,this[s(453)]=300,this[s(439)]=this[s(453)],this[s(631)]=null,this[s(598)]=new WeakSet,this[s(438)]=new tt(this[s(598)])}[_0x108ca0(533)](){const n=_0x108ca0,s=this[n(530)],a=s[n(548)][n(446)](Users),o=s[n(548)][n(446)](WebSocketGateway);this[n(630)](a,n(479),(t,e)=>{const r=n,d=e[0];d[r(542)]&&(t[r(534)]=a[r(587)](d[r(542)]),t[r(425)]()),d[r(542)]===null&&(t[r(534)]=null,t[r(425)]())},{priority:n(466)}),this[n(630)](s[n(632)][n(650)][n(519)],n(613),(t,e)=>{const r=n;e[r(461)]&&this[r(558)]()}),this[n(630)](s[n(523)][n(663)],n(490),()=>{this[n(558)]()}),this[n(569)](),s[n(632)].on(n(484),(t,e)=>{const r=n,d=e[0];d[r(459)]&&(this[r(499)](d),this[r(451)]()&&this[r(496)]())}),this[n(582)](),this[n(614)](n(488)).to(o,n(457),this,n(493),(t,e)=>n(658)===t&&!e),this.on(n(637),()=>{const t=n;this[t(488)]?s[t(554)](t(526)):s[t(620)](t(526))}),this[n(488)]?s[n(554)](n(526)):s[n(620)](n(526)),this[n(646)](n(428),!1)}async[_0x108ca0(504)](){const n=_0x108ca0,s=this[n(530)][n(548)][n(446)](Sessions),a=this[n(530)][n(548)][n(446)](WebSocketGateway);try{this[n(564)]=!0,s[n(604)](this[n(556)]);const o=await this[n(576)][n(504)](a[n(641)],this[n(432)]);await this[n(539)](o)&&(this[n(564)]=!1,this[n(516)]());const t=await this[n(576)][n(487)]();s[n(462)](this[n(556)],t),this[n(606)](),this[n(428)]=!0}catch(o){if((function(t){const e=n;return e(514)===t[e(662)]})(o)&&this[n(410)])await this[n(433)]();else if((function(t){const e=n;return e(581)===t[e(662)]})(o)){const t=getTranslation(this[n(530)][n(648)],n(551));this[n(655)](t)}else{if(!(o instanceof Y))throw o;this[n(655)]()}}}[_0x108ca0(419)](){const n=_0x108ca0,s=this[n(530)][n(548)][n(446)](WebSocketGateway),a=this[n(530)][n(548)][n(446)](Sessions);this[n(530)][n(620)](n(623)),a[n(475)][n(445)](this[n(556)])&&a[n(604)](this[n(556)]),s[n(629)](this),this[n(591)](),super[n(419)]()}async[_0x108ca0(539)](n){const s=_0x108ca0;if(this[s(410)]!==n[s(410)]&&this[s(631)]!==n[s(560)])throw new Y;return this[s(410)]=n[s(410)],this[s(418)]([],{...n,wereChangesApplied:!1,data:n[s(450)]},s(504))}async[_0x108ca0(498)](n,s=!1){const a=_0x108ca0,{connection:o}=this[a(530)][a(548)][a(446)](WebSocketGateway);RealTimeCollaborationClient[a(497)][a(487)](o,this[a(556)])[a(599)](r=>this[a(589)](r))[a(571)](r=>{const d=a;this[d(480)](d(574),r)}),this[a(630)](this[a(576)],a(414),this[a(626)][a(614)](this)),this[a(630)](this[a(576)],a(661),(r,d)=>{const u=a;this[u(480)](u(635),d)}),this[a(630)](this[a(576)],a(535),()=>{const r=a;this[r(428)]=!1});const t=this[a(438)][a(416)](n);this[a(564)]=!0;const e=await this[a(576)][a(602)](o,this[a(510)](n),t);if(this[a(410)]=e[a(410)],s){if(!e[a(404)])return void this[a(655)]();this[a(564)]=!1,this[a(516)](),this[a(538)][a(584)](),this[a(559)]=e[a(545)],this[a(538)][a(489)]=this[a(559)],await this[a(418)](n,e,a(483))}else await this[a(617)](e,n);this[a(606)](),this[a(428)]=!0}[_0x108ca0(606)](){const n=_0x108ca0,s=this[n(530)][n(548)][n(446)](Sessions),a=this[n(530)][n(548)][n(446)](UserMarkers),o=s[n(475)][n(446)](this[n(556)]);o&&o[n(642)]>1?a[n(417)]():this[n(630)](s,n(566)+this[n(556)],()=>{const t=n;s[t(475)][t(446)](this[t(556)])[t(642)]===2&&a[t(417)]()})}async[_0x108ca0(626)](n,s,a,o){const t=_0x108ca0;if(!this[t(564)]&&this[t(441)][t(489)]==s){const e=this[t(472)](a,o);await this[t(546)](e),this[t(507)](e,s,a[t(560)])||this[t(480)](t(423))}}async[_0x108ca0(433)](){const n=_0x108ca0;this[n(591)]();const{locale:s}=this[n(530)];let a;try{a=await this[n(576)][n(639)]()}catch{const t=getTranslation(s,n(595));return void this[n(655)](t)}const o=a[n(562)]||a[n(541)];if(this[n(631)]!==o[n(560)]){const t=getTranslation(s,n(600));return void this[n(655)](t)}await this[n(498)](this[n(530)][n(632)][n(650)][n(619)][n(465)](),!0)}[_0x108ca0(591)](){const n=_0x108ca0;this[n(576)][n(470)](),this[n(527)]=[],clearTimeout(this[n(431)]),this[n(511)](this[n(576)])}[_0x108ca0(589)](n){const s=_0x108ca0,a=this[s(530)][s(548)][s(446)](Sessions);this[s(630)](a,s(566)+this[s(556)],(o,{session:t})=>{const e=s;if(t.id===a[e(592)]){o[e(547)]();const r=this[e(530)][e(548)][e(445)](e(525))&&this[e(530)][e(548)][e(446)](e(525));let d=t[e(521)];r&&r[e(449)]&&(d=d[e(476)](u=>e(570)!==u)),this[e(530)][e(548)][e(446)](e(575))[e(469)](d,this[e(556)])}}),a[s(462)](this[s(556)],n)}[_0x108ca0(569)](){const n=_0x108ca0,s=this[n(530)][n(450)][n(646)];this[n(530)][n(450)][n(646)]=(...a)=>{const o=n;if(!a[a[o(642)]-1][o(447)])throw new CKEditorError(o(644),this);s[o(596)](this[o(530)][o(450)],a)}}[_0x108ca0(582)](){const n=_0x108ca0;this[n(530)][n(450)].on(n(533),(s,[a])=>{const o=n;if(this[o(441)][o(489)])throw new CKEditorError(o(625),this);s[o(425)](),this[o(481)]();const t=this[o(530)][o(603)][o(446)](o(440)),e=this[o(645)](a,t);e[o(642)]==0&&e[o(611)](new NoOperation(0)),s[o(534)]=this[o(498)](e)[o(599)](()=>{const r=o;this[r(530)][r(548)][r(446)](WebSocketGateway)[r(512)](this),this[r(530)][r(450)][r(652)](r(528))})[o(571)](r=>this[o(480)](o(561),r))[o(474)](()=>this[o(516)]())},{priority:n(466)}),this[n(530)].on(n(429),async(s,[a,o])=>{const t=n;s[t(425)]();const e=this[t(530)][t(632)][t(650)][t(628)](a);if(!this[t(543)][t(445)](a)){const r=o&&o[t(450)]?o[t(450)]:"",d=o&&o[t(420)]?o[t(420)]:{};await this[t(577)](a,r,d)}this[t(530)][t(632)][t(573)]({isUndoable:!1},()=>{const r=t;e[r(501)]=!0,this[r(530)][r(632)][r(650)][r(435)][r(442)](e)})},{priority:n(466)})}async[_0x108ca0(546)](n){const s=_0x108ca0,a=this[s(530)][s(548)][s(446)](Users),{connection:o}=this[s(530)][s(548)][s(446)](WebSocketGateway),t=new Set;for(const r of n){const d=r[s(542)];d&&!a[s(587)](d)&&t[s(426)](d)}if(t[s(583)]===0)return;const e=await User[s(638)](o,Array[s(529)](t));for(const r of e)a[s(587)](r.id)||a[s(406)](r)}[_0x108ca0(645)](n,s={}){const a=_0x108ca0,o=this[a(530)][a(632)],t=[];let e=0;const r=a(408)==typeof n?{main:n}:n;for(const d of Object[a(605)](r)){if(!this[a(441)][a(550)][a(445)](d))throw new CKEditorError(a(615),this);const u=this[a(530)][a(450)][a(485)](r[d]),l=this[a(441)][a(628)](d),m=new InsertOperation(o[a(647)](l,0),u,e++);t[a(611)](m);for(const[h,g]of u[a(411)]){const y=o[a(403)](o[a(522)](l,g[a(495)][a(563)][a(544)]()),o[a(522)](l,g[a(616)][a(563)][a(544)]())),S=new MarkerOperation(h,null,y,o[a(411)],!0,e++);t[a(611)](S)}}if(s)for(const[d,u]of Object[a(588)](s)){const l=o[a(650)][a(628)](d);if(!l)throw new CKEditorError(a(502),null);for(const[m,h]of Object[a(588)](u))if(h!==null){const g=new RootAttributeOperation(l,m,null,h,e++);t[a(611)](g)}}return t}async[_0x108ca0(577)](n,s,a){const o=_0x108ca0;this[o(645)]({[n]:s},{[n]:a})[o(622)]((t,e)=>{const r=o;t[r(454)]=this[r(441)][r(489)]+e,t[r(413)]=!0,this[r(499)](t)}),this[o(496)](),await this[o(518)]()}async[_0x108ca0(617)](n,s){const a=_0x108ca0;let o;this[a(559)]=n[a(545)];const t=n[a(404)]&&!n[a(464)],e=t?0:n[a(450)][a(454)];if(s[a(622)](r=>{const d=a;r[d(413)]=!0,r[d(621)]=n[d(608)],r[d(542)]=null}),t)o=s,this[a(473)](o,t);else{if(n[a(464)]){const r=this[a(645)](n[a(464)]);this[a(441)][a(619)][a(489)]=-r[a(642)],r[a(622)](d=>{const u=a;d[u(454)]-=r[u(642)],d[u(621)]=n[u(608)],d[u(413)]=!0,d[u(542)]=null}),this[a(473)](r,!0),this[a(538)][a(489)]=-r[a(642)]+this[a(559)],this[a(456)](r)}this[a(441)][a(619)][a(489)]=e,o=this[a(472)](n[a(450)],n[a(444)]),await this[a(546)](o),this[a(473)](o,t)}n[a(560)]&&(this[a(438)][a(549)](o,n[a(560)]),this[a(631)]=n[a(560)]),this[a(538)][a(489)]=e+this[a(559)],this[a(456)](o),s[a(476)](r=>{const d=a,u=this[d(460)](r);return u&&!this[d(543)][d(445)](u)})[a(622)]((r,d)=>{const u=a;r[u(454)]=this[u(441)][u(489)]+d,this[u(499)](r)}),this[a(451)]()?(this[a(439)]=0,this[a(496)](!0),await this[a(518)]()):(this[a(564)]=!1,this[a(516)]())}[_0x108ca0(480)](n,s){const a=_0x108ca0,o=s&&s[a(478)];if(o&&o[a(654)](a(578)))throw s;const t=this[a(530)][a(548)][a(446)](WebSocketGateway);throw this[a(564)]=!0,t[a(470)](),this[a(530)][a(620)](a(651)),new CKEditorError(n,this[a(530)],o?{originalError:o}:void 0)}[_0x108ca0(499)](n){const s=_0x108ca0;this[s(537)][s(445)](n)||(this[s(537)][s(426)](n),this[s(527)][s(611)](n),this[s(486)]||s(492)==n[s(618)]&&!n[s(660)]||this[s(481)]())}[_0x108ca0(496)](n=!1){const s=_0x108ca0;!n&&this[s(564)]||(this[s(564)]=!0,clearTimeout(this[s(431)]),this[s(431)]=setTimeout(()=>{const a=s;this[a(557)]()[a(599)](o=>{const t=a;o&&(this[t(516)](),this[t(564)]=!1)})[a(571)](o=>{const t=a;this[t(516)](),this[t(564)]=!1,(function(e){const r=t;return e[r(478)][r(654)](r(412))||e[r(478)][r(654)](r(594))||e[r(478)][r(654)](r(555))})(o)||this[t(480)](o[t(478)],o)})},this[s(439)]))}[_0x108ca0(518)](){return new Promise(n=>{const s=_0x207e;this.on(s(409),()=>{n()})})}async[_0x108ca0(557)](){const n=_0x108ca0,s=this[n(530)][n(548)][n(446)](UserMarkers);if(this[n(585)]()&&(s[n(417)](),this[n(421)]=!1),!this[n(451)]())return!0;const a=[...this[n(527)]];for(const d of a)d[n(531)]=this[n(441)][n(619)][n(407)](d);const o=this[n(438)][n(416)](a),t=X++,e=this[n(510)](a),r=await this[n(576)][n(506)](e,e[n(454)],o);try{return await this[n(418)](a,r,t)}catch(d){return this[n(480)](n(505),d)}}async[_0x108ca0(418)](n,s,a){const o=_0x108ca0;if(o(661)in s)throw s[o(661)];let t=!1;if(s[o(404)]){s[o(560)]&&(this[o(631)]=s[o(560)]),this[o(527)]=this[o(527)][o(476)](r=>!n[o(579)](r));for(const r of n)r[o(621)]=o(434)in s&&s[o(434)]||void 0;Z(n,s[o(489)]-n[o(642)]),this[o(456)](n);const e=n[o(476)](r=>{const d=o;if(!r[d(413)])return!1;const u=this[d(460)](r);return u&&!this[d(543)][d(445)](u)});Z(e,this[o(441)][o(489)]),this[o(473)](e),t=!0,this[o(439)]=this[o(453)]}else{const e=this[o(472)](s[o(450)],s[o(444)])[o(476)](r=>r[o(454)]>=this[o(436)]);e[o(622)](r=>this[o(448)](r)),this[o(527)]=this[o(527)][o(476)](r=>!r[o(413)]||!this[o(543)][o(445)](this[o(460)](r))),this[o(527)][o(642)]&&Z(this[o(527)],this[o(527)][0][o(454)]),await this[o(546)](e),t=this[o(507)](e,s[o(489)],s[o(560)]),this[o(439)]=Math[o(612)](this[o(439)]/2)}return t?!this[o(451)]()||(this[o(496)](!0),!1):this[o(480)](o(653))}[_0x108ca0(507)](n,s,a){const o=_0x108ca0;try{const t={document:this[o(441)],useRelations:!1,padWithNoOps:!0},{operationsA:e,operationsB:r,originalOperations:d}=transformOperationSets(n,this[o(527)],t);Z(e,this[o(441)][o(489)]),Z(r,s);for(const u of e){const l=d[o(446)](u);u[o(542)]=l?l[o(542)]:null}a&&(this[o(438)][o(549)](n,a),this[o(631)]=a),this[o(527)]=[...r],this[o(473)](e),this[o(456)](n)}catch(t){return console[o(661)](t),!1}return!0}[_0x108ca0(473)](n,s=!1){const a=_0x108ca0;this[a(530)][a(632)][a(573)]({isUndoable:!1,isLocal:!1},o=>{const t=a;for(const e of n)this[t(537)][t(426)](e),this[t(448)](e),o[t(463)][t(477)](e),this[t(530)][t(632)][t(484)](e)})}[_0x108ca0(448)](n){const s=_0x108ca0,a=this[s(460)](n);a&&this[s(543)][s(426)](a)}[_0x108ca0(460)](n){const s=_0x108ca0;let a,o;switch(n[s(618)]){case s(640):a=n[s(593)][s(508)];break;case s(492):if(o=n[s(597)],!o)return null;a=o[s(508)];break;case s(656):a=n[s(508)];break;case s(424):a=n[s(649)];break;case s(524):a=n[s(634)][s(508)];break;default:return null}return a[s(536)]}[_0x108ca0(456)](n){const s=_0x108ca0;n[s(622)](a=>{const o=s,t=a[o(624)]();t[o(542)]=a[o(542)],t[o(413)]=!!a[o(413)],t[o(621)]=a[o(621)],t[o(454)]+=this[o(559)],a[o(520)]&&this[o(598)][o(426)](t),this[o(538)][o(477)](t)})}[_0x108ca0(655)](n){const s=_0x108ca0,a=this[s(530)][s(548)][s(446)](s(636)),o=this[s(530)][s(648)];n||(n=getTranslation(o,s(467))),a[s(580)](n,{title:getTranslation(o,s(455)),namespace:s(607)}),this[s(493)]=!0,clearTimeout(this[s(431)]),this[s(527)]=[],this[s(530)][s(548)][s(446)](WebSocketGateway)[s(470)]()}[_0x108ca0(481)](){const n=_0x108ca0;this[n(486)]||(this[n(486)]=this[n(530)][n(548)][n(446)](PendingActions)[n(426)](getTranslation(this[n(530)][n(648)],n(437))))}[_0x108ca0(516)](){const n=_0x108ca0;this[n(486)]&&(this[n(530)][n(548)][n(446)](PendingActions)[n(657)](this[n(486)]),this[n(486)]=null)}[_0x108ca0(510)](n){const s=_0x108ca0,a=n[s(609)](o=>o[s(422)]());return this[s(568)][s(567)](a)}[_0x108ca0(472)](n,s){const a=_0x108ca0;return this[a(568)][a(509)](n)[a(609)]((o,t)=>{const e=a,r=e(533)==s[t][e(618)];if(e(515)==o[e(517)]){const u=o[e(593)][e(508)];!this[e(441)][e(628)](u)&&(this[e(441)][e(491)](e(627),u)[e(500)]=!1)}const d=OperationFactory[e(553)](o,this[e(441)]);return d[e(531)]=o[e(531)],d[e(413)]=r,d[e(542)]=r?null:s[t][e(565)],d[e(520)]=e(430)===s[t][e(618)],d[e(621)]=s[t][e(621)],d})}[_0x108ca0(558)](){const n=_0x108ca0;this[n(421)]=!0,this[n(585)]()?this[n(496)]():this[n(421)]=!1}[_0x108ca0(585)](){const n=_0x108ca0,s=this[n(530)][n(548)][n(446)](Sessions)[n(475)][n(446)](this[n(556)]);return!this[n(530)][n(494)]&&!!s&&s[n(642)]>1&&this[n(421)]}[_0x108ca0(451)](){const n=_0x108ca0;return this[n(527)][n(642)]>0||this[n(585)]()}}class Y extends Error{}function _0x5093(){const c=["_sendBufferedOperations","_refreshUserSelectionMarkers","_offset","lastOperationId","realtimecollaborationclient-init-connection-failed","currentDocumentSession","path","_isPendingUpdate","userId","sessionAdd:","compress","_compressor","_initThrowingOnDataSet","document:write","catch","333899LZYFcC","enqueueChange","realtimecollaborationclient-init-session-connection-error","Permissions","_service","_loadRoot","realtimecollaborationclient","includes","showWarning","409","_setUpDataInit","size","reset","_shouldSendSelectionUpdate","collaboration","getUser","entries","_initSessionsHandling","cloudDocumentVersion","_disconnectService","mySessionId","position","cloud-services-internal-error: Collaborative Editing Service is not connected.","The document details could not be taken during the reconnection. To not lose your content save it locally and refresh the editor.","apply","newRange","_disconnectionOperations","then","The last saved version of the document does not match the local version. To not lose your content save it locally and refresh the editor.","cloudServices.bundleVersion","connect","config","unregister","keys","_handleSendingSelectionMarkers","real-time-collaboration","sessionCreatedAt","map","_operationToId","push","round","change:range","bind","realtimecollaborationclient-init-non-existent-root","end","_handleInitialConnectionData","type","history","enableReadOnlyMode","createdAt","forEach","rtc-destroyed","clone","realtimecollaborationclient-init-document-already-initialized","_handleReceivedOperations","$root","getRoot","removeFromReconnectionStack","listenTo","_lastSyncedOperationId","model","collaboration-missing-channelid","targetPosition","realtimecollaborationclient-init-service-internal-error","Notification","change:_isEditingAllowed","getMany","getDocumentDetails","insert","connection","length","isOfficialPlugin","realtimecollaborationclient-editor-setdata-and-editor-data-set-are-forbidden-in-real-time-collaboration","_getOperationsFromInitData","set","createPositionAt","locale","affectedSelectable","document","realtimecollaborationclient-error","fire","realtimecollaborationclient-handleserverresponse","startsWith","_handleReconnectionError","addRootAttribute","remove","connected","_ignoredOperations","affectsData","error","code","view","1629tcljbv","2031640qEXrLA","createRange","wereChangesApplied","collaboration.channelId","addUser","isUndoneOperation","string","change:_isPendingUpdate","sessionId","markers","cloud-services-internal-error: Not connected.","_isInit","operationsReceived","pluginName","getIdOfTheLastOperation","createUserMarkerOperations","_handleServerResponse","destroy","attributes","_hasSelectionChanged","toJSON","realtimecollaborationclient-init-service-incorrect-server-operation","addRoot","stop","add","467358FUbbkE","_isConnected","loadRoot","cs:removeUser","_sendBufferedOperationsDelayId","lastSyncVersion","_connectAfterSessionHasBeenFlushed","lastOperationAcceptedAt","differ","_lastServerVersion","PENDING_ACTION_SENDING_DATA","_operationIdentifier","_currentBufferDelay","rootsAttributes","_document","_bufferRootLoad","define","metadata","has","get","suppressErrorInCollaboration","_addKnownRoot","isEnabled","data","_shouldSendUpdate","2424600JleGKH","_baseBufferDelay","baseVersion","Synchronization issue","_updateServerHistory","state","28mKzClT","isDocumentOperation","_getAffectedRoot","directChange","register","batch","initData","getOperations","high","The local document and server document differ and merging them can cause unexpected behavior. To not lose your content save it locally and refresh the editor.","236baMYGy","setPermissions","disconnect","isPremiumPlugin","_decompressOperations","_applyOperationsSet","finally","channelSessions","filter","addOperation","message","getOperationAuthor","_crash","_setPendingAction","requires","reconnection: flushed session","applyOperation","parse","_pendingAction","getConnectedSessions","_isEditingAllowed","version","change:hasDomSelection","createRoot","marker","_hasSynchronizationProblem","isReadOnly","start","_sendBufferedOperationsDelayed","CollaborativeEditingService","_connectService","_saveOperationInBuffer","_isAttached","_isLoaded","multi-root-editor-root-attributes-no-root","9300621CKjpWa","reconnect","realtimecollaborationclient-sendbufferedoperations","sendOperations","_handleExternalOperations","root","decompress","_compressOperations","stopListening","addToReconnectionStack","10yQptnU","404","InsertOperation","_clearPendingAction","__className","_waitUntilSynced","selection","_isDisconnection","permissions","createPositionFromPath","editing","move","CommentsOnly","rtc-offline","_bufferedOperations","ready","from","editor","wasUndone","1992uFSSmp","init","return","disconnected","rootName","_knownOperations","serverHistory","_handleReconnectionResponse","RealTimeCollaborationClient","lastDocumentSession","_authorId","_knownRootNames","slice","offset","_fetchMissingUsers","off","plugins","setIdForTheLastOperation","roots","The document cannot be connected back to the server. To not lose your content save it locally and refresh the editor.","1105QgRYwG","fromJSON","disableReadOnlyMode","cloud-services-internal-error: Request timeout.","_channelId"];return _0x5093=function(){return c},_0x5093()}function Z(c,n){const s=_0x108ca0;for(const a of c)a[s(454)]=n++}class tt{[_0x108ca0(659)];[_0x108ca0(610)];constructor(n){const s=_0x108ca0;this[s(659)]=n,this[s(610)]=new WeakMap}[_0x108ca0(416)](n){const s=_0x108ca0;let a=n[s(642)];for(;a--;){const o=n[a];if(!this[s(659)][s(445)](o)){if(!this[s(610)][s(445)](o)){const t=uid()[s(544)](1,18);this[s(610)][s(646)](o,t)}return this[s(610)][s(446)](o)}}}[_0x108ca0(549)](n,s){const a=_0x108ca0;if(!s)return;let o=n[a(642)];for(;o--;){const t=n[o];this[a(659)][a(445)](t)||this[a(610)][a(646)](t,s)}}}var _0x2e1826=_0x1754;function _0x3ff1(){var c=["RealTimeCollaborativeEditing","2680381VmldWS","10PZkOGz","188BnVRsk","7211652SxDRqc","4231TRiSrU","3851442KbOBOJ","42nMcIeg","requires","isOfficialPlugin","9099009FaBHzA","30432RIIfbh","26JLcbpI","315paNOVM","209012jXKMgm","8ICCgfK","isPremiumPlugin","pluginName"];return _0x3ff1=function(){return c},_0x3ff1()}(function(c,n){for(var s=_0x1754,a=c();;)try{var o=-parseInt(s(193))/1*(-parseInt(s(191))/2)+-parseInt(s(195))/3*(parseInt(s(184))/4)+-parseInt(s(183))/5*(-parseInt(s(181))/6)+parseInt(s(194))/7+-parseInt(s(185))/8*(-parseInt(s(180))/9)+-parseInt(s(190))/10*(-parseInt(s(189))/11)+-parseInt(s(192))/12*(parseInt(s(182))/13);if(o===n)break;a.push(a.shift())}catch{a.push(a.shift())}})(_0x3ff1,588644);function _0x1754(c,n){var s=_0x3ff1();return _0x1754=function(a,o){a=a-179;var t=s[a];return t},_0x1754(c,n)}class RealTimeCollaborativeEditing extends Plugin{static get[_0x2e1826(196)](){return[RealTimeCollaborationClient]}static get[_0x2e1826(187)](){var n=_0x2e1826;return n(188)}static get[_0x2e1826(179)](){return!0}static get[_0x2e1826(186)](){return!0}}function _0x51e7(c,n){const s=_0x51b1();return _0x51e7=function(a,o){return a=a-231,s[a]},_0x51e7(c,n)}const _0x3bd69d=_0x51e7;(function(c,n){const s=_0x51e7,a=c();for(;;)try{if(parseInt(s(259))/1*(parseInt(s(330))/2)+parseInt(s(327))/3+-parseInt(s(325))/4+parseInt(s(313))/5+parseInt(s(246))/6+-parseInt(s(284))/7*(parseInt(s(267))/8)+parseInt(s(293))/9*(-parseInt(s(304))/10)===n)break;a.push(a.shift())}catch{a.push(a.shift())}})(_0x51b1,611528);function _0x51b1(){const c=["unregister","5928066pUQrOI","cloudservicescommentsadapter-disconnect-not-exist","requires","has","content","sessionAdd:","commentThreadRemoved","context","resolvedAt","getUser","userId","Permissions","addUser","237Dfeayz","map","getComment","removeCommentThread","commentThreadId","404","startsWith","destroy","3576hwxOFY","delete","addToReconnectionStack","cloudservicescommentsadapter-connect-already-connected","connect","code","plugins","resolve","commentUpdated","CommentsService","message","_connectService","_setUpService","resolvedBy","listenTo","getCommentThreads","disconnect","3444VfsMyf","register","reconnect","commentThreadResolved","_getService","size","isPremiumPlugin","updateCommentThread","add","190089ZgxlCh","createdAt","mySessionId","init","cloud-services-internal-error: Not connected.","deletedAt","removeComment","setPermissions","set","remove","_fetchMissingUsersForThreads","380GMDpte","resolveCommentThread","getCommentThread","CommentsRepository","addComment","from","pluginName","collaboration.channelId","commentRemoved","521180ijWTYs","isOfficialPlugin","commentThreadReopened","CloudServicesCommentsAdapter","get","catch","commentId","commentAdded","config","_services","reopenCommentThread","cloud-services-internal-error: Comments Service is not connected.","1666764sFDfHy","keys","146664HXectQ","updateComment","addCommentThread","7676DpaaYA","cloudservicescommentsadapter-service-not-exist","commentThreadUpdated","commentThreadAdded","authorId","off","attributes","cloud-services-internal-error: Request timeout.","permissions","reopen","getConnectedSessions","getMany","assign","update","adapter","comments","_terminateService"];return _0x51b1=function(){return c},_0x51b1()}class CloudServicesCommentsAdapter extends ContextPlugin{static[_0x3bd69d(276)]=CommentsService;[_0x3bd69d(322)];static get[_0x3bd69d(248)](){return[WebSocketGateway,_0x3bd69d(307),Sessions,Users]}static get[_0x3bd69d(310)](){return _0x3bd69d(316)}static get[_0x3bd69d(314)](){return!0}static get[_0x3bd69d(290)](){return!0}constructor(n){const s=_0x3bd69d;super(n),this[s(322)]=new Map}async[_0x3bd69d(296)](){const n=_0x3bd69d,s=this[n(253)],a=s[n(273)][n(317)](n(307));if(s[n(273)][n(317)](WebSocketGateway)[n(269)](this),a[n(242)]={addCommentThread:async({channelId:o,threadId:t,comments:e,resolvedAt:r,resolvedBy:d,context:u,attributes:l})=>{const m=n,h=await this[m(288)](o)[m(329)]({commentThreadId:t,comments:e[m(260)](g=>(function(y,S,k){const w=m;return{commentThreadId:k,commentId:y[w(319)],userId:y[w(232)],content:y[w(250)],documentId:S,createdAt:y[w(294)],attributes:y[w(234)]||{}}})(g,o,t)),resolvedAt:r,resolvedBy:d,context:u,attributes:l})[m(318)](A$1);return{threadId:h[m(263)],comments:h[m(243)]}},getCommentThread:async({channelId:o,threadId:t})=>{const e=n,r=await this[e(288)](o)[e(306)](t)[e(318)](f)[e(318)](A$1);return r?r[e(298)]?null:(await this[e(303)]([r]),{threadId:r[e(263)],comments:r[e(243)][e(260)](p),context:r[e(253)],resolvedAt:r[e(254)],resolvedBy:r[e(280)],attributes:r[e(234)]||{}}):null},updateCommentThread:async({channelId:o,threadId:t,context:e,unlinkedAt:r,attributes:d})=>this[n(288)](o)[n(291)]({commentThreadId:t,context:e,attributes:d,unlinkedAt:r})[n(318)](f)[n(318)](A$1),resolveCommentThread:async({channelId:o,threadId:t})=>{const e=n,r=await this[e(288)](o)[e(305)](t)[e(318)](f)[e(318)](A$1);return{threadId:r[e(263)],resolvedAt:r[e(254)],resolvedBy:r[e(280)]}},reopenCommentThread:async({channelId:o,threadId:t})=>this[n(288)](o)[n(323)](t)[n(318)](f)[n(318)](A$1),removeCommentThread:({channelId:o,threadId:t})=>this[n(288)](o)[n(262)](t)[n(318)](f)[n(318)](A$1),addComment:({channelId:o,threadId:t,commentId:e,content:r,attributes:d})=>this[n(288)](o)[n(308)](t,e,r,d)[n(318)](A$1),updateComment:({channelId:o,threadId:t,commentId:e,content:r,attributes:d})=>this[n(288)](o)[n(328)](t,e,r,d)[n(318)](f)[n(318)](A$1),removeComment:({channelId:o,threadId:t,commentId:e})=>this[n(288)](o)[n(299)](t,e)[n(318)](f)[n(318)](A$1)},s instanceof Context){const o=s[n(321)][n(317)](n(311)),t=s[n(273)][n(317)](Sessions);await this[n(279)](o);const e=await this[n(322)][n(317)](o)[n(238)]();this[n(281)](t,n(251)+o,(r,{session:d})=>{const u=n;d.id===t[u(295)]&&(r[u(233)](),this[u(253)][u(273)][u(317)](u(257))[u(300)](d[u(236)],o))}),t[n(285)](o,e)}}async[_0x3bd69d(279)](n){const s=_0x3bd69d;if(this[s(322)][s(249)](n))throw new CKEditorError(s(270),null,{channelId:n});const a=this[s(253)][s(273)][s(317)](s(307)),o=new CloudServicesCommentsAdapter[s(276)](n);this[s(322)][s(301)](n,o),this[s(281)](o,s(231),(t,e)=>{const r=s,{commentThreadId:d,documentId:u,context:l,attributes:m,resolvedAt:h,resolvedBy:g,comments:y}=e;a[r(306)](d)||a[r(329)]({threadId:d,channelId:u,comments:y?y[r(260)](p):[],context:l,attributes:m,resolvedAt:h,resolvedBy:g,isFromAdapter:!0})}),this[s(281)](o,s(332),(t,{commentThreadId:e,documentId:r,context:d,unlinkedAt:u,attributes:l})=>{const m=s;a[m(306)](e)&&a[m(291)]({threadId:e,channelId:r,context:d,unlinkedAt:u,attributes:l,isFromAdapter:!0})}),this[s(281)](o,s(287),(t,{commentThreadId:e,resolvedBy:r,resolvedAt:d})=>{const u=s,l=a[u(306)](e);l&&l[u(274)]({resolvedBy:r,resolvedAt:d,isFromAdapter:!0})}),this[s(281)](o,s(315),(t,{commentThreadId:e})=>{const r=s,d=a[r(306)](e);d&&d[r(237)]({isFromAdapter:!0})}),this[s(281)](o,s(252),(t,{commentThreadId:e})=>{const r=s,d=a[r(306)](e);d&&d[r(302)]({isFromAdapter:!0})}),this[s(281)](o,s(320),(t,e)=>{const r=s,d=e[r(263)],u=a[r(306)](d);u&&u[r(308)]({...p(e),isFromAdapter:!0})}),this[s(281)](o,s(275),(t,{commentThreadId:e,commentId:r,content:d,attributes:u})=>{const l=s,m=a[l(306)](e);if(m){const h=m[l(261)](r);h&&h[l(241)]({content:d,attributes:u,isFromAdapter:!0})}}),this[s(281)](o,s(312),(t,{commentThreadId:e,commentId:r})=>{const d=s,u=a[d(306)](e);if(u){const l=u[d(261)](r);l&&l[d(302)]({isFromAdapter:!0})}}),await this[s(278)](n)}[_0x3bd69d(266)](){const n=_0x3bd69d;if(this[n(253)]instanceof Context){const s=this[n(253)][n(321)][n(317)](n(311));this[n(244)](s)}}[_0x3bd69d(244)](n){const s=_0x3bd69d;if(!this[s(322)][s(249)](n))throw new CKEditorError(s(247),null,{channelId:n});this[s(288)](n)[s(283)](),this[s(322)][s(268)](n)}async[_0x3bd69d(286)](){const n=_0x3bd69d;for(const s of this[n(322)][n(326)]())await this[n(278)](s);if(this[n(253)]instanceof Context){const s=this[n(253)][n(321)][n(317)](n(311)),a=this[n(253)][n(273)][n(317)](Sessions);a[n(245)](s);const o=await this[n(322)][n(317)](s)[n(238)]();a[n(285)](s,o)}}async[_0x3bd69d(278)](n){const s=_0x3bd69d,{connection:a}=this[s(253)][s(273)][s(317)](WebSocketGateway),o=this[s(253)][s(273)][s(317)](s(307)),t=this[s(322)][s(317)](n),e=await t[s(271)](a);await this[s(303)](e);const r=new Set(Array[s(309)](o[s(282)]({channelId:n}),d=>d.id));for(const d of e)d[s(298)]||r[s(268)](d[s(263)]);for(const d of r)o[s(306)](d)[s(302)]({isFromAdapter:!0});for(const d of e){let u=o[s(306)](d[s(263)]);const{commentThreadId:l,context:m,attributes:h,resolvedBy:g,resolvedAt:y,unlinkedAt:S,deletedAt:k}=d;if(k)continue;u||(u=o[s(329)]({channelId:n,threadId:l,context:m,attributes:h||{},resolvedBy:g,resolvedAt:y,unlinkedAt:S,isFromAdapter:!0}));const w=new Set(Array[s(309)](u[s(243)],O=>O.id));for(const O of d[s(243)])w[s(268)](O[s(319)]);for(const O of w)u[s(261)](O)[s(302)]({isFromAdapter:!0});for(const O of d[s(243)]){const I=u[s(261)](O[s(319)]);I?I[s(250)]!==O[s(250)]&&I[s(241)]({content:O[s(250)],isFromAdapter:!0}):u[s(308)](Object[s(240)](p(O),{isFromAdapter:!0}))}}}[_0x3bd69d(288)](n){const s=_0x3bd69d;if(!this[s(322)][s(249)](n))throw new CKEditorError(s(331),null,{channelId:n});return this[s(322)][s(317)](n)}async[_0x3bd69d(303)](n){const s=_0x3bd69d,a=this[s(253)][s(273)][s(317)](Users),{connection:o}=this[s(253)][s(273)][s(317)](WebSocketGateway),t=new Set;for(const{resolvedBy:r,comments:d}of n){r&&!a[s(255)](r)&&t[s(292)](r);for(const{userId:u}of d)a[s(255)](u)||t[s(292)](u)}if(t[s(289)]===0)return;const e=await User[s(239)](o,Array[s(309)](t));for(const r of e)a[s(255)](r.id)||a[s(258)](r)}}async function f(c){const n=_0x3bd69d;if(n(264)!==c[n(272)])throw c}function A$1(c){const n=_0x3bd69d;if((s=c)[n(277)][n(265)](n(324))||s[n(277)][n(265)](n(297))||s[n(277)][n(265)](n(235)))return new Promise(()=>{});var s;throw c}function p(c){const n=_0x3bd69d;return{threadId:c[n(263)],commentId:c[n(319)],content:c[n(250)],createdAt:c[n(294)],authorId:c[n(256)],attributes:c[n(234)]||{}}}const _0x3a0edc=_0x1f3c;(function(c,n){const s=_0x1f3c,a=c();for(;;)try{if(-parseInt(s(373))/1*(parseInt(s(365))/2)+parseInt(s(388))/3+-parseInt(s(380))/4+-parseInt(s(370))/5+-parseInt(s(403))/6*(-parseInt(s(374))/7)+parseInt(s(346))/8+parseInt(s(391))/9*(parseInt(s(360))/10)===n)break;a.push(a.shift())}catch{a.push(a.shift())}})(_0x1817,232997);function _0x1f3c(c,n){const s=_0x1817();return _0x1f3c=function(a,o){return a=a-344,s[a]},_0x1f3c(c,n)}function _0x1817(){const c=["_trackChangesService","745335KaYKjD","values","isPremiumPlugin","editor","getSuggestion","message","addSuggestionData","_bufferedRequests","addToReconnectionStack","set","get","reconnect","390yQYmNV","update","connect","startsWith","catch","type","TrackChangesService","1650392RnIHrZ","suggestionUpdated","isOfficialPlugin","connection","_fetchMissingUsersForThreads","adapter","then","requires","cloud-services-internal-error: Not connected.","pluginName","listenTo","off","find","originalSuggestionId","50bOwCrx","TrackChangesEditing","collaboration.channelId","data","cloud-services-internal-error: Request timeout.","377514yLLgvf","delete","_saved","CloudServicesTrackChangesAdapter","hasSuggestion","407260IpPYUx","state","add","2XoeCXq","8351xVwjkP","from","_waitForServiceReady","connected","open","getMany","1860556esghhn","isConnected","getUser","plugins","size","attributes","addUser","config","1377549Kfsxyq","init"];return _0x1817=function(){return c},_0x1817()}class CloudServicesTrackChangesAdapter extends Plugin{static[_0x3a0edc(345)]=TrackChangesService;[_0x3a0edc(398)];[_0x3a0edc(390)];static get[_0x3a0edc(353)](){return[CloudServicesCommentsAdapter,_0x3a0edc(361),WebSocketGateway]}static get[_0x3a0edc(355)](){return _0x3a0edc(368)}static get[_0x3a0edc(348)](){return!0}static get[_0x3a0edc(393)](){return!0}constructor(n){const s=_0x3a0edc;super(n);const a=this[s(394)][s(387)][s(401)](s(362));this[s(398)]=new Map,this[s(390)]=new CloudServicesTrackChangesAdapter[s(345)](a)}[_0x3a0edc(389)](){const n=_0x3a0edc,s=this[n(394)][n(383)][n(401)](WebSocketGateway),a=this[n(394)][n(383)][n(401)](n(361));return a[n(351)]={getSuggestion:async o=>{const t=n;await this[t(376)]();const e=await this[t(390)][t(401)](o)[t(407)](A);return await this[t(350)]([e]),e},addSuggestion:async({id:o,type:t,data:e,originalSuggestionId:r,attributes:d})=>{const u=n;await this[u(376)]();const l={id:o,type:t,data:e,originalSuggestionId:r,attributes:d},m=await this[u(390)][u(372)](o,t,e,r,d)[u(407)](h=>{if(T$1(h))return new Promise(g=>{const y=_0x1f3c;this[y(398)][y(400)](o,{resolve:g,suggestionData:l})});throw h});return this[u(398)][u(366)](o),m},updateSuggestion:async(o,t)=>{const e=n;if(await this[e(376)](),e(378)!==t[e(371)])return this[e(390)][e(404)](o,t)[e(407)](A)}},this[n(356)](this[n(390)],n(347),(o,t)=>{const e=n;a[e(369)](t.id)&&(a[e(395)](t.id)[e(385)]=t[e(385)])}),this[n(390)][n(405)](s[n(349)])[n(352)](o=>(s[n(399)](this),this[n(350)](o)[n(352)](()=>{const t=n;for(const e of o)a[t(397)](e)[t(367)]=!0})))}async[_0x3a0edc(402)](){const n=_0x3a0edc,s=this[n(394)][n(383)][n(401)](n(361)),{connection:a}=this[n(394)][n(383)][n(401)](WebSocketGateway),o=await this[n(390)][n(405)](a);await this[n(350)](o);for(const{suggestionData:t,resolve:e}of this[n(398)][n(392)]()){let r=o[n(358)](d=>d.id===t.id);r||(r=await this[n(390)][n(372)](t.id,t[n(344)],t[n(363)],t[n(359)])),e(r)}for(const t of o)s[n(369)](t.id)||s[n(397)](t)}async[_0x3a0edc(376)](){const n=_0x3a0edc;this[n(390)][n(381)]||await new Promise(s=>{const a=n;this[a(356)](this[a(390)],a(377),o=>{o[a(357)](),s()})})}async[_0x3a0edc(350)](n){const s=_0x3a0edc,a=this[s(394)][s(383)][s(401)](Users),{connection:o}=this[s(394)][s(383)][s(401)](WebSocketGateway),t=new Set;for(const{authorId:r}of n)a[s(382)](r)||t[s(372)](r);if(t[s(384)]===0)return;const e=await User[s(379)](o,Array[s(375)](t));for(const r of e)a[s(382)](r.id)||a[s(386)](r)}}function A(c){if(T$1(c))return new Promise(()=>{});throw c}function T$1(c){const n=_0x3a0edc;return c[n(396)][n(406)](n(354))||c[n(396)][n(406)](n(364))}const _0x2eeb8f=_0x4d00;function _0x4d00(c,n){const s=_0x186e();return _0x4d00=function(a,o){return a=a-474,s[a]},_0x4d00(c,n)}(function(c,n){const s=_0x4d00,a=c();for(;;)try{if(parseInt(s(482))/1*(-parseInt(s(506))/2)+parseInt(s(499))/3+parseInt(s(487))/4+parseInt(s(479))/5+-parseInt(s(501))/6+parseInt(s(480))/7*(-parseInt(s(477))/8)+-parseInt(s(483))/9*(-parseInt(s(490))/10)===n)break;a.push(a.shift())}catch{a.push(a.shift())}})(_0x186e,625138);function _0x186e(){const c=["7rzAGKK","once","109367ZaykDE","340749awdtpG","ready","data","isPremiumPlugin","3806360SZBSJK","CommentsEditing","change:state","100kjadao","Comments","collaboration.channelId","get","switchReadOnly","plugins","init","connected","CommentsRepository","1591815RXXdAs","destroy","6230754EYjhsI","config","RealTimeCollaborativeComments","listenTo","isOfficialPlugin","4BcOeQw","_terminateService","isThreadsLoadingPaused","editor","_setUpService","requires","4883384YJIzDn","pluginName","3159745DgwLOI"];return _0x186e=function(){return c},_0x186e()}class RealTimeCollaborativeComments extends Plugin{static get[_0x2eeb8f(476)](){return[_0x2eeb8f(491),CloudServicesCommentsAdapter,RealTimeCollaborativeEditing,WebSocketGateway]}static get[_0x2eeb8f(478)](){return _0x2eeb8f(503)}static get[_0x2eeb8f(505)](){return!0}static get[_0x2eeb8f(486)](){return!0}[_0x2eeb8f(496)](){const n=_0x2eeb8f,s=this[n(474)][n(495)][n(493)](WebSocketGateway),a=this[n(474)][n(495)][n(493)](n(488)),o=this[n(474)][n(495)][n(493)](CloudServicesCommentsAdapter);return this[n(474)][n(485)][n(481)](n(484),()=>{const t=n;this[t(504)](s,t(489),(e,r,d)=>{const u=t;a[u(508)]=u(497)!==d})}),this[n(504)](s,n(489),(t,e,r)=>{const d=n;this[d(474)][d(495)][d(493)](d(498))[d(494)](d(497)!==r)}),o[n(475)](this[n(474)][n(502)][n(493)](n(492)))}[_0x2eeb8f(500)](){const n=_0x2eeb8f;this[n(474)][n(495)][n(493)](CloudServicesCommentsAdapter)[n(507)](this[n(474)][n(502)][n(493)](n(492))),super[n(500)]()}}var _0x283180=_0x2ee9;(function(c,n){for(var s=_0x2ee9,a=c();;)try{var o=parseInt(s(419))/1*(parseInt(s(410))/2)+parseInt(s(403))/3*(-parseInt(s(406))/4)+parseInt(s(407))/5*(-parseInt(s(412))/6)+-parseInt(s(408))/7*(parseInt(s(418))/8)+parseInt(s(413))/9+-parseInt(s(416))/10+parseInt(s(404))/11*(parseInt(s(409))/12);if(o===n)break;a.push(a.shift())}catch{a.push(a.shift())}})(_0x3992,532713);function _0x3992(){var c=["2597016ujVIRO","8273700TACnFP","requires","TrackChanges","4991580wwUsvz","isPremiumPlugin","1744ZNKLsd","25649YgtSCw","isOfficialPlugin","3kdeQfD","6687329ibHPoE","pluginName","3748604upyRyq","5lREKfv","19439daLKlb","24jsRsDw","68DSfQXu","RealTimeCollaborativeTrackChanges"];return _0x3992=function(){return c},_0x3992()}function _0x2ee9(c,n){var s=_0x3992();return _0x2ee9=function(a,o){a=a-402;var t=s[a];return t},_0x2ee9(c,n)}class RealTimeCollaborativeTrackChanges extends Plugin{static get[_0x283180(414)](){var n=_0x283180;return[RealTimeCollaborativeComments,CloudServicesTrackChangesAdapter,n(415)]}static get[_0x283180(405)](){var n=_0x283180;return n(411)}static get[_0x283180(402)](){return!0}static get[_0x283180(417)](){return!0}}const _0x39f506=_0x4685;(function(c,n){const s=_0x4685,a=c();for(;;)try{if(parseInt(s(576))/1+parseInt(s(477))/2+parseInt(s(471))/3+-parseInt(s(479))/4*(parseInt(s(494))/5)+-parseInt(s(534))/6+-parseInt(s(568))/7+-parseInt(s(490))/8*(-parseInt(s(522))/9)===n)break;a.push(a.shift())}catch{a.push(a.shift())}})(_0xe587,319712);function _0x4685(c,n){const s=_0xe587();return _0x4685=function(a,o){return a=a-468,s[a]},_0x4685(c,n)}function _0xe587(){const c=["RevisionHistoryService","getOperations","_createCurrentRevision","isEnabled","_fixRevision","CloudServicesRevisionHistoryAdapter","_revisionDataBuilder","message","listenTo","getRevisions","fromVersion","400","1531161TWpoIp","add","buildRevisionData","state","_update","cloud-services-internal-error: Request timeout.","revisionsUpdated","isConnected","RevisionHistory","diffData","connection","get","973512QbweJY","authors","catch","once","_bufferUpdate","_handleRevisionsUpdate","remove","toVersion","_preventResendingRevisionData","_startingVersion","_getLatestVersion","createdAt","collaboration.channelId","change:_isConnected","addUser","keys","marker","bind","from","config","pluginName","adapter","baseVersion","destroy","reverse","sendBufferedUpdates","_getLatestVersionFromServerOperations","connected","_bufferedUpdates","setRevisionData","reInit","off","_fetchMissingUsers","RevisionTracker","1092805SWrCED","isEmptyCurrent","getRevision","authorsIds","isOfficialPlugin","reconnect","_lastRequestId","plugins","95904pkONxv","data","CONNECTED","_waitForServiceReady","_revisions","addRevisionData","cloudServices.bundleVersion","cloud-services-internal-error: Revision History Service is not connected.","affectsData","startsWith","950613YqTSbs","isPremiumPlugin","editor","code","getUser","_offset","254254aVPMNC","_handleReconnectionError","24iZqoVI","getMany","has","init","change:_isPendingUpdate","addToReconnectionStack","_isPendingUpdate","repository","max","map","connect","8kXcppE","then","serverHistory","_oldOffset","59960JwxXgH","_revisionTracker","currentRevision","_revisionHistoryService","size","cloud-services-internal-error: Not connected.","length","requires","wrongRequestId","type","sessionId","setSource","updateRevisions","isBundleUploaded","creatorId","_isConnected"];return _0xe587=function(){return c},_0xe587()}class CloudServicesRevisionHistoryAdapter extends Plugin{static[_0x39f506(510)]=RevisionHistoryService;[_0x39f506(574)];[_0x39f506(495)];[_0x39f506(497)];[_0x39f506(493)];static get[_0x39f506(501)](){return[WebSocketGateway,RealTimeCollaborationClient,_0x39f506(530),Sessions,Users]}static get[_0x39f506(554)](){return _0x39f506(515)}static get[_0x39f506(572)](){return!0}static get[_0x39f506(472)](){return!0}constructor(n){const s=_0x39f506;super(n);const a=this[s(473)][s(553)][s(533)](s(546));this[s(574)]=null,this[s(495)]=this[s(473)][s(575)][s(533)](s(567)),this[s(497)]=new CloudServicesRevisionHistoryAdapter[s(510)](a)}async[_0x39f506(482)](){const n=_0x39f506,s=this[n(473)][n(575)][n(533)](RealTimeCollaborationClient),a=s[n(492)],o=this[n(473)][n(575)][n(533)](WebSocketGateway);this[n(495)][n(505)]({history:a,getLatestVersion:()=>this[n(544)](),getCurrentRevisionId:()=>s[n(504)]});const t=this[n(473)][n(553)][n(533)](n(582))||version,e=await EditorService[n(507)](o[n(532)],t);this[n(473)][n(575)][n(533)](n(530))[n(555)]={getRevision:async({revisionId:u})=>(await this[n(579)](),await this[n(497)][n(570)](u)),updateRevisions:async u=>{const l=n;await this[l(579)]();const m=this[l(495)][l(496)];if(e&&u[l(500)]===1&&u[0].id===m.id)return u;for(const h of u)h.id===m.id&&(h[l(569)]=h[l(520)]===h[l(541)]);return this[l(497)][l(506)](u,this[l(574)])[l(491)](h=>(this[l(574)]=h,u))[l(536)](h=>{const g=l;if(T(h)||g(521)===h[g(474)]&&h[g(577)][g(502)]!==void 0){for(const y of u)!this[g(495)][g(486)][g(570)](y.id)||this[g(495)][g(538)](y.id,y,!1);if(T(h))throw h;return u}throw h})}},this[n(518)](this[n(497)],n(528),(u,{revisionsData:l,requestId:m})=>{const h=n;Math[h(487)](...l[h(488)](g=>g[h(541)]))>this[h(560)]()-1?this[h(544)]()[h(491)](()=>{this[h(539)](l,m)}):this[h(539)](l,m)});const{revisions:r,requestId:d}=await this[n(497)][n(489)](o[n(532)]);o[n(484)](this),this[n(574)]=d,await this[n(566)](r);for(const u of r)this[n(495)][n(581)](u);this[n(518)](s,n(547),(u,l,m)=>{const h=n;m&&(this[h(493)]=s[h(476)],u[h(565)]())}),this[n(495)][n(551)](n(513)).to(o,n(525),u=>u===WEB_SOCKET_GATEWAY_STATES[n(578)])}async[_0x39f506(573)](){const n=_0x39f506,s=this[n(473)][n(575)][n(533)](WebSocketGateway),a=this[n(473)][n(575)][n(533)](RealTimeCollaborationClient),o=async()=>{const t=n,e=this[t(495)][t(496)],r=e.id,d=r!==a[t(504)];if(d){const m=a[t(476)]-this[t(493)],h=this[t(560)]();if(this[t(495)][t(516)][t(564)](),e[t(541)]+m!==h){const g=e[t(520)]+m,y=this[t(473)][t(575)][t(533)](Users),S=this[t(495)][t(524)]({revision:e,from:g,to:h});S.id=e.id;const k=S[t(571)][t(488)](w=>y[t(475)](w));e[t(526)]({...S,authors:k},!0),this[t(495)][t(538)](e.id,S,!0)}this[t(495)][t(543)]=h,e[t(541)]===e[t(520)]&&!this[t(495)][t(562)][t(481)](r)&&this[t(495)][t(486)][t(580)][t(540)](r),this[t(495)][t(512)](h)}const{revisions:u,requestId:l}=await this[t(497)][t(573)](s[t(532)],this[t(574)]);d&&u[t(500)]>0?a[t(478)]():(await this[t(566)](u),this[t(539)](u,l),this[t(495)][t(559)]())};return a[n(509)]?o():new Promise((t,e)=>{const r=n;a[r(537)](r(547),()=>{const d=r;o()[d(491)](t)[d(536)](e)})})}[_0x39f506(557)](){const n=_0x39f506;super[n(557)]()}async[_0x39f506(579)](){const n=_0x39f506;this[n(497)][n(529)]||await new Promise(s=>{const a=n;this[a(518)](this[a(497)],a(561),o=>{o[a(565)](),s()})})}[_0x39f506(560)](){const n=_0x39f506,s=this[n(473)][n(575)][n(533)](RealTimeCollaborationClient)[n(492)][n(511)]()[n(558)]();for(const a of s)if(n(550)!==a[n(503)]||a[n(469)])return a[n(556)]+1}[_0x39f506(544)](){const n=_0x39f506,s=this[n(473)][n(575)][n(533)](RealTimeCollaborationClient);return new Promise(a=>{const o=n;s[o(485)]?s[o(537)](o(483),()=>{a(this[o(560)]())}):a(this[o(560)]())})}[_0x39f506(539)](n,s){const a=_0x39f506,o=this[a(495)][a(486)];this[a(574)]=s;for(const e of n){const r=o[a(570)](e.id);if(r){if((e[a(520)]||e[a(541)])&&(e[a(531)]=null),r===this[a(495)][a(496)]){const d=Math[a(487)](r[a(541)],e[a(541)]),u=Math[a(487)](r[a(520)],e[a(520)]);let l;r[a(541)]===e[a(541)]&&r[a(520)]===e[a(520)]?(l=!0,this[a(542)](e)):e[a(541)]===d&&e[a(520)]===u?l=!1:(r[a(541)]===d&&r[a(520)]===u||this[a(514)]({revision:r,from:u,to:d}),l=!0),l&&(delete e[a(520)],delete e[a(541)],delete e[a(531)],delete e[a(545)],delete e[a(571)])}this[a(495)][a(563)](e),this[a(542)](e)}else this[a(495)][a(581)](e)}const t=o[a(519)]();t[a(558)]();for(let e=0;e<t[a(500)]-1;e++){const r=t[e],d=t[e+1];if(r[a(520)]<d[a(541)]){const u=d[a(541)],l=Math[a(487)](u,r[a(541)]);this[a(514)]({revision:r,from:u,to:l})}}}[_0x39f506(514)]({revision:n,from:s,to:a}={}){const o=_0x39f506,t=this[o(473)][o(575)][o(533)](Users),e=this[o(495)][o(524)]({revision:n,from:s,to:a});e[o(535)]=e[o(571)][o(488)](r=>t[o(475)](r)),n[o(526)](e)}[_0x39f506(542)](n){const s=_0x39f506,a={};a.id=n.id;for(const o of Object[s(549)](n))o!=="id"&&(a[o]=void 0);this[s(495)][s(538)](a.id,a,!0)}async[_0x39f506(566)](n){const s=_0x39f506,a=this[s(473)][s(575)][s(533)](Users),{connection:o}=this[s(473)][s(575)][s(533)](WebSocketGateway),t=new Set;for(const d of n){for(const u of d[s(571)])r(u);d[s(508)]&&r(d[s(508)])}if(t[s(498)]===0)return;const e=await User[s(480)](o,Array[s(552)](t));for(const d of e)a[s(475)](d.id)||a[s(548)](d);function r(d){const u=s;a[u(475)](d)||t[u(523)](d)}}}function T(c){const n=_0x39f506;return c[n(517)][n(470)](n(468))||c[n(517)][n(470)](n(499))||c[n(517)][n(470)](n(527))}var _0xeb437f=_0x399a;function _0x399a(c,n){var s=_0x2f7d();return _0x399a=function(a,o){a=a-118;var t=s[a];return t},_0x399a(c,n)}(function(c,n){for(var s=_0x399a,a=c();;)try{var o=parseInt(s(129))/1+parseInt(s(131))/2+parseInt(s(123))/3*(-parseInt(s(124))/4)+parseInt(s(128))/5*(-parseInt(s(130))/6)+parseInt(s(122))/7+-parseInt(s(118))/8+parseInt(s(121))/9;if(o===n)break;a.push(a.shift())}catch{a.push(a.shift())}})(_0x2f7d,370537);function _0x2f7d(){var c=["5347512WTkDKf","RevisionHistory","isPremiumPlugin","11014020EynqUB","6090GqTGFz","11247WkXBmq","536sNQtyi","isOfficialPlugin","RealTimeCollaborativeRevisionHistory","pluginName","464160nbNyok","147840OljvUi","6ypVETK","523368zBMSwL","requires"];return _0x2f7d=function(){return c},_0x2f7d()}class RealTimeCollaborativeRevisionHistory extends Plugin{static get[_0xeb437f(132)](){var n=_0xeb437f;return[n(119),CloudServicesRevisionHistoryAdapter,RealTimeCollaborativeEditing]}static get[_0xeb437f(127)](){var n=_0xeb437f;return n(126)}static get[_0xeb437f(125)](){return!0}static get[_0xeb437f(120)](){return!0}}function isObjectLike(c){return typeof c=="object"&&c!==null}function isPlainObject(c){if(typeof c!="object"||c==null)return!1;if(Object.getPrototypeOf(c)===null)return!0;if(Object.prototype.toString.call(c)!=="[object Object]"){const s=c[Symbol.toStringTag];return s==null||!Object.getOwnPropertyDescriptor(c,Symbol.toStringTag)?.writable?!1:c.toString()===`[object ${s}]`}let n=c;for(;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return Object.getPrototypeOf(c)===n}function isElement(c){return isObjectLike(c)&&c.nodeType===1&&!isPlainObject(c)}const _0x5cf48d=_0x317f;(function(c,n){const s=_0x317f,a=c();for(;;)try{if(parseInt(s(349))/1+-parseInt(s(347))/2+parseInt(s(358))/3+-parseInt(s(342))/4+parseInt(s(355))/5+parseInt(s(357))/6+-parseInt(s(343))/7===n)break;a.push(a.shift())}catch{a.push(a.shift())}})(_0x52dc,325101);function _0x52dc(){const c=["3882270APLdHk","bindTemplate","usersCount","isHidden","43506TtrRXS","set","647998somMFf","ck-presence-list__users-counter__text","toString","listitem","setTemplate","_collapseAt","2727245AFUwsb","div","24354RGHAac","945978YcifOY","ck-presence-list__list-item","bind","ck-presence-list__counter--hidden","ck-presence-list__users-counter","2445472PXaKdX"];return _0x52dc=function(){return c},_0x52dc()}function _0x317f(c,n){const s=_0x52dc();return _0x317f=function(a,o){return a=a-342,s[a]},_0x317f(c,n)}class PresenceCounterView extends View{[_0x5cf48d(354)];constructor(n,s=6){const a=_0x5cf48d;super(n);const o=this[a(344)];this[a(348)](a(346),!0),this[a(348)](a(345),0),this[a(354)]=s,this[a(360)](a(346)).to(this,a(345),t=>t<s),this[a(353)]({tag:a(356),attributes:{class:["ck",a(359),o.if(a(346),a(361))],role:a(352)},children:[{tag:a(356),attributes:{class:["ck",a(362)]},children:[{tag:a(356),attributes:{class:["ck",a(350)]},children:[{text:o.to(a(345),t=>"+"+(t-this[a(354)]+2)[a(351)]())}]}]}]})}}const _0x4b6c59=_0x42b8;(function(c,n){const s=_0x42b8,a=c();for(;;)try{if(-parseInt(s(347))/1+parseInt(s(351))/2*(-parseInt(s(355))/3)+parseInt(s(352))/4*(-parseInt(s(378))/5)+parseInt(s(373))/6*(-parseInt(s(365))/7)+-parseInt(s(345))/8+parseInt(s(367))/9*(-parseInt(s(368))/10)+parseInt(s(344))/11*(parseInt(s(374))/12)===n)break;a.push(a.shift())}catch{a.push(a.shift())}})(_0x2869,249444);function _0x42b8(c,n){const s=_0x2869();return _0x42b8=function(a,o){return a=a-342,s[a]},_0x42b8(c,n)}function _0x2869(){const c=["set","Connected users list","aria-expanded","listenTo","21589183zQnAdO","3532136DYIGYG","createCollection","423819EacDuV","querySelector","hasPopup","Collapsed connected users list (press ENTER to open it)","26FxzzBa","144UeIuCz","removeAttribute","setAttribute","111696OwMEYH",".ck-presence-list__dropdown-list","change:hasPopup","element","presencelist:show","setTemplate","keystrokes","isExpanded","focus","fire","49sWxiCX","render","9UEfEdG","1716290AXLDXY","list",".ck-balloon-panel_with-arrow","contains","items","128232vcxNSb","12ApIZdQ","div","relatedTarget","bindTemplate","5920wVdbTo","ck-presence-list__list","presencelist:hide"];return _0x2869=function(){return c},_0x2869()}class PresenceInlineListView extends View{[_0x4b6c59(372)];[_0x4b6c59(361)];constructor(n){const s=_0x4b6c59;super(n);const a=this[s(377)];this[s(372)]=this[s(346)](),this[s(361)]=new KeystrokeHandler,this[s(381)]({hasPopup:!1,isExpanded:!1}),this[s(360)]({tag:s(375),attributes:{"aria-haspopup":a.if(s(349)),"aria-expanded":a.to(s(362),o=>this[s(349)]&&String(o)),"aria-label":a.to(s(349),o=>getTranslation(n,s(o?350:382))),role:s(369),tabindex:a.to(s(349),o=>!!o&&0),class:["ck",s(379)]},children:this[s(372)],on:{mouseenter:a.to(()=>this[s(364)](s(359))),mouseleave:a.to(o=>{const t=s,e=o,r=document[t(348)](t(356)),d=document[t(348)](t(370));r?.[t(371)](e[t(376)])||d?.[t(371)](e[t(376)])||this[t(364)](t(380))})}}),this.on(s(357),(o,t,e)=>{const r=s;this[r(358)]&&(e?this[r(358)][r(354)](r(342),String(this[r(362)])):this[r(358)][r(353)](r(342)))})}[_0x4b6c59(363)](){const n=_0x4b6c59;this[n(358)][n(363)]()}[_0x4b6c59(366)](){const n=_0x4b6c59;super[n(366)](),this[n(361)][n(343)](this[n(358)])}}styleInject('.ck.ck-balloon-panel.ck-tooltip{-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none;z-index:calc(var(--ck-z-dialog) + 100)}:root{--ck-color-presence-list-dropdown-background:#fff;--ck-color-presence-list-dropdown-arrow-border:#ebebeb;--ck-presence-list-dropdown-list-max-width:250px;--ck-presence-list-dropdown-list-min-width:180px;--ck-presence-list-users-tooltip-max-width:120px;--ck-presence-list-users-tooltip-min-width:25px}.ck.ck-presence-list{align-items:center;display:inline-flex;font-size:var(--ck-font-size-base);margin-right:var(--ck-spacing-standard);transition:margin-right .2s ease-in-out}.ck.ck-presence-list *{box-sizing:border-box}.ck.ck-presence-list__list{display:flex;flex-direction:row;justify-content:flex-end;position:relative}.ck.ck-presence-list__list:after{background:transparent;bottom:-15px;content:"";height:15px;left:0;position:absolute;width:100%}.ck.ck-presence-list__counter--hidden{display:none}.ck.ck-presence-list__list-item{background:none;border:1px solid transparent;color:inherit;font:inherit;margin-left:var(--ck-spacing-medium);outline:none;padding:0;position:relative}.ck.ck-presence-list__list-item:focus{border:var(--ck-focus-ring);border-radius:0;box-shadow:var(--ck-focus-outer-shadow),0 0;outline:none}.ck-rounded-corners .ck.ck-presence-list__list-item:focus,.ck.ck-presence-list__list-item.ck-rounded-corners:focus{border-radius:var(--ck-border-radius)}.ck.ck-presence-list__list-item .ck-label{height:0;overflow:hidden;width:0}.ck.ck-presence-list__list-item:first-child{margin-left:0}.ck.ck-tooltip.ck-presence-list__list-item__tooltip>.ck-tooltip__text{display:inline-block;max-width:var(--ck-presence-list-users-tooltip-max-width);overflow:hidden;text-align:center;text-overflow:ellipsis;white-space:nowrap}.ck.ck-presence-list__marker{display:block;height:3px;margin-top:5px;position:relative;width:100%}.ck-presence-list__balloon button.ck-presence-list__dropdown-list-item *,.ck-presence-list__list button.ck-presence-list__list-item *{cursor:pointer}.ck.ck-presence-list--collapsed .ck-presence-list__list{border:1px solid transparent;min-width:calc(var(--ck-user-avatar-size)*2);padding-left:1px}.ck.ck-presence-list--collapsed .ck-presence-list__list *{cursor:pointer;transition:all .4s ease-in-out}.ck.ck-presence-list--collapsed .ck-presence-list__list:focus{border:var(--ck-focus-ring);border-radius:0;box-shadow:var(--ck-focus-outer-shadow),0 0;outline:none}.ck-rounded-corners .ck.ck-presence-list--collapsed .ck-presence-list__list:focus,.ck.ck-presence-list--collapsed .ck-presence-list__list.ck-rounded-corners:focus{border-radius:var(--ck-border-radius)}.ck.ck-presence-list--collapsed .ck.ck-presence-list__list-item{border:0;margin-left:calc(var(--ck-user-avatar-size)*-.35);padding:0}.ck.ck-presence-list--collapsed .ck.ck-presence-list__list-item:first-child{margin-left:0}.ck.ck-presence-list--collapsed .ck.ck-presence-list__list-item:last-child{order:unset}.ck.ck-presence-list--collapsed .ck.ck-presence-list__list-item .ck-user{--ck-presence-list-avatar-border-color:var(--ck-color-base-foreground);border:2px solid var(--ck-presence-list-avatar-border-color);margin-left:0;margin-right:0}.ck.ck-presence-list--collapsed .ck.ck-presence-list__list-item.ck-presence-list__users-counter{margin-left:0;margin-right:0}.ck.ck-presence-list__balloon{--ck-color-panel-border:var(--ck-color-presence-list-dropdown-arrow-border);--ck-color-panel-background:var(--ck-color-presence-list-dropdown-background);animation:fadeIn .3s ease-in-out;background-color:var(--ck-color-presence-list-dropdown-background);border:0;opacity:1}@media (prefers-reduced-motion:reduce){.ck.ck-presence-list__balloon{animation:none}}.ck.ck-presence-list__balloon ul{background-color:var(--ck-color-presence-list-dropdown-background)}.ck.ck-presence-list__balloon .ck.ck-presence-list__dropdown-list-wrapper{border-radius:var(--ck-border-radius);max-width:var(--ck-presence-list-dropdown-list-max-width);min-width:var(--ck-presence-list-dropdown-list-min-width)}.ck.ck-presence-list__balloon .ck.ck-presence-list__dropdown-list-wrapper.ck-presence-list__dropdown-list-wrapper_scrollable{max-height:80vh;overflow-x:hidden;overflow-y:auto}.ck.ck-presence-list__balloon .ck.ck-presence-list__dropdown-list-item{align-items:center;background:none;border:0;color:inherit;display:flex;font:inherit;outline:none;padding:var(--ck-spacing-standard);position:relative}.ck.ck-presence-list__balloon .ck.ck-presence-list__dropdown-list-item:focus{box-shadow:var(--ck-focus-outer-shadow),0 0;outline:var(--ck-focus-ring);outline-offset:-1px;position:relative;z-index:1}.ck.ck-presence-list__balloon .ck.ck-presence-list__dropdown-list-item:first-of-type .ck-presence-list__marker{border-top-left-radius:var(--ck-border-radius)}.ck.ck-presence-list__balloon .ck.ck-presence-list__dropdown-list-item:last-of-type .ck-presence-list__marker{border-bottom-left-radius:var(--ck-border-radius)}.ck.ck-presence-list__balloon .ck.ck-presence-list__dropdown-list .ck-user__full-name{color:var(--ck-color-base-text);margin-left:var(--ck-spacing-standard);overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.ck.ck-presence-list__balloon .ck.ck-presence-list__dropdown-list .ck.ck-presence-list__marker{height:100%;left:0;margin:0;position:absolute;width:3px}.ck.ck-presence-list__users-counter{--ck-presence-list-counter-border-color:var(--ck-user-avatar-background);--ck-presence-list-counter-background-color:var(--ck-user-avatar-color);align-items:center;background-color:var(--ck-presence-list-counter-background-color);border:2px solid var(--ck-presence-list-counter-border-color);border-radius:50%;box-sizing:border-box;display:flex;height:calc(var(--ck-user-avatar-size) - 4px);justify-content:center;line-height:100%;margin:4px 2px 2px;position:relative;width:calc(var(--ck-user-avatar-size) - 4px)}.ck.ck-presence-list__users-counter__text{--ck-presence-list-counter-text-color:var(--ck-user-avatar-background);color:var(--ck-presence-list-counter-text-color);cursor:default;-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none}@keyframes fadeIn{0%{opacity:0}to{opacity:1}}');function _0x2705(){const c=["inlineListView","listenTo","16070211pEGonX","ck-reset","set","ck-rounded-corners","first","div","4305684vadKcQ","isCollapsed","16818AbWULW","setTemplate","bindTemplate","bind","tooltipPosition","change","1210056RfDUry","ck-presence-list","2890944VswLGt","7aiKHCW","hasPopup","2418580QuJWFd","locale","items","1647905dtrqRq","ck-presence-list--collapsed","54RunaTY","counterView"];return _0x2705=function(){return c},_0x2705()}const _0x3d381e=_0x1b9f;(function(c,n){const s=_0x1b9f,a=c();for(;;)try{if(-parseInt(s(315))/1*(-parseInt(s(303))/2)+parseInt(s(293))/3+parseInt(s(298))/4+parseInt(s(301))/5+parseInt(s(313))/6*(parseInt(s(296))/7)+-parseInt(s(295))/8+-parseInt(s(307))/9===n)break;a.push(a.shift())}catch{a.push(a.shift())}})(_0x2705,362331);function _0x1b9f(c,n){const s=_0x2705();return _0x1b9f=function(a,o){return a=a-291,s[a]},_0x1b9f(c,n)}class PresenceListView extends View{[_0x3d381e(304)];[_0x3d381e(305)];constructor(n,s=6){const a=_0x3d381e;super(n);const o=this[a(317)];this[a(309)](a(314),!0),this[a(304)]=new PresenceCounterView(this[a(299)],s),this[a(305)]=new PresenceInlineListView(n),this[a(305)][a(318)](a(297)).to(this,a(314)),this[a(306)](this[a(305)][a(300)],a(292),()=>{const t=a;for(const e of this[t(305)][t(300)])e[t(291)]="s";this[t(305)][t(300)][t(311)]&&(this[t(305)][t(300)][t(311)][t(291)]="se")}),this[a(316)]({tag:a(312),attributes:{class:["ck",a(294),a(308),a(310),o.if(a(314),a(302))]},children:[this[a(305)]]})}}const _0x3bd54d=_0x4bea;(function(c,n){const s=_0x4bea,a=c();for(;;)try{if(-parseInt(s(460))/1*(-parseInt(s(424))/2)+-parseInt(s(433))/3*(parseInt(s(438))/4)+parseInt(s(434))/5*(-parseInt(s(455))/6)+parseInt(s(430))/7+parseInt(s(443))/8*(-parseInt(s(444))/9)+parseInt(s(462))/10*(-parseInt(s(450))/11)+parseInt(s(417))/12===n)break;a.push(a.shift())}catch{a.push(a.shift())}})(_0x3cf7,433471);function _0x3cf7(){const c=["bindTemplate",".ck-presence-list__list","presencelist:hide","items","div","264WClVNo","element","role","setTemplate",".ck-balloon-panel_with-arrow","102738fIJzok","fire","_isScrollable","application","window","1pvvwzD","ck-presence-list__dropdown-list","94870RxWorw","ck-list","16726068IztcFG","listenTo","resize","checkIfScrollable","ck-presence-list__dropdown-list-wrapper","contains","set","603754ymAHWB","render","max","innerHeight","listWrapperView","ariaLabelledBy","5694801ZAEPGh","Connected users list dropdown menu","ck-reset","3xJONIN","50KdKGRx","querySelector","ck-presence-list__dropdown-list-wrapper_scrollable","scrollHeight","3281624XBALhz","ariaLabel","clientHeight","change","relatedTarget","61176QnUQdJ","1008OFyUSD"];return _0x3cf7=function(){return c},_0x3cf7()}function _0x4bea(c,n){const s=_0x3cf7();return _0x4bea=function(a,o){return a=a-417,s[a]},_0x4bea(c,n)}class PresenceDropdownListView extends View{[_0x3bd54d(428)];constructor(n,s){const a=_0x3bd54d;super(n);const o=this[a(445)];this[a(428)]=new PresenceDropdownListWrapperView(n,s),this[a(453)]({tag:a(449),attributes:{tabindex:-1,role:a(458),class:["ck",a(461)],"aria-label":getTranslation(n,a(431))},children:[this[a(428)]],on:{mouseleave:o.to(t=>{const e=a,r=t,d=document[e(435)](e(446)),u=document[e(435)](e(454));d?.[e(422)](r[e(442)])||u?.[e(422)](r[e(442)])||this[e(456)](e(447))})}})}}class PresenceDropdownListWrapperView extends ListView{constructor(n,s){const a=_0x3bd54d;super(n);const o=this[a(445)];this[a(423)](a(457),!1),this[a(453)]({tag:s?a(449):"ul",attributes:{class:["ck",a(432),a(463),a(421),o.if(a(457),a(436))],role:o.to(a(452)),"aria-label":o.to(a(439)),"aria-labelledby":o.to(a(429))},children:this[a(448)]}),this[a(418)](global$1[a(459)],a(419),()=>this[a(420)]()),this[a(448)].on(a(441),()=>this[a(420)]())}[_0x3bd54d(425)](){const n=_0x3bd54d;super[n(425)](),this[n(420)]()}[_0x3bd54d(420)](){const n=_0x3bd54d,s=this[n(451)];s&&(this[n(457)]=Math[n(426)](s[n(437)],s[n(440)])>.8*window[n(427)])}}const _0x50b655=_0x35ac;(function(c,n){const s=_0x35ac,a=c();for(;;)try{if(parseInt(s(418))/1+parseInt(s(417))/2+-parseInt(s(438))/3*(-parseInt(s(413))/4)+-parseInt(s(424))/5*(parseInt(s(412))/6)+parseInt(s(427))/7+-parseInt(s(416))/8*(-parseInt(s(423))/9)+parseInt(s(436))/10*(-parseInt(s(430))/11)===n)break;a.push(a.shift())}catch{a.push(a.shift())}})(_0x13cb,973852);function _0x35ac(c,n){const s=_0x13cb();return _0x35ac=function(a,o){return a=a-410,s[a]},_0x35ac(c,n)}function _0x13cb(){const c=["element","30oXuAxS","4wRZJKL","name","span","56zyPACP","3535532EnOlQj","1581155ziudlc","tag","true","userView","setTemplate","122031ZwehZf","1898660OgOUEt","bindTemplate","execute","2034487GzkXyj","getBackgroundColorClass","color","28687703sWTtdX","fire","ck-presence-list__dropdown-list-item","button","ck-user__full-name","focus","10djgDRj","ck-presence-list__marker","5238030ZXfaZY","presentation"];return _0x13cb=function(){return c},_0x13cb()}class PresenceDropdownListItemView extends ListItemView{[_0x50b655(421)];constructor(n,s,a){const o=_0x50b655;super(n);const t=this[o(425)];this[o(421)]=new UserView(n,s);const e={tag:"li",attributes:{class:["ck",o(432)],tabindex:-1,role:o(410),"aria-label":s[o(414)]},children:[this[o(421)],{tag:o(415),attributes:{class:["ck",o(434)]},children:[{text:s[o(414)]}]},{tag:o(415),attributes:{class:["ck",o(437),s[o(429)][o(428)]()],"aria-hidden":o(420)}}]};a&&(e[o(419)]=o(433),e.on={click:t.to(()=>this[o(431)](o(426)))}),this[o(422)](e)}[_0x50b655(435)](){const n=_0x50b655;this[n(411)][n(435)]()}}const _0x2f7926=_0x34ca;(function(c,n){const s=_0x34ca,a=c();for(;;)try{if(-parseInt(s(496))/1*(parseInt(s(498))/2)+-parseInt(s(483))/3+-parseInt(s(470))/4*(parseInt(s(475))/5)+parseInt(s(497))/6*(-parseInt(s(463))/7)+parseInt(s(486))/8*(parseInt(s(487))/9)+parseInt(s(474))/10*(-parseInt(s(469))/11)+parseInt(s(473))/12*(parseInt(s(484))/13)===n)break;a.push(a.shift())}catch{a.push(a.shift())}})(_0x3924,268577);function _0x34ca(c,n){const s=_0x3924();return _0x34ca=function(a,o){return a=a-463,s[a]},_0x34ca(c,n)}class PresenceInlineListItemView extends View{[_0x2f7926(468)];[_0x2f7926(467)];constructor(n,s,a){const o=_0x2f7926;super(n);const t=this[o(490)];this[o(482)](o(481),!1),this[o(482)](o(495),!0),this[o(482)](o(478),""),this[o(468)]=new UserView(n,s),this[o(467)]=new ot(n,s);const e=new LabelView(n);e[o(465)][o(488)]=o(476),e[o(472)]=s[o(464)];const r={tag:o(471),attributes:{class:["ck",o(499)],role:o(477),tabindex:t.to(o(481),d=>!!d&&0),"aria-labelledby":e.id,"data-cke-tooltip-text":this[o(468)][o(464)],"data-cke-tooltip-position":t.to(o(478)),"data-cke-tooltip-disabled":t.to(o(495),d=>!d),"data-cke-tooltip-class":o(480)},children:[this[o(468)],this[o(467)],e]};a&&(r[o(488)]=o(492),r.on={click:t.to(()=>this[o(493)](o(479)))}),this[o(466)](r)}}function _0x3924(){const c=["span","listitem","tooltipPosition","execute","ck-presence-list__list-item__tooltip","isFocusable","set","740067mPijUZ","13MhtdMs","ck-presence-list__marker","1016KTDMuT","1683OWDliH","tag","color","bindTemplate","true","button","fire","getBackgroundColorClass","hasTooltip","175694CDHDYT","540neDwFa","4lsyQfo","ck-presence-list__list-item","15617XhuGJt","name","template","setTemplate","markerView","userView","5607954qMGzXy","3140APPPVc","div","text","22617348mQPINm","10enMEDv","2110PnHUbA"];return _0x3924=function(){return c},_0x3924()}class ot extends View{constructor(n,s){const a=_0x2f7926;super(n),this[a(466)]({tag:a(476),attributes:{class:["ck",a(485),s[a(489)][a(494)]()],"aria-hidden":a(491)}})}}const _0x11d730=_0x2773;(function(c,n){const s=_0x2773,a=c();for(;;)try{if(parseInt(s(239))/1+parseInt(s(229))/2*(-parseInt(s(300))/3)+parseInt(s(286))/4*(-parseInt(s(263))/5)+-parseInt(s(212))/6+-parseInt(s(245))/7+-parseInt(s(305))/8+parseInt(s(267))/9*(parseInt(s(258))/10)===n)break;a.push(a.shift())}catch{a.push(a.shift())}})(_0x3086,328007);function _0x2773(c,n){const s=_0x3086();return _0x2773=function(a,o){return a=a-202,s[a]},_0x2773(c,n)}function _0x3086(){const c=["items","hasTooltip","tabIndex","bindTo","remove","isRendered","offsetHeight","sort","5173670KSaYQJ","execute","inlineListView","currentDisplayedUsers","plugins","27515dfyDsn","keystrokes","presencelist:hide","_handleUserAdd","18ulIXiy","join","isVisible","define","get","isCollapsed","isMe","from","_bodyCollection","bind","[contenteditable]","presencelist:show","onClick","body","isPremiumPlugin","using","config","context","locale","28iHuyge","usersCount","pluginName","presenceList.displayMe","showDropdown","isFocusable","isExpanded","Shift+Tab","activeElement","presenceList.collapseAt","map","_createView","displayMe","change:isFocused","3MfBLeZ","set","presenceDropdownView","querySelectorAll","ck ck-presence-list__balloon","3085680pZEMlQ","presenceList.container","allConnectedUsers","button","filter","view","reverse","requires","_allConnectedUsers","add","focus","detachFromDom","class","indexOf","549792JQmDHO","number","checkIfScrollable","Enter","isOfficialPlugin","Esc","presencelist-collapseat-invalid-format","focusTracker","select","length","content","input","destroy","presenceList","counterView","attachToDom","Tab","561880vXlDxr","PresenceListUI","find","unpin","element","appendChild","render","textarea","[tabindex]","_handleUserRemove","452867egmIgd","hideDropdown","min","offsetWidth","init",':not([disabled]):not([tabindex="-1"])',"2539537oHYjGz","listenTo","pin","presencelist-missing-container","balloonPanelView"];return _0x3086=function(){return c},_0x3086()}const U={collapseAt:6,displayMe:!0};class PresenceListUI extends ContextPlugin{[_0x11d730(261)];[_0x11d730(249)];[_0x11d730(203)];[_0x11d730(302)];[_0x11d730(275)]=null;static get[_0x11d730(288)](){return _0x11d730(230)}static get[_0x11d730(216)](){return!0}static get[_0x11d730(281)](){return!0}constructor(n){const s=_0x11d730;super(n),this[s(284)][s(283)][s(270)](s(225),U);const a=n[s(283)][s(271)](s(295));if(s(213)!=typeof a)throw new CKEditorError(s(218),this);if(a<1)throw new CKEditorError(s(218),this);this[s(206)]=this[s(284)][s(262)][s(271)](Sessions)[s(307)],this[s(301)](s(287),0),this[s(261)]=new Collection,this[s(249)]=new BalloonPanelView,this[s(249)][s(210)]=s(304),this[s(203)]=this[s(297)](),this[s(302)]=void 0}static get[_0x11d730(205)](){return[Sessions]}[_0x11d730(243)](){const n=_0x11d730;for(const s of this[n(206)])this[n(266)](s);this[n(246)](this[n(206)],n(207),(s,a)=>{this[n(266)](a)}),this[n(246)](this[n(206)],n(254),(s,a)=>{this[n(238)](a)})}[_0x11d730(297)](){const n=_0x11d730,s=this[n(284)],a=new PresenceListView(this[n(284)][n(285)],this[n(284)][n(283)][n(271)](n(295))),o=this[n(249)];if(!isElement(s[n(283)][n(271)](n(306))))throw new CKEditorError(n(248),this);return a[n(226)][n(276)](n(287)).to(this),a[n(276)](n(272)).to(this,n(287),t=>{const e=n,{collapseAt:r}=s[e(283)][e(271)](e(225)),d=t>=r;if(d&&!a[e(260)][e(250)][e(231)](u=>u instanceof PresenceCounterView)){const u=this[e(284)][e(283)][e(271)](e(295))-1;this[e(261)][e(221)]==u&&this[e(261)][e(221)]>1&&this[e(261)][e(254)](this[e(261)][e(221)]-1),a[e(260)][e(250)][e(207)](a[e(226)])}return d||this[e(240)](),d}),a[n(260)][n(250)][n(253)](this[n(261)])[n(282)](t=>{const e=n,r=s[e(283)][e(271)](e(225)),d=new PresenceInlineListItemView(s[e(285)],t,!!r[e(279)]);return d[e(276)](e(251)).to(a,e(272),u=>!u),d[e(276)](e(291)).to(a,e(272),u=>!u),r[e(279)]&&this[e(246)](d,e(259),()=>{const u=e;this[u(203)][u(272)]||r[u(279)](t,d[u(233)])}),d}),this[n(246)](a[n(260)],n(278),()=>{const t=n;this[t(203)][t(272)]&&this[t(290)]()}),this[n(246)](a[n(260)],n(265),()=>{const t=n;this[t(302)]&&this[t(240)]()}),a[n(260)][n(264)][n(301)](n(215),(t,e)=>{const r=n;this[r(203)][r(272)]&&(this[r(290)](),e())}),a[n(235)](),o[n(235)](),clickOutsideHandler({emitter:a,activator:()=>o[n(269)],contextElements:[o[n(233)],a[n(260)][n(233)]],callback:()=>this[n(240)]()}),s[n(283)][n(271)](n(306))[n(234)](a[n(233)]),this[n(275)]=new BodyCollection(this[n(284)][n(285)]),this[n(275)][n(227)](),this[n(275)][n(207)](this[n(249)]),a}[_0x11d730(266)](n){const s=_0x11d730;if(!this[s(284)][s(283)][s(271)](s(289))&&n[s(273)])return;const a=this[s(284)][s(283)][s(271)](s(295))-1;for(this[s(287)]++;this[s(261)][s(221)]>=a-(this[s(203)][s(272)]?1:0)&&this[s(261)][s(221)]>1;)this[s(261)][s(254)](1);const o=n[s(273)]?0:this[s(261)][s(221)];this[s(261)][s(207)](n,o)}[_0x11d730(238)](n){const s=_0x11d730;this[s(287)]--;const{collapseAt:a}=this[s(284)][s(283)][s(271)](s(225)),o=this[s(287)]>=a;if(this[s(261)][s(271)](n.id))this[s(261)][s(254)](n.id);else if(o&&this[s(261)][s(221)]+1===a-1)return;if(this[s(261)][s(221)]+(o?1:0)<this[s(287)]){for(const t of Array[s(274)](this[s(206)])[s(204)]())if(!this[s(261)][s(271)](t.id)&&(this[s(261)][s(207)](t,Math[s(241)](this[s(261)][s(221)]-(o?1:0),1)),this[s(261)][s(221)]+(o?1:0)===a-1))return}}[_0x11d730(290)](){const n=_0x11d730;if(this[n(302)])return;const s=this[n(284)][n(283)][n(271)](n(225));this[n(302)]=new PresenceDropdownListView(this[n(284)][n(285)],!!s[n(279)]),this[n(203)][n(260)][n(292)]=!0,this[n(246)](this[n(302)],n(265),()=>{const t=n;this[t(302)]&&this[t(240)]()});const{listWrapperView:a}=this[n(302)];a[n(250)][n(253)](this[n(206)])[n(282)](t=>{const e=n;if(!s[e(298)]&&t[e(273)])return null;const r=new PresenceDropdownListItemView(this[e(284)][e(285)],t,!!s[e(279)]);return s[e(279)]&&this[e(246)](r,e(259),()=>{const d=e;s[d(279)](t,r[d(233)])}),r}),this[n(249)][n(222)][n(207)](this[n(302)]),this[n(249)][n(247)]({target:this[n(203)][n(260)][n(233)]}),a[n(208)](),a[n(214)]();const o=(t,e)=>{const r=n;this[r(240)](),this[r(203)][r(260)][r(208)](),e()};a[n(264)][n(301)](n(217),o),a[n(264)][n(301)](n(293),o),a[n(264)][n(301)](n(228),(t,e)=>{const r=n;(function(d){const u=_0x2773,l=["a",u(308),u(223),u(220),u(236),u(237),u(277)][u(296)](y=>y+u(244))[u(268)](","),m=[...document[u(280)][u(303)](l)][u(202)](y=>y===document[u(294)]||y[u(242)]+y[u(256)]>0)[u(257)]((y,S)=>(y[u(252)]||0)-(S[u(252)]||0)),h=m[u(211)](d),g=m[(h+1)%m[u(221)]];g&&g[u(208)]()})(this[r(203)][r(233)]),this[r(240)](),e()}),a[n(219)][n(207)](this[n(203)][n(233)]),a[n(219)].on(n(299),(t,e,r)=>{r||this[n(240)]()})}[_0x11d730(240)](){const n=_0x11d730;this[n(302)]&&(this[n(203)][n(260)][n(292)]=!1,this[n(249)][n(232)](),this[n(249)][n(222)][n(254)](this[n(302)]),this[n(302)][n(224)](),this[n(302)]=void 0)}[_0x11d730(224)](){const n=_0x11d730;super[n(224)](),this[n(203)]&&this[n(203)][n(255)]&&this[n(203)][n(224)](),this[n(275)]&&(this[n(275)][n(209)](),this[n(275)][n(224)](),this[n(275)]=null)}}var _0x40192d=_0x24dd;function _0x50ca(){var c=["pluginName","318453fObguN","requires","1295OsIOms","2567870qhXEQs","PresenceList","2dTuWDe","isPremiumPlugin","10652koiTGr","isOfficialPlugin","615ukopVk","1392840LtdmHH","188972UVYFQB","1110753suXDSe","8472dSSvoJ","11XGHYDo"];return _0x50ca=function(){return c},_0x50ca()}function _0x24dd(c,n){var s=_0x50ca();return _0x24dd=function(a,o){a=a-315;var t=s[a];return t},_0x24dd(c,n)}(function(c,n){for(var s=_0x24dd,a=c();;)try{var o=-parseInt(s(317))/1*(-parseInt(s(323))/2)+-parseInt(s(328))/3+-parseInt(s(319))/4*(-parseInt(s(321))/5)+parseInt(s(325))/6*(-parseInt(s(330))/7)+parseInt(s(322))/8+parseInt(s(324))/9+-parseInt(s(315))/10*(parseInt(s(326))/11);if(o===n)break;a.push(a.shift())}catch{a.push(a.shift())}})(_0x50ca,189885);class PresenceList extends ContextPlugin{static get[_0x40192d(329)](){return[Sessions,PresenceListUI]}static get[_0x40192d(327)](){var n=_0x40192d;return n(316)}static get[_0x40192d(320)](){return!0}static get[_0x40192d(318)](){return!0}}function _0x52ef(c,n){var s=_0x1adb();return _0x52ef=function(a,o){a=a-144;var t=s[a];return t},_0x52ef(c,n)}(function(c,n){for(var s=_0x52ef,a=c();;)try{var o=-parseInt(s(147))/1+parseInt(s(151))/2+parseInt(s(145))/3*(parseInt(s(150))/4)+parseInt(s(146))/5+-parseInt(s(144))/6+parseInt(s(149))/7+-parseInt(s(148))/8;if(o===n)break;a.push(a.shift())}catch{a.push(a.shift())}})(_0x1adb,829072);function _0x1adb(){var c=["5175126MadwIs","48gNSnmq","4965310hrubdP","376695KIEvFj","12301176WspkRB","10349178dfLoOC","44620mkhznu","1911878IqNOxW"];return _0x1adb=function(){return c},_0x1adb()}export{CloudServicesCommentsAdapter,CloudServicesRevisionHistoryAdapter,CloudServicesTrackChangesAdapter,PresenceList,PresenceListUI,RealTimeCollaborationClient,RealTimeCollaborativeComments,RealTimeCollaborativeEditing,RealTimeCollaborativeRevisionHistory,RealTimeCollaborativeTrackChanges,Sessions,WebSocketGateway};
