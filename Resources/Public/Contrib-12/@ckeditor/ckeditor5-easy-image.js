import{Plugin as r}from"@ckeditor/ckeditor5-core";import{logWarning as n}from"@ckeditor/ckeditor5-utils";import{FileRepository as o}from"@ckeditor/ckeditor5-upload";/**
* @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
* For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
*/class l extends r{_uploadGateway;static get pluginName(){return"CloudServicesUploadAdapter"}static get isOfficialPlugin(){return!0}static get requires(){return["CloudServices",o]}init(){const e=this.editor,t=e.plugins.get("CloudServices"),a=t.token,s=t.uploadUrl;if(!a)return;const d=e.plugins.get("CloudServicesCore");this._uploadGateway=d.createUploadGateway(a,s),e.plugins.get(o).createUploadAdapter=u=>new p(this._uploadGateway,u)}}class p{uploadGateway;loader;fileUploader;constructor(e,t){this.uploadGateway=e,this.loader=t}upload(){return this.loader.file.then(e=>(this.fileUploader=this.uploadGateway.upload(e),this.fileUploader.on("progress",(t,a)=>{this.loader.uploadTotal=a.total,this.loader.uploaded=a.uploaded}),this.fileUploader.send()))}abort(){this.fileUploader.abort()}}/**
* @license Copyright (c) 2003-2025, CKSource Holding sp. z o.o. All rights reserved.
* For licensing, see LICENSE.md or https://ckeditor.com/legal/ckeditor-licensing-options
*/class g extends r{static get pluginName(){return"EasyImage"}static get isOfficialPlugin(){return!0}static get requires(){return[l,"ImageUpload"]}init(){const e=this.editor;!e.plugins.has("ImageBlockEditing")&&!e.plugins.has("ImageInlineEditing")&&n("easy-image-image-feature-missing",e)}}export{l as CloudServicesUploadAdapter,g as EasyImage};
