<form action="" method="post" id="ckEditorSettings">
    <div class="row align-items-center mb-2">
        <div class="col">
            <h2 class="mb-0"><f:translate key="ckeditorKit.module.settings" /></h2>
        </div>
        <div class="col">
            <div class="form-group text-end mb-0">
                <button type="submit" class="btn btn-primary">
                    <core:icon identifier="actions-document-save" size="small" alternativeMarkupIdentifier="inline" />
                    <f:translate key="features.settings.save" />
                </button>
            </div>
        </div>
    </div>
    <f:if condition="{extSettings}">
        <div class="form-section mb-2">

            <!-- License Key -->
            <div class="form-group form-group-textarea-custom">
                <label for="licenseKey" class="form-label">
                    <f:translate key="field.name.licenseKey" extensionName="rte_ckeditor_pack" default="License Key" />
                </label>
                <textarea id="licenseKey" class="form-control" rows="3" cols="1000" name="licenseKey">{extSettings.licenseKey}</textarea>
                <f:if condition="{f:translate(key: 'field.note.licenseKey', extensionName: 'rte_ckeditor_pack')}">
                    <small><f:format.raw>{f:translate(key: 'field.note.licenseKey', extensionName: 'rte_ckeditor_pack')}</f:format.raw></small>
                </f:if>
            </div>

            <!-- Authorization Type -->
            <div class="form-group">
                <label for="authType" class="form-label">
                    <f:translate key="field.name.authType" extensionName="rte_ckeditor_pack" default="Authorization Type" />
                </label>
                <select name="authType" id="authType" class="form-control form-select">
                    <option value="none" {f:if(condition: '{extSettings.authType} == \'none\'', then: 'selected')}>
                        <f:translate key="authorization.none" extensionName="rte_ckeditor_pack" default="None" />
                    </option>
                    <option value="key" {f:if(condition: '{extSettings.authType} == \'key\'', then: 'selected')}>
                        <f:translate key="authorization.key" extensionName="rte_ckeditor_pack" default="Key" />
                    </option>
                    <option value="dev_token" {f:if(condition: '{extSettings.authType} == \'dev_token\'', then: 'selected')}>
                        <f:translate key="authorization.dev_token" extensionName="rte_ckeditor_pack" default="Development token" />
                    </option>
                </select>
                <f:if condition="{f:translate(key: 'field.note.authType', extensionName: 'rte_ckeditor_pack')}">
                    <small><f:format.raw>{f:translate(key: 'field.note.authType', extensionName: 'rte_ckeditor_pack')}</f:format.raw></small>
                </f:if>
            </div>

            <!-- Environment ID (shown only for 'key' auth type) -->
            <div class="form-group form-item-auth-key">
                <label for="environmentId" class="form-label">
                    <f:translate key="field.name.environmentId" extensionName="rte_ckeditor_pack" default="Environment ID" />
                </label>
                <input type="text" id="environmentId" class="form-control" name="environmentId"
                    placeholder="{f:translate(key: 'field.placeholder.environmentId', extensionName: 'rte_ckeditor_pack', default: '')}"
                    value="{extSettings.environmentId}" />
                <f:if condition="{f:translate(key: 'field.note.environmentId', extensionName: 'rte_ckeditor_pack')}">
                    <small><f:format.raw>{f:translate(key: 'field.note.environmentId', extensionName: 'rte_ckeditor_pack')}</f:format.raw></small>
                </f:if>
            </div>

            <!-- Access Key (shown only for 'key' auth type) -->
            <div class="form-group form-item-auth-key">
                <label for="accessKey" class="form-label">
                    <f:translate key="field.name.accessKey" extensionName="rte_ckeditor_pack" default="Access Key" />
                </label>
                <input type="text" id="accessKey" class="form-control" name="accessKey"
                    placeholder="{f:translate(key: 'field.placeholder.accessKey', extensionName: 'rte_ckeditor_pack', default: '')}"
                    value="{extSettings.accessKey}" />
                <f:if condition="{f:translate(key: 'field.note.accessKey', extensionName: 'rte_ckeditor_pack')}">
                    <small><f:format.raw>{f:translate(key: 'field.note.accessKey', extensionName: 'rte_ckeditor_pack')}</f:format.raw></small>
                </f:if>
            </div>

            <div class="form-group">
                <label for="apiKey" class="form-label">
                    <f:translate key="field.name.apiKey" extensionName="rte_ckeditor_pack" default="API Key" />
                </label>
                <input type="text" id="apiKey" class="form-control" name="apiKey"
                    placeholder="{f:translate(key: 'field.placeholder.apiKey', extensionName: 'rte_ckeditor_pack', default: '')}"
                    value="{extSettings.apiKey}" />
                <f:if condition="{f:translate(key: 'field.note.apiKey', extensionName: 'rte_ckeditor_pack')}">
                    <small><f:format.raw>{f:translate(key: 'field.note.apiKey', extensionName: 'rte_ckeditor_pack')}</f:format.raw></small>
                </f:if>
            </div>

            <!-- Organization ID (shown when authType is 'key') -->
            <div class="form-group">
                <label for="organizationId" class="form-label">
                    <f:translate key="field.name.organizationId" extensionName="rte_ckeditor_pack" default="Organization ID" />
                </label>
                <input type="text" id="organizationId" class="form-control" name="organizationId"
                    placeholder="{f:translate(key: 'field.placeholder.organizationId', extensionName: 'rte_ckeditor_pack', default: '')}"
                    value="{extSettings.organizationId}" />
                <f:if condition="{f:translate(key: 'field.note.organizationId', extensionName: 'rte_ckeditor_pack')}">
                    <small><f:format.raw>{f:translate(key: 'field.note.organizationId', extensionName: 'rte_ckeditor_pack')}</f:format.raw></small>
                </f:if>
            </div>

            <!-- Token URL (shown only for 'dev_token' auth type) -->
            <div class="form-group form-item-auth-dev-token">
                <label for="tokenUrl" class="form-label">
                    <f:translate key="field.name.tokenUrl" extensionName="rte_ckeditor_pack" default="Token URL" />
                </label>
                <input type="text" id="tokenUrl" class="form-control" name="tokenUrl"
                    placeholder="{f:translate(key: 'field.placeholder.tokenUrl', extensionName: 'rte_ckeditor_pack', default: '')}"
                    value="{extSettings.tokenUrl}" />
                <f:if condition="{f:translate(key: 'field.note.tokenUrl', extensionName: 'rte_ckeditor_pack')}">
                    <small><f:format.raw>{f:translate(key: 'field.note.tokenUrl', extensionName: 'rte_ckeditor_pack')}</f:format.raw></small>
                </f:if>
            </div>

            <!-- Web Socket URL -->
            <div class="form-group">
                <label for="webSocketUrl" class="form-label">
                    <f:translate key="field.name.webSocketUrl" extensionName="rte_ckeditor_pack" default="Web Socket URL" />
                </label>
                <input type="text" id="webSocketUrl" class="form-control" name="webSocketUrl"
                    placeholder="{f:translate(key: 'field.placeholder.webSocketUrl', extensionName: 'rte_ckeditor_pack', default: '')}"
                    value="{extSettings.webSocketUrl}" />
                <f:if condition="{f:translate(key: 'field.note.webSocketUrl', extensionName: 'rte_ckeditor_pack')}">
                    <small><f:format.raw>{f:translate(key: 'field.note.webSocketUrl', extensionName: 'rte_ckeditor_pack')}</f:format.raw></small>
                </f:if>
            </div>

            <!-- API Base URL -->
            <div class="form-group">
                <label for="apiBaseUrl" class="form-label">
                    <f:translate key="field.name.apiBaseUrl" extensionName="rte_ckeditor_pack" default="API Base URL" />
                </label>
                <input type="text" id="apiBaseUrl" class="form-control" name="apiBaseUrl"
                    placeholder="{f:translate(key: 'field.placeholder.apiBaseUrl', extensionName: 'rte_ckeditor_pack', default: '')}"
                    value="{extSettings.apiBaseUrl}" />
                <f:if condition="{f:translate(key: 'field.note.apiBaseUrl', extensionName: 'rte_ckeditor_pack')}">
                    <small><f:format.raw>{f:translate(key: 'field.note.apiBaseUrl', extensionName: 'rte_ckeditor_pack')}</f:format.raw></small>
                </f:if>
            </div>
        </div>
    </f:if>
</form>
