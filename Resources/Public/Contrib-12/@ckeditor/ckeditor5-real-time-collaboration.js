import{ContextPlugin,Plugin,PendingActions,Context}from"@ckeditor/ckeditor5-core";import{EmitterMixin,ObservableMixin,priorities,global as global$1,Collection,DomEmitterMixin,CKEditorError,version,uid,KeystrokeHandler}from"@ckeditor/ckeditor5-utils";import{Notification,View,ListView,ListItemView,LabelView,BalloonPanelView,clickOutsideHandler,BodyCollection}from"@ckeditor/ckeditor5-ui";import{ModelLiveRange,History,NoOperation,InsertOperation,MarkerOperation,RootAttributeOperation,transformOperationSets,OperationFactory}from"@ckeditor/ckeditor5-engine";import{Users,UserView}from"@ckeditor/ckeditor5-collaboration-core";import{Compressor}from"@ckeditor/ckeditor5-operations-compressor";class Descriptor{static DESCRIPTOR_NAME;static DESCRIPTOR;constructor(...n){}}class Message extends Descriptor{static TYPE="1000";static READABLE_TYPE_NAME;constructor(...n){super()}static fromJSON(n){throw new TypeError("Must be implemented in a child class!")}}class GetUserMessage extends Message{id;static TYPE="21";static READABLE_TYPE_NAME="getUser";static DESCRIPTOR_NAME="GetUserMessage";static DESCRIPTOR={fields:{id:{type:"string",id:1}}};constructor(n){super(),this.id=n}toJSON(){return{id:this.id}}static fromJSON(n){return new GetUserMessage(n.id)}}class GetUserResponse extends Message{attributes;static DESCRIPTOR_NAME="GetUserResponse";static DESCRIPTOR={fields:{attributes:{rule:"repeated",type:"KeyValueDescriptor",id:1}}};constructor(n){super(),this.attributes=n}toJSON(){return{attributes:Object.keys(this.attributes).map(n=>({key:n,value:JSON.stringify(this.attributes[n])}))}}static fromJSON(n){const s=n.attributes.reduce((a,o)=>(a[o.key]=o.value?JSON.parse(o.value):null,a),{});return new GetUserResponse(s)}}var commonjsGlobal=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function getDefaultExportFromCjs(c){return c&&c.__esModule&&Object.prototype.hasOwnProperty.call(c,"default")?c.default:c}var indexMinimal={},minimal$1={},aspromise,hasRequiredAspromise;function requireAspromise(){if(hasRequiredAspromise)return aspromise;hasRequiredAspromise=1,aspromise=c;function c(n,s){for(var a=new Array(arguments.length-1),o=0,t=2,e=!0;t<arguments.length;)a[o++]=arguments[t++];return new Promise(function(d,u){a[o]=function(m){if(e)if(e=!1,m)u(m);else{for(var h=new Array(arguments.length-1),g=0;g<h.length;)h[g++]=arguments[g];d.apply(null,h)}};try{n.apply(s||null,a)}catch(l){e&&(e=!1,u(l))}})}return aspromise}var base64={},hasRequiredBase64;function requireBase64(){return hasRequiredBase64||(hasRequiredBase64=1,(function(c){var n=c;n.length=function(r){var d=r.length;if(!d)return 0;for(var u=0;--d%4>1&&r.charAt(d)==="=";)++u;return Math.ceil(r.length*3)/4-u};for(var s=new Array(64),a=new Array(123),o=0;o<64;)a[s[o]=o<26?o+65:o<52?o+71:o<62?o-4:o-59|43]=o++;n.encode=function(r,d,u){for(var l=null,m=[],h=0,g=0,y;d<u;){var S=r[d++];switch(g){case 0:m[h++]=s[S>>2],y=(S&3)<<4,g=1;break;case 1:m[h++]=s[y|S>>4],y=(S&15)<<2,g=2;break;case 2:m[h++]=s[y|S>>6],m[h++]=s[S&63],g=0;break}h>8191&&((l||(l=[])).push(String.fromCharCode.apply(String,m)),h=0)}return g&&(m[h++]=s[y],m[h++]=61,g===1&&(m[h++]=61)),l?(h&&l.push(String.fromCharCode.apply(String,m.slice(0,h))),l.join("")):String.fromCharCode.apply(String,m.slice(0,h))};var t="invalid encoding";n.decode=function(r,d,u){for(var l=u,m=0,h,g=0;g<r.length;){var y=r.charCodeAt(g++);if(y===61&&m>1)break;if((y=a[y])===void 0)throw Error(t);switch(m){case 0:h=y,m=1;break;case 1:d[u++]=h<<2|(y&48)>>4,h=y,m=2;break;case 2:d[u++]=(h&15)<<4|(y&60)>>2,h=y,m=3;break;case 3:d[u++]=(h&3)<<6|y,m=0;break}}if(m===1)throw Error(t);return u-l},n.test=function(r){return/^(?:[A-Za-z0-9+/]{4})*(?:[A-Za-z0-9+/]{2}==|[A-Za-z0-9+/]{3}=)?$/.test(r)}})(base64)),base64}var eventemitter,hasRequiredEventemitter;function requireEventemitter(){if(hasRequiredEventemitter)return eventemitter;hasRequiredEventemitter=1,eventemitter=c;function c(){this._listeners={}}return c.prototype.on=function(s,a,o){return(this._listeners[s]||(this._listeners[s]=[])).push({fn:a,ctx:o||this}),this},c.prototype.off=function(s,a){if(s===void 0)this._listeners={};else if(a===void 0)this._listeners[s]=[];else for(var o=this._listeners[s],t=0;t<o.length;)o[t].fn===a?o.splice(t,1):++t;return this},c.prototype.emit=function(s){var a=this._listeners[s];if(a){for(var o=[],t=1;t<arguments.length;)o.push(arguments[t++]);for(t=0;t<a.length;)a[t].fn.apply(a[t++].ctx,o)}return this},eventemitter}var float,hasRequiredFloat;function requireFloat(){if(hasRequiredFloat)return float;hasRequiredFloat=1,float=c(c);function c(t){return typeof Float32Array<"u"?(function(){var e=new Float32Array([-0]),r=new Uint8Array(e.buffer),d=r[3]===128;function u(g,y,S){e[0]=g,y[S]=r[0],y[S+1]=r[1],y[S+2]=r[2],y[S+3]=r[3]}function l(g,y,S){e[0]=g,y[S]=r[3],y[S+1]=r[2],y[S+2]=r[1],y[S+3]=r[0]}t.writeFloatLE=d?u:l,t.writeFloatBE=d?l:u;function m(g,y){return r[0]=g[y],r[1]=g[y+1],r[2]=g[y+2],r[3]=g[y+3],e[0]}function h(g,y){return r[3]=g[y],r[2]=g[y+1],r[1]=g[y+2],r[0]=g[y+3],e[0]}t.readFloatLE=d?m:h,t.readFloatBE=d?h:m})():(function(){function e(d,u,l,m){var h=u<0?1:0;if(h&&(u=-u),u===0)d(1/u>0?0:2147483648,l,m);else if(isNaN(u))d(2143289344,l,m);else if(u>34028234663852886e22)d((h<<31|2139095040)>>>0,l,m);else if(u<11754943508222875e-54)d((h<<31|Math.round(u/1401298464324817e-60))>>>0,l,m);else{var g=Math.floor(Math.log(u)/Math.LN2),y=Math.round(u*Math.pow(2,-g)*8388608)&8388607;d((h<<31|g+127<<23|y)>>>0,l,m)}}t.writeFloatLE=e.bind(null,n),t.writeFloatBE=e.bind(null,s);function r(d,u,l){var m=d(u,l),h=(m>>31)*2+1,g=m>>>23&255,y=m&8388607;return g===255?y?NaN:h*(1/0):g===0?h*1401298464324817e-60*y:h*Math.pow(2,g-150)*(y+8388608)}t.readFloatLE=r.bind(null,a),t.readFloatBE=r.bind(null,o)})(),typeof Float64Array<"u"?(function(){var e=new Float64Array([-0]),r=new Uint8Array(e.buffer),d=r[7]===128;function u(g,y,S){e[0]=g,y[S]=r[0],y[S+1]=r[1],y[S+2]=r[2],y[S+3]=r[3],y[S+4]=r[4],y[S+5]=r[5],y[S+6]=r[6],y[S+7]=r[7]}function l(g,y,S){e[0]=g,y[S]=r[7],y[S+1]=r[6],y[S+2]=r[5],y[S+3]=r[4],y[S+4]=r[3],y[S+5]=r[2],y[S+6]=r[1],y[S+7]=r[0]}t.writeDoubleLE=d?u:l,t.writeDoubleBE=d?l:u;function m(g,y){return r[0]=g[y],r[1]=g[y+1],r[2]=g[y+2],r[3]=g[y+3],r[4]=g[y+4],r[5]=g[y+5],r[6]=g[y+6],r[7]=g[y+7],e[0]}function h(g,y){return r[7]=g[y],r[6]=g[y+1],r[5]=g[y+2],r[4]=g[y+3],r[3]=g[y+4],r[2]=g[y+5],r[1]=g[y+6],r[0]=g[y+7],e[0]}t.readDoubleLE=d?m:h,t.readDoubleBE=d?h:m})():(function(){function e(d,u,l,m,h,g){var y=m<0?1:0;if(y&&(m=-m),m===0)d(0,h,g+u),d(1/m>0?0:2147483648,h,g+l);else if(isNaN(m))d(0,h,g+u),d(2146959360,h,g+l);else if(m>17976931348623157e292)d(0,h,g+u),d((y<<31|2146435072)>>>0,h,g+l);else{var S;if(m<22250738585072014e-324)S=m/5e-324,d(S>>>0,h,g+u),d((y<<31|S/4294967296)>>>0,h,g+l);else{var T=Math.floor(Math.log(m)/Math.LN2);T===1024&&(T=1023),S=m*Math.pow(2,-T),d(S*4503599627370496>>>0,h,g+u),d((y<<31|T+1023<<20|S*1048576&1048575)>>>0,h,g+l)}}}t.writeDoubleLE=e.bind(null,n,0,4),t.writeDoubleBE=e.bind(null,s,4,0);function r(d,u,l,m,h){var g=d(m,h+u),y=d(m,h+l),S=(y>>31)*2+1,T=y>>>20&2047,w=4294967296*(y&1048575)+g;return T===2047?w?NaN:S*(1/0):T===0?S*5e-324*w:S*Math.pow(2,T-1075)*(w+4503599627370496)}t.readDoubleLE=r.bind(null,a,0,4),t.readDoubleBE=r.bind(null,o,4,0)})(),t}function n(t,e,r){e[r]=t&255,e[r+1]=t>>>8&255,e[r+2]=t>>>16&255,e[r+3]=t>>>24}function s(t,e,r){e[r]=t>>>24,e[r+1]=t>>>16&255,e[r+2]=t>>>8&255,e[r+3]=t&255}function a(t,e){return(t[e]|t[e+1]<<8|t[e+2]<<16|t[e+3]<<24)>>>0}function o(t,e){return(t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3])>>>0}return float}var inquire_1,hasRequiredInquire;function requireInquire(){if(hasRequiredInquire)return inquire_1;hasRequiredInquire=1,inquire_1=inquire;function inquire(moduleName){try{var mod=eval("quire".replace(/^/,"re"))(moduleName);if(mod&&(mod.length||Object.keys(mod).length))return mod}catch(c){}return null}return inquire_1}var utf8={},hasRequiredUtf8;function requireUtf8(){return hasRequiredUtf8||(hasRequiredUtf8=1,(function(c){var n=c;n.length=function(a){for(var o=0,t=0,e=0;e<a.length;++e)t=a.charCodeAt(e),t<128?o+=1:t<2048?o+=2:(t&64512)===55296&&(a.charCodeAt(e+1)&64512)===56320?(++e,o+=4):o+=3;return o},n.read=function(a,o,t){var e=t-o;if(e<1)return"";for(var r=null,d=[],u=0,l;o<t;)l=a[o++],l<128?d[u++]=l:l>191&&l<224?d[u++]=(l&31)<<6|a[o++]&63:l>239&&l<365?(l=((l&7)<<18|(a[o++]&63)<<12|(a[o++]&63)<<6|a[o++]&63)-65536,d[u++]=55296+(l>>10),d[u++]=56320+(l&1023)):d[u++]=(l&15)<<12|(a[o++]&63)<<6|a[o++]&63,u>8191&&((r||(r=[])).push(String.fromCharCode.apply(String,d)),u=0);return r?(u&&r.push(String.fromCharCode.apply(String,d.slice(0,u))),r.join("")):String.fromCharCode.apply(String,d.slice(0,u))},n.write=function(a,o,t){for(var e=t,r,d,u=0;u<a.length;++u)r=a.charCodeAt(u),r<128?o[t++]=r:r<2048?(o[t++]=r>>6|192,o[t++]=r&63|128):(r&64512)===55296&&((d=a.charCodeAt(u+1))&64512)===56320?(r=65536+((r&1023)<<10)+(d&1023),++u,o[t++]=r>>18|240,o[t++]=r>>12&63|128,o[t++]=r>>6&63|128,o[t++]=r&63|128):(o[t++]=r>>12|224,o[t++]=r>>6&63|128,o[t++]=r&63|128);return t-e}})(utf8)),utf8}var pool_1,hasRequiredPool;function requirePool(){if(hasRequiredPool)return pool_1;hasRequiredPool=1,pool_1=c;function c(n,s,a){var o=a||8192,t=o>>>1,e=null,r=o;return function(u){if(u<1||u>t)return n(u);r+u>o&&(e=n(o),r=0);var l=s.call(e,r,r+=u);return r&7&&(r=(r|7)+1),l}}return pool_1}var longbits,hasRequiredLongbits;function requireLongbits(){if(hasRequiredLongbits)return longbits;hasRequiredLongbits=1,longbits=n;var c=requireMinimal$1();function n(t,e){this.lo=t>>>0,this.hi=e>>>0}var s=n.zero=new n(0,0);s.toNumber=function(){return 0},s.zzEncode=s.zzDecode=function(){return this},s.length=function(){return 1};var a=n.zeroHash="\0\0\0\0\0\0\0\0";n.fromNumber=function(e){if(e===0)return s;var r=e<0;r&&(e=-e);var d=e>>>0,u=(e-d)/4294967296>>>0;return r&&(u=~u>>>0,d=~d>>>0,++d>4294967295&&(d=0,++u>4294967295&&(u=0))),new n(d,u)},n.from=function(e){if(typeof e=="number")return n.fromNumber(e);if(c.isString(e))if(c.Long)e=c.Long.fromString(e);else return n.fromNumber(parseInt(e,10));return e.low||e.high?new n(e.low>>>0,e.high>>>0):s},n.prototype.toNumber=function(e){if(!e&&this.hi>>>31){var r=~this.lo+1>>>0,d=~this.hi>>>0;return r||(d=d+1>>>0),-(r+d*4294967296)}return this.lo+this.hi*4294967296},n.prototype.toLong=function(e){return c.Long?new c.Long(this.lo|0,this.hi|0,!!e):{low:this.lo|0,high:this.hi|0,unsigned:!!e}};var o=String.prototype.charCodeAt;return n.fromHash=function(e){return e===a?s:new n((o.call(e,0)|o.call(e,1)<<8|o.call(e,2)<<16|o.call(e,3)<<24)>>>0,(o.call(e,4)|o.call(e,5)<<8|o.call(e,6)<<16|o.call(e,7)<<24)>>>0)},n.prototype.toHash=function(){return String.fromCharCode(this.lo&255,this.lo>>>8&255,this.lo>>>16&255,this.lo>>>24,this.hi&255,this.hi>>>8&255,this.hi>>>16&255,this.hi>>>24)},n.prototype.zzEncode=function(){var e=this.hi>>31;return this.hi=((this.hi<<1|this.lo>>>31)^e)>>>0,this.lo=(this.lo<<1^e)>>>0,this},n.prototype.zzDecode=function(){var e=-(this.lo&1);return this.lo=((this.lo>>>1|this.hi<<31)^e)>>>0,this.hi=(this.hi>>>1^e)>>>0,this},n.prototype.length=function(){var e=this.lo,r=(this.lo>>>28|this.hi<<4)>>>0,d=this.hi>>>24;return d===0?r===0?e<16384?e<128?1:2:e<2097152?3:4:r<16384?r<128?5:6:r<2097152?7:8:d<128?9:10},longbits}var hasRequiredMinimal$1;function requireMinimal$1(){return hasRequiredMinimal$1||(hasRequiredMinimal$1=1,(function(c){var n=c;n.asPromise=requireAspromise(),n.base64=requireBase64(),n.EventEmitter=requireEventemitter(),n.float=requireFloat(),n.inquire=requireInquire(),n.utf8=requireUtf8(),n.pool=requirePool(),n.LongBits=requireLongbits(),n.isNode=!!(typeof commonjsGlobal<"u"&&commonjsGlobal&&commonjsGlobal.process&&commonjsGlobal.process.versions&&commonjsGlobal.process.versions.node),n.global=n.isNode&&commonjsGlobal||typeof window<"u"&&window||typeof self<"u"&&self||minimal$1,n.emptyArray=Object.freeze?Object.freeze([]):[],n.emptyObject=Object.freeze?Object.freeze({}):{},n.isInteger=Number.isInteger||function(t){return typeof t=="number"&&isFinite(t)&&Math.floor(t)===t},n.isString=function(t){return typeof t=="string"||t instanceof String},n.isObject=function(t){return t&&typeof t=="object"},n.isset=n.isSet=function(t,e){var r=t[e];return r!=null&&t.hasOwnProperty(e)?typeof r!="object"||(Array.isArray(r)?r.length:Object.keys(r).length)>0:!1},n.Buffer=(function(){try{var o=n.inquire("buffer").Buffer;return o.prototype.utf8Write?o:null}catch{return null}})(),n._Buffer_from=null,n._Buffer_allocUnsafe=null,n.newBuffer=function(t){return typeof t=="number"?n.Buffer?n._Buffer_allocUnsafe(t):new n.Array(t):n.Buffer?n._Buffer_from(t):typeof Uint8Array>"u"?t:new Uint8Array(t)},n.Array=typeof Uint8Array<"u"?Uint8Array:Array,n.Long=n.global.dcodeIO&&n.global.dcodeIO.Long||n.global.Long||n.inquire("long"),n.key2Re=/^true|false|0|1$/,n.key32Re=/^-?(?:0|[1-9][0-9]*)$/,n.key64Re=/^(?:[\\x00-\\xff]{8}|-?(?:0|[1-9][0-9]*))$/,n.longToHash=function(t){return t?n.LongBits.from(t).toHash():n.LongBits.zeroHash},n.longFromHash=function(t,e){var r=n.LongBits.fromHash(t);return n.Long?n.Long.fromBits(r.lo,r.hi,e):r.toNumber(!!e)};function s(o,t,e){for(var r=Object.keys(t),d=0;d<r.length;++d)(o[r[d]]===void 0||!e)&&(o[r[d]]=t[r[d]]);return o}n.merge=s,n.lcFirst=function(t){return t.charAt(0).toLowerCase()+t.substring(1)};function a(o){function t(e,r){if(!(this instanceof t))return new t(e,r);Object.defineProperty(this,"message",{get:function(){return e}}),Error.captureStackTrace?Error.captureStackTrace(this,t):Object.defineProperty(this,"stack",{value:new Error().stack||""}),r&&s(this,r)}return t.prototype=Object.create(Error.prototype,{constructor:{value:t,writable:!0,enumerable:!1,configurable:!0},name:{get:function(){return o},set:void 0,enumerable:!1,configurable:!0},toString:{value:function(){return this.name+": "+this.message},writable:!0,enumerable:!1,configurable:!0}}),t}n.newError=a,n.ProtocolError=a("ProtocolError"),n.oneOfGetter=function(t){for(var e={},r=0;r<t.length;++r)e[t[r]]=1;return function(){for(var d=Object.keys(this),u=d.length-1;u>-1;--u)if(e[d[u]]===1&&this[d[u]]!==void 0&&this[d[u]]!==null)return d[u]}},n.oneOfSetter=function(t){return function(e){for(var r=0;r<t.length;++r)t[r]!==e&&delete this[t[r]]}},n.toJSONOptions={longs:String,enums:String,bytes:String,json:!0},n._configure=function(){var o=n.Buffer;if(!o){n._Buffer_from=n._Buffer_allocUnsafe=null;return}n._Buffer_from=o.from!==Uint8Array.from&&o.from||function(e,r){return new o(e,r)},n._Buffer_allocUnsafe=o.allocUnsafe||function(e){return new o(e)}}})(minimal$1)),minimal$1}var writer,hasRequiredWriter;function requireWriter(){if(hasRequiredWriter)return writer;hasRequiredWriter=1,writer=d;var c=requireMinimal$1(),n,s=c.LongBits,a=c.base64,o=c.utf8;function t(T,w,I){this.fn=T,this.len=w,this.next=void 0,this.val=I}function e(){}function r(T){this.head=T.head,this.tail=T.tail,this.len=T.len,this.next=T.states}function d(){this.len=0,this.head=new t(e,0,0),this.tail=this.head,this.states=null}var u=function(){return c.Buffer?function(){return(d.create=function(){return new n})()}:function(){return new d}};d.create=u(),d.alloc=function(w){return new c.Array(w)},c.Array!==Array&&(d.alloc=c.pool(d.alloc,c.Array.prototype.subarray)),d.prototype._push=function(w,I,O){return this.tail=this.tail.next=new t(w,I,O),this.len+=I,this};function l(T,w,I){w[I]=T&255}function m(T,w,I){for(;T>127;)w[I++]=T&127|128,T>>>=7;w[I]=T}function h(T,w){this.len=T,this.next=void 0,this.val=w}h.prototype=Object.create(t.prototype),h.prototype.fn=m,d.prototype.uint32=function(w){return this.len+=(this.tail=this.tail.next=new h((w=w>>>0)<128?1:w<16384?2:w<2097152?3:w<268435456?4:5,w)).len,this},d.prototype.int32=function(w){return w<0?this._push(g,10,s.fromNumber(w)):this.uint32(w)},d.prototype.sint32=function(w){return this.uint32((w<<1^w>>31)>>>0)};function g(T,w,I){for(;T.hi;)w[I++]=T.lo&127|128,T.lo=(T.lo>>>7|T.hi<<25)>>>0,T.hi>>>=7;for(;T.lo>127;)w[I++]=T.lo&127|128,T.lo=T.lo>>>7;w[I++]=T.lo}d.prototype.uint64=function(w){var I=s.from(w);return this._push(g,I.length(),I)},d.prototype.int64=d.prototype.uint64,d.prototype.sint64=function(w){var I=s.from(w).zzEncode();return this._push(g,I.length(),I)},d.prototype.bool=function(w){return this._push(l,1,w?1:0)};function y(T,w,I){w[I]=T&255,w[I+1]=T>>>8&255,w[I+2]=T>>>16&255,w[I+3]=T>>>24}d.prototype.fixed32=function(w){return this._push(y,4,w>>>0)},d.prototype.sfixed32=d.prototype.fixed32,d.prototype.fixed64=function(w){var I=s.from(w);return this._push(y,4,I.lo)._push(y,4,I.hi)},d.prototype.sfixed64=d.prototype.fixed64,d.prototype.float=function(w){return this._push(c.float.writeFloatLE,4,w)},d.prototype.double=function(w){return this._push(c.float.writeDoubleLE,8,w)};var S=c.Array.prototype.set?function(w,I,O){I.set(w,O)}:function(w,I,O){for(var C=0;C<w.length;++C)I[O+C]=w[C]};return d.prototype.bytes=function(w){var I=w.length>>>0;if(!I)return this._push(l,1,0);if(c.isString(w)){var O=d.alloc(I=a.length(w));a.decode(w,O,0),w=O}return this.uint32(I)._push(S,I,w)},d.prototype.string=function(w){var I=o.length(w);return I?this.uint32(I)._push(o.write,I,w):this._push(l,1,0)},d.prototype.fork=function(){return this.states=new r(this),this.head=this.tail=new t(e,0,0),this.len=0,this},d.prototype.reset=function(){return this.states?(this.head=this.states.head,this.tail=this.states.tail,this.len=this.states.len,this.states=this.states.next):(this.head=this.tail=new t(e,0,0),this.len=0),this},d.prototype.ldelim=function(){var w=this.head,I=this.tail,O=this.len;return this.reset().uint32(O),O&&(this.tail.next=w.next,this.tail=I,this.len+=O),this},d.prototype.finish=function(){for(var w=this.head.next,I=this.constructor.alloc(this.len),O=0;w;)w.fn(w.val,I,O),O+=w.len,w=w.next;return I},d._configure=function(T){n=T,d.create=u(),n._configure()},writer}var writer_buffer,hasRequiredWriter_buffer;function requireWriter_buffer(){if(hasRequiredWriter_buffer)return writer_buffer;hasRequiredWriter_buffer=1,writer_buffer=s;var c=requireWriter();(s.prototype=Object.create(c.prototype)).constructor=s;var n=requireMinimal$1();function s(){c.call(this)}s._configure=function(){s.alloc=n._Buffer_allocUnsafe,s.writeBytesBuffer=n.Buffer&&n.Buffer.prototype instanceof Uint8Array&&n.Buffer.prototype.set.name==="set"?function(t,e,r){e.set(t,r)}:function(t,e,r){if(t.copy)t.copy(e,r,0,t.length);else for(var d=0;d<t.length;)e[r++]=t[d++]}},s.prototype.bytes=function(t){n.isString(t)&&(t=n._Buffer_from(t,"base64"));var e=t.length>>>0;return this.uint32(e),e&&this._push(s.writeBytesBuffer,e,t),this};function a(o,t,e){o.length<40?n.utf8.write(o,t,e):t.utf8Write?t.utf8Write(o,e):t.write(o,e)}return s.prototype.string=function(t){var e=n.Buffer.byteLength(t);return this.uint32(e),e&&this._push(a,e,t),this},s._configure(),writer_buffer}var reader,hasRequiredReader;function requireReader(){if(hasRequiredReader)return reader;hasRequiredReader=1,reader=t;var c=requireMinimal$1(),n,s=c.LongBits,a=c.utf8;function o(m,h){return RangeError("index out of range: "+m.pos+" + "+(h||1)+" > "+m.len)}function t(m){this.buf=m,this.pos=0,this.len=m.length}var e=typeof Uint8Array<"u"?function(h){if(h instanceof Uint8Array||Array.isArray(h))return new t(h);throw Error("illegal buffer")}:function(h){if(Array.isArray(h))return new t(h);throw Error("illegal buffer")},r=function(){return c.Buffer?function(g){return(t.create=function(S){return c.Buffer.isBuffer(S)?new n(S):e(S)})(g)}:e};t.create=r(),t.prototype._slice=c.Array.prototype.subarray||c.Array.prototype.slice,t.prototype.uint32=(function(){var h=4294967295;return function(){if(h=(this.buf[this.pos]&127)>>>0,this.buf[this.pos++]<128||(h=(h|(this.buf[this.pos]&127)<<7)>>>0,this.buf[this.pos++]<128)||(h=(h|(this.buf[this.pos]&127)<<14)>>>0,this.buf[this.pos++]<128)||(h=(h|(this.buf[this.pos]&127)<<21)>>>0,this.buf[this.pos++]<128)||(h=(h|(this.buf[this.pos]&15)<<28)>>>0,this.buf[this.pos++]<128))return h;if((this.pos+=5)>this.len)throw this.pos=this.len,o(this,10);return h}})(),t.prototype.int32=function(){return this.uint32()|0},t.prototype.sint32=function(){var h=this.uint32();return h>>>1^-(h&1)|0};function d(){var m=new s(0,0),h=0;if(this.len-this.pos>4){for(;h<4;++h)if(m.lo=(m.lo|(this.buf[this.pos]&127)<<h*7)>>>0,this.buf[this.pos++]<128)return m;if(m.lo=(m.lo|(this.buf[this.pos]&127)<<28)>>>0,m.hi=(m.hi|(this.buf[this.pos]&127)>>4)>>>0,this.buf[this.pos++]<128)return m;h=0}else{for(;h<3;++h){if(this.pos>=this.len)throw o(this);if(m.lo=(m.lo|(this.buf[this.pos]&127)<<h*7)>>>0,this.buf[this.pos++]<128)return m}return m.lo=(m.lo|(this.buf[this.pos++]&127)<<h*7)>>>0,m}if(this.len-this.pos>4){for(;h<5;++h)if(m.hi=(m.hi|(this.buf[this.pos]&127)<<h*7+3)>>>0,this.buf[this.pos++]<128)return m}else for(;h<5;++h){if(this.pos>=this.len)throw o(this);if(m.hi=(m.hi|(this.buf[this.pos]&127)<<h*7+3)>>>0,this.buf[this.pos++]<128)return m}throw Error("invalid varint encoding")}t.prototype.bool=function(){return this.uint32()!==0};function u(m,h){return(m[h-4]|m[h-3]<<8|m[h-2]<<16|m[h-1]<<24)>>>0}t.prototype.fixed32=function(){if(this.pos+4>this.len)throw o(this,4);return u(this.buf,this.pos+=4)},t.prototype.sfixed32=function(){if(this.pos+4>this.len)throw o(this,4);return u(this.buf,this.pos+=4)|0};function l(){if(this.pos+8>this.len)throw o(this,8);return new s(u(this.buf,this.pos+=4),u(this.buf,this.pos+=4))}return t.prototype.float=function(){if(this.pos+4>this.len)throw o(this,4);var h=c.float.readFloatLE(this.buf,this.pos);return this.pos+=4,h},t.prototype.double=function(){if(this.pos+8>this.len)throw o(this,4);var h=c.float.readDoubleLE(this.buf,this.pos);return this.pos+=8,h},t.prototype.bytes=function(){var h=this.uint32(),g=this.pos,y=this.pos+h;if(y>this.len)throw o(this,h);if(this.pos+=h,Array.isArray(this.buf))return this.buf.slice(g,y);if(g===y){var S=c.Buffer;return S?S.alloc(0):new this.buf.constructor(0)}return this._slice.call(this.buf,g,y)},t.prototype.string=function(){var h=this.bytes();return a.read(h,0,h.length)},t.prototype.skip=function(h){if(typeof h=="number"){if(this.pos+h>this.len)throw o(this,h);this.pos+=h}else do if(this.pos>=this.len)throw o(this);while(this.buf[this.pos++]&128);return this},t.prototype.skipType=function(m){switch(m){case 0:this.skip();break;case 1:this.skip(8);break;case 2:this.skip(this.uint32());break;case 3:for(;(m=this.uint32()&7)!==4;)this.skipType(m);break;case 5:this.skip(4);break;default:throw Error("invalid wire type "+m+" at offset "+this.pos)}return this},t._configure=function(m){n=m,t.create=r(),n._configure();var h=c.Long?"toLong":"toNumber";c.merge(t.prototype,{int64:function(){return d.call(this)[h](!1)},uint64:function(){return d.call(this)[h](!0)},sint64:function(){return d.call(this).zzDecode()[h](!1)},fixed64:function(){return l.call(this)[h](!0)},sfixed64:function(){return l.call(this)[h](!1)}})},reader}var reader_buffer,hasRequiredReader_buffer;function requireReader_buffer(){if(hasRequiredReader_buffer)return reader_buffer;hasRequiredReader_buffer=1,reader_buffer=s;var c=requireReader();(s.prototype=Object.create(c.prototype)).constructor=s;var n=requireMinimal$1();function s(a){c.call(this,a)}return s._configure=function(){n.Buffer&&(s.prototype._slice=n.Buffer.prototype.slice)},s.prototype.string=function(){var o=this.uint32();return this.buf.utf8Slice?this.buf.utf8Slice(this.pos,this.pos=Math.min(this.pos+o,this.len)):this.buf.toString("utf-8",this.pos,this.pos=Math.min(this.pos+o,this.len))},s._configure(),reader_buffer}var rpc={},service,hasRequiredService;function requireService(){if(hasRequiredService)return service;hasRequiredService=1,service=n;var c=requireMinimal$1();(n.prototype=Object.create(c.EventEmitter.prototype)).constructor=n;function n(s,a,o){if(typeof s!="function")throw TypeError("rpcImpl must be a function");c.EventEmitter.call(this),this.rpcImpl=s,this.requestDelimited=!!a,this.responseDelimited=!!o}return n.prototype.rpcCall=function s(a,o,t,e,r){if(!e)throw TypeError("request must be specified");var d=this;if(!r)return c.asPromise(s,d,a,o,t,e);if(!d.rpcImpl){setTimeout(function(){r(Error("already ended"))},0);return}try{return d.rpcImpl(a,o[d.requestDelimited?"encodeDelimited":"encode"](e).finish(),function(l,m){if(l)return d.emit("error",l,a),r(l);if(m===null){d.end(!0);return}if(!(m instanceof t))try{m=t[d.responseDelimited?"decodeDelimited":"decode"](m)}catch(h){return d.emit("error",h,a),r(h)}return d.emit("data",m,a),r(null,m)})}catch(u){d.emit("error",u,a),setTimeout(function(){r(u)},0);return}},n.prototype.end=function(a){return this.rpcImpl&&(a||this.rpcImpl(null,null,null),this.rpcImpl=null,this.emit("end").off()),this},service}var hasRequiredRpc;function requireRpc(){return hasRequiredRpc||(hasRequiredRpc=1,(function(c){var n=c;n.Service=requireService()})(rpc)),rpc}var roots,hasRequiredRoots;function requireRoots(){return hasRequiredRoots||(hasRequiredRoots=1,roots={}),roots}var hasRequiredIndexMinimal;function requireIndexMinimal(){return hasRequiredIndexMinimal||(hasRequiredIndexMinimal=1,(function(c){var n=c;n.build="minimal",n.Writer=requireWriter(),n.BufferWriter=requireWriter_buffer(),n.Reader=requireReader(),n.BufferReader=requireReader_buffer(),n.util=requireMinimal$1(),n.rpc=requireRpc(),n.roots=requireRoots(),n.configure=s;function s(){n.util._configure(),n.Writer._configure(n.BufferWriter),n.Reader._configure(n.BufferReader)}s()})(indexMinimal)),indexMinimal}var minimal,hasRequiredMinimal;function requireMinimal(){return hasRequiredMinimal||(hasRequiredMinimal=1,minimal=requireIndexMinimal()),minimal}var minimalExports=requireMinimal(),_0x19253a=getDefaultExportFromCjs(minimalExports);const messages=(()=>{var c=_0x19253a.Reader,n=_0x19253a.Writer,s=_0x19253a.util,a=_0x19253a.roots.default||(_0x19253a.roots.default={});return a.OperationMetadataDescriptor=(function(){function o(t){if(t)for(var e=Object.keys(t),r=0;r<e.length;++r)t[e[r]]!=null&&(this[e[r]]=t[e[r]])}return o.prototype.userId="",o.prototype.type="",o.prototype.createdAt="",o.create=function(t){return new o(t)},o.encode=function(t,e){return e||(e=n.create()),t.userId!=null&&Object.hasOwnProperty.call(t,"userId")&&e.uint32(10).string(t.userId),t.type!=null&&Object.hasOwnProperty.call(t,"type")&&e.uint32(18).string(t.type),t.createdAt!=null&&Object.hasOwnProperty.call(t,"createdAt")&&e.uint32(26).string(t.createdAt),e},o.encodeDelimited=function(t,e){return this.encode(t,e).ldelim()},o.decode=function(t,e,r){t instanceof c||(t=c.create(t));for(var d=e===void 0?t.len:t.pos+e,u=new a.OperationMetadataDescriptor;t.pos<d;){var l=t.uint32();if(l===r)break;switch(l>>>3){case 1:u.userId=t.string();break;case 2:u.type=t.string();break;case 3:u.createdAt=t.string();break;default:t.skipType(7&l)}}return u},o.decodeDelimited=function(t){return t instanceof c||(t=new c(t)),this.decode(t,t.uint32())},o.verify=function(t){return typeof t!="object"||t===null?"object expected":t.userId!=null&&t.hasOwnProperty("userId")&&!s.isString(t.userId)?"userId: string expected":t.type!=null&&t.hasOwnProperty("type")&&!s.isString(t.type)?"type: string expected":t.createdAt!=null&&t.hasOwnProperty("createdAt")&&!s.isString(t.createdAt)?"createdAt: string expected":null},o.fromObject=function(t){if(t instanceof a.OperationMetadataDescriptor)return t;var e=new a.OperationMetadataDescriptor;return t.userId!=null&&(e.userId=String(t.userId)),t.type!=null&&(e.type=String(t.type)),t.createdAt!=null&&(e.createdAt=String(t.createdAt)),e},o.toObject=function(t,e){e||(e={});var r={};return e.defaults&&(r.userId="",r.type="",r.createdAt=""),t.userId!=null&&t.hasOwnProperty("userId")&&(r.userId=t.userId),t.type!=null&&t.hasOwnProperty("type")&&(r.type=t.type),t.createdAt!=null&&t.hasOwnProperty("createdAt")&&(r.createdAt=t.createdAt),r},o.prototype.toJSON=function(){return this.constructor.toObject(this,_0x19253a.util.toJSONOptions)},o.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/OperationMetadataDescriptor"},o})(),a.CollaborativeEditingConnectMessage=(function(){function o(t){if(this.buffers=[],this.types=[],t)for(var e=Object.keys(t),r=0;r<e.length;++r)t[e[r]]!=null&&(this[e[r]]=t[e[r]])}return o.prototype.id="",o.prototype.bundleVersion="",o.prototype.buffers=s.emptyArray,o.prototype.types=s.emptyArray,o.prototype.lastOperationId="",o.create=function(t){return new o(t)},o.encode=function(t,e){if(e||(e=n.create()),t.id!=null&&Object.hasOwnProperty.call(t,"id")&&e.uint32(10).string(t.id),t.bundleVersion!=null&&Object.hasOwnProperty.call(t,"bundleVersion")&&e.uint32(18).string(t.bundleVersion),t.buffers!=null&&t.buffers.length)for(var r=0;r<t.buffers.length;++r)e.uint32(26).bytes(t.buffers[r]);if(t.types!=null&&t.types.length){for(e.uint32(34).fork(),r=0;r<t.types.length;++r)e.uint32(t.types[r]);e.ldelim()}return t.lastOperationId!=null&&Object.hasOwnProperty.call(t,"lastOperationId")&&e.uint32(42).string(t.lastOperationId),e},o.encodeDelimited=function(t,e){return this.encode(t,e).ldelim()},o.decode=function(t,e,r){t instanceof c||(t=c.create(t));for(var d=e===void 0?t.len:t.pos+e,u=new a.CollaborativeEditingConnectMessage;t.pos<d;){var l=t.uint32();if(l===r)break;switch(l>>>3){case 1:u.id=t.string();break;case 2:u.bundleVersion=t.string();break;case 3:u.buffers&&u.buffers.length||(u.buffers=[]),u.buffers.push(t.bytes());break;case 4:if(u.types&&u.types.length||(u.types=[]),(7&l)==2)for(var m=t.uint32()+t.pos;t.pos<m;)u.types.push(t.uint32());else u.types.push(t.uint32());break;case 5:u.lastOperationId=t.string();break;default:t.skipType(7&l)}}return u},o.decodeDelimited=function(t){return t instanceof c||(t=new c(t)),this.decode(t,t.uint32())},o.verify=function(t){if(typeof t!="object"||t===null)return"object expected";if(t.id!=null&&t.hasOwnProperty("id")&&!s.isString(t.id))return"id: string expected";if(t.bundleVersion!=null&&t.hasOwnProperty("bundleVersion")&&!s.isString(t.bundleVersion))return"bundleVersion: string expected";if(t.buffers!=null&&t.hasOwnProperty("buffers")){if(!Array.isArray(t.buffers))return"buffers: array expected";for(var e=0;e<t.buffers.length;++e)if(!(t.buffers[e]&&typeof t.buffers[e].length=="number"||s.isString(t.buffers[e])))return"buffers: buffer[] expected"}if(t.types!=null&&t.hasOwnProperty("types")){if(!Array.isArray(t.types))return"types: array expected";for(e=0;e<t.types.length;++e)if(!s.isInteger(t.types[e]))return"types: integer[] expected"}return t.lastOperationId!=null&&t.hasOwnProperty("lastOperationId")&&!s.isString(t.lastOperationId)?"lastOperationId: string expected":null},o.fromObject=function(t){if(t instanceof a.CollaborativeEditingConnectMessage)return t;var e=new a.CollaborativeEditingConnectMessage;if(t.id!=null&&(e.id=String(t.id)),t.bundleVersion!=null&&(e.bundleVersion=String(t.bundleVersion)),t.buffers){if(!Array.isArray(t.buffers))throw TypeError(".CollaborativeEditingConnectMessage.buffers: array expected");e.buffers=[];for(var r=0;r<t.buffers.length;++r)typeof t.buffers[r]=="string"?s.base64.decode(t.buffers[r],e.buffers[r]=s.newBuffer(s.base64.length(t.buffers[r])),0):t.buffers[r].length>=0&&(e.buffers[r]=t.buffers[r])}if(t.types){if(!Array.isArray(t.types))throw TypeError(".CollaborativeEditingConnectMessage.types: array expected");for(e.types=[],r=0;r<t.types.length;++r)e.types[r]=t.types[r]>>>0}return t.lastOperationId!=null&&(e.lastOperationId=String(t.lastOperationId)),e},o.toObject=function(t,e){e||(e={});var r={};if((e.arrays||e.defaults)&&(r.buffers=[],r.types=[]),e.defaults&&(r.id="",r.bundleVersion="",r.lastOperationId=""),t.id!=null&&t.hasOwnProperty("id")&&(r.id=t.id),t.bundleVersion!=null&&t.hasOwnProperty("bundleVersion")&&(r.bundleVersion=t.bundleVersion),t.buffers&&t.buffers.length){r.buffers=[];for(var d=0;d<t.buffers.length;++d)r.buffers[d]=e.bytes===String?s.base64.encode(t.buffers[d],0,t.buffers[d].length):e.bytes===Array?Array.prototype.slice.call(t.buffers[d]):t.buffers[d]}if(t.types&&t.types.length)for(r.types=[],d=0;d<t.types.length;++d)r.types[d]=t.types[d];return t.lastOperationId!=null&&t.hasOwnProperty("lastOperationId")&&(r.lastOperationId=t.lastOperationId),r},o.prototype.toJSON=function(){return this.constructor.toObject(this,_0x19253a.util.toJSONOptions)},o.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/CollaborativeEditingConnectMessage"},o})(),a.CollaborativeEditingReconnectMessage=(function(){function o(t){if(t)for(var e=Object.keys(t),r=0;r<e.length;++r)t[e[r]]!=null&&(this[e[r]]=t[e[r]])}return o.prototype.id="",o.prototype.bundleVersion="",o.prototype.lastKnowVersion=0,o.create=function(t){return new o(t)},o.encode=function(t,e){return e||(e=n.create()),t.id!=null&&Object.hasOwnProperty.call(t,"id")&&e.uint32(10).string(t.id),t.bundleVersion!=null&&Object.hasOwnProperty.call(t,"bundleVersion")&&e.uint32(18).string(t.bundleVersion),t.lastKnowVersion!=null&&Object.hasOwnProperty.call(t,"lastKnowVersion")&&e.uint32(24).uint32(t.lastKnowVersion),e},o.encodeDelimited=function(t,e){return this.encode(t,e).ldelim()},o.decode=function(t,e,r){t instanceof c||(t=c.create(t));for(var d=e===void 0?t.len:t.pos+e,u=new a.CollaborativeEditingReconnectMessage;t.pos<d;){var l=t.uint32();if(l===r)break;switch(l>>>3){case 1:u.id=t.string();break;case 2:u.bundleVersion=t.string();break;case 3:u.lastKnowVersion=t.uint32();break;default:t.skipType(7&l)}}return u},o.decodeDelimited=function(t){return t instanceof c||(t=new c(t)),this.decode(t,t.uint32())},o.verify=function(t){return typeof t!="object"||t===null?"object expected":t.id!=null&&t.hasOwnProperty("id")&&!s.isString(t.id)?"id: string expected":t.bundleVersion!=null&&t.hasOwnProperty("bundleVersion")&&!s.isString(t.bundleVersion)?"bundleVersion: string expected":t.lastKnowVersion!=null&&t.hasOwnProperty("lastKnowVersion")&&!s.isInteger(t.lastKnowVersion)?"lastKnowVersion: integer expected":null},o.fromObject=function(t){if(t instanceof a.CollaborativeEditingReconnectMessage)return t;var e=new a.CollaborativeEditingReconnectMessage;return t.id!=null&&(e.id=String(t.id)),t.bundleVersion!=null&&(e.bundleVersion=String(t.bundleVersion)),t.lastKnowVersion!=null&&(e.lastKnowVersion=t.lastKnowVersion>>>0),e},o.toObject=function(t,e){e||(e={});var r={};return e.defaults&&(r.id="",r.bundleVersion="",r.lastKnowVersion=0),t.id!=null&&t.hasOwnProperty("id")&&(r.id=t.id),t.bundleVersion!=null&&t.hasOwnProperty("bundleVersion")&&(r.bundleVersion=t.bundleVersion),t.lastKnowVersion!=null&&t.hasOwnProperty("lastKnowVersion")&&(r.lastKnowVersion=t.lastKnowVersion),r},o.prototype.toJSON=function(){return this.constructor.toObject(this,_0x19253a.util.toJSONOptions)},o.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/CollaborativeEditingReconnectMessage"},o})(),a.CollaborativeEditingUpdateMessage=(function(){function o(t){if(this.buffers=[],this.types=[],this.metadata=[],t)for(var e=Object.keys(t),r=0;r<e.length;++r)t[e[r]]!=null&&(this[e[r]]=t[e[r]])}return o.prototype.id="",o.prototype.baseVersion=0,o.prototype.buffers=s.emptyArray,o.prototype.types=s.emptyArray,o.prototype.metadata=s.emptyArray,o.prototype.lastOperationId="",o.create=function(t){return new o(t)},o.encode=function(t,e){if(e||(e=n.create()),t.id!=null&&Object.hasOwnProperty.call(t,"id")&&e.uint32(10).string(t.id),t.baseVersion!=null&&Object.hasOwnProperty.call(t,"baseVersion")&&e.uint32(16).uint32(t.baseVersion),t.buffers!=null&&t.buffers.length)for(var r=0;r<t.buffers.length;++r)e.uint32(26).bytes(t.buffers[r]);if(t.types!=null&&t.types.length){for(e.uint32(34).fork(),r=0;r<t.types.length;++r)e.uint32(t.types[r]);e.ldelim()}if(t.metadata!=null&&t.metadata.length)for(r=0;r<t.metadata.length;++r)a.OperationMetadataDescriptor.encode(t.metadata[r],e.uint32(50).fork()).ldelim();return t.lastOperationId!=null&&Object.hasOwnProperty.call(t,"lastOperationId")&&e.uint32(58).string(t.lastOperationId),e},o.encodeDelimited=function(t,e){return this.encode(t,e).ldelim()},o.decode=function(t,e,r){t instanceof c||(t=c.create(t));for(var d=e===void 0?t.len:t.pos+e,u=new a.CollaborativeEditingUpdateMessage;t.pos<d;){var l=t.uint32();if(l===r)break;switch(l>>>3){case 1:u.id=t.string();break;case 2:u.baseVersion=t.uint32();break;case 3:u.buffers&&u.buffers.length||(u.buffers=[]),u.buffers.push(t.bytes());break;case 4:if(u.types&&u.types.length||(u.types=[]),(7&l)==2)for(var m=t.uint32()+t.pos;t.pos<m;)u.types.push(t.uint32());else u.types.push(t.uint32());break;case 6:u.metadata&&u.metadata.length||(u.metadata=[]),u.metadata.push(a.OperationMetadataDescriptor.decode(t,t.uint32()));break;case 7:u.lastOperationId=t.string();break;default:t.skipType(7&l)}}return u},o.decodeDelimited=function(t){return t instanceof c||(t=new c(t)),this.decode(t,t.uint32())},o.verify=function(t){if(typeof t!="object"||t===null)return"object expected";if(t.id!=null&&t.hasOwnProperty("id")&&!s.isString(t.id))return"id: string expected";if(t.baseVersion!=null&&t.hasOwnProperty("baseVersion")&&!s.isInteger(t.baseVersion))return"baseVersion: integer expected";if(t.buffers!=null&&t.hasOwnProperty("buffers")){if(!Array.isArray(t.buffers))return"buffers: array expected";for(var e=0;e<t.buffers.length;++e)if(!(t.buffers[e]&&typeof t.buffers[e].length=="number"||s.isString(t.buffers[e])))return"buffers: buffer[] expected"}if(t.types!=null&&t.hasOwnProperty("types")){if(!Array.isArray(t.types))return"types: array expected";for(e=0;e<t.types.length;++e)if(!s.isInteger(t.types[e]))return"types: integer[] expected"}if(t.metadata!=null&&t.hasOwnProperty("metadata")){if(!Array.isArray(t.metadata))return"metadata: array expected";for(e=0;e<t.metadata.length;++e){var r=a.OperationMetadataDescriptor.verify(t.metadata[e]);if(r)return"metadata."+r}}return t.lastOperationId!=null&&t.hasOwnProperty("lastOperationId")&&!s.isString(t.lastOperationId)?"lastOperationId: string expected":null},o.fromObject=function(t){if(t instanceof a.CollaborativeEditingUpdateMessage)return t;var e=new a.CollaborativeEditingUpdateMessage;if(t.id!=null&&(e.id=String(t.id)),t.baseVersion!=null&&(e.baseVersion=t.baseVersion>>>0),t.buffers){if(!Array.isArray(t.buffers))throw TypeError(".CollaborativeEditingUpdateMessage.buffers: array expected");e.buffers=[];for(var r=0;r<t.buffers.length;++r)typeof t.buffers[r]=="string"?s.base64.decode(t.buffers[r],e.buffers[r]=s.newBuffer(s.base64.length(t.buffers[r])),0):t.buffers[r].length>=0&&(e.buffers[r]=t.buffers[r])}if(t.types){if(!Array.isArray(t.types))throw TypeError(".CollaborativeEditingUpdateMessage.types: array expected");for(e.types=[],r=0;r<t.types.length;++r)e.types[r]=t.types[r]>>>0}if(t.metadata){if(!Array.isArray(t.metadata))throw TypeError(".CollaborativeEditingUpdateMessage.metadata: array expected");for(e.metadata=[],r=0;r<t.metadata.length;++r){if(typeof t.metadata[r]!="object")throw TypeError(".CollaborativeEditingUpdateMessage.metadata: object expected");e.metadata[r]=a.OperationMetadataDescriptor.fromObject(t.metadata[r])}}return t.lastOperationId!=null&&(e.lastOperationId=String(t.lastOperationId)),e},o.toObject=function(t,e){e||(e={});var r={};if((e.arrays||e.defaults)&&(r.buffers=[],r.types=[],r.metadata=[]),e.defaults&&(r.id="",r.baseVersion=0,r.lastOperationId=""),t.id!=null&&t.hasOwnProperty("id")&&(r.id=t.id),t.baseVersion!=null&&t.hasOwnProperty("baseVersion")&&(r.baseVersion=t.baseVersion),t.buffers&&t.buffers.length){r.buffers=[];for(var d=0;d<t.buffers.length;++d)r.buffers[d]=e.bytes===String?s.base64.encode(t.buffers[d],0,t.buffers[d].length):e.bytes===Array?Array.prototype.slice.call(t.buffers[d]):t.buffers[d]}if(t.types&&t.types.length)for(r.types=[],d=0;d<t.types.length;++d)r.types[d]=t.types[d];if(t.metadata&&t.metadata.length)for(r.metadata=[],d=0;d<t.metadata.length;++d)r.metadata[d]=a.OperationMetadataDescriptor.toObject(t.metadata[d],e);return t.lastOperationId!=null&&t.hasOwnProperty("lastOperationId")&&(r.lastOperationId=t.lastOperationId),r},o.prototype.toJSON=function(){return this.constructor.toObject(this,_0x19253a.util.toJSONOptions)},o.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/CollaborativeEditingUpdateMessage"},o})(),a.GetDocumentDetailsMessage=(function(){function o(t){if(t)for(var e=Object.keys(t),r=0;r<e.length;++r)t[e[r]]!=null&&(this[e[r]]=t[e[r]])}return o.prototype.documentId="",o.prototype.environmentId="",o.create=function(t){return new o(t)},o.encode=function(t,e){return e||(e=n.create()),t.documentId!=null&&Object.hasOwnProperty.call(t,"documentId")&&e.uint32(10).string(t.documentId),t.environmentId!=null&&Object.hasOwnProperty.call(t,"environmentId")&&e.uint32(18).string(t.environmentId),e},o.encodeDelimited=function(t,e){return this.encode(t,e).ldelim()},o.decode=function(t,e,r){t instanceof c||(t=c.create(t));for(var d=e===void 0?t.len:t.pos+e,u=new a.GetDocumentDetailsMessage;t.pos<d;){var l=t.uint32();if(l===r)break;switch(l>>>3){case 1:u.documentId=t.string();break;case 2:u.environmentId=t.string();break;default:t.skipType(7&l)}}return u},o.decodeDelimited=function(t){return t instanceof c||(t=new c(t)),this.decode(t,t.uint32())},o.verify=function(t){return typeof t!="object"||t===null?"object expected":t.documentId!=null&&t.hasOwnProperty("documentId")&&!s.isString(t.documentId)?"documentId: string expected":t.environmentId!=null&&t.hasOwnProperty("environmentId")&&!s.isString(t.environmentId)?"environmentId: string expected":null},o.fromObject=function(t){if(t instanceof a.GetDocumentDetailsMessage)return t;var e=new a.GetDocumentDetailsMessage;return t.documentId!=null&&(e.documentId=String(t.documentId)),t.environmentId!=null&&(e.environmentId=String(t.environmentId)),e},o.toObject=function(t,e){e||(e={});var r={};return e.defaults&&(r.documentId="",r.environmentId=""),t.documentId!=null&&t.hasOwnProperty("documentId")&&(r.documentId=t.documentId),t.environmentId!=null&&t.hasOwnProperty("environmentId")&&(r.environmentId=t.environmentId),r},o.prototype.toJSON=function(){return this.constructor.toObject(this,_0x19253a.util.toJSONOptions)},o.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/GetDocumentDetailsMessage"},o})(),a.CollaborativeEditingConnectResponse=(function(){function o(t){if(this.buffers=[],this.types=[],this.metadata=[],t)for(var e=Object.keys(t),r=0;r<e.length;++r)t[e[r]]!=null&&(this[e[r]]=t[e[r]])}return o.prototype.channel="",o.prototype.offset=0,o.prototype.version=0,o.prototype.buffers=s.emptyArray,o.prototype.types=s.emptyArray,o.prototype.metadata=s.emptyArray,o.prototype.initData="",o.prototype.isInitialized=!1,o.prototype.sessionId="",o.prototype.lastOperationId="",o.prototype.sessionCreatedAt="",o.create=function(t){return new o(t)},o.encode=function(t,e){if(e||(e=n.create()),t.channel!=null&&Object.hasOwnProperty.call(t,"channel")&&e.uint32(10).string(t.channel),t.offset!=null&&Object.hasOwnProperty.call(t,"offset")&&e.uint32(16).uint32(t.offset),t.version!=null&&Object.hasOwnProperty.call(t,"version")&&e.uint32(24).uint32(t.version),t.buffers!=null&&t.buffers.length)for(var r=0;r<t.buffers.length;++r)e.uint32(34).bytes(t.buffers[r]);if(t.types!=null&&t.types.length){for(e.uint32(42).fork(),r=0;r<t.types.length;++r)e.uint32(t.types[r]);e.ldelim()}if(t.metadata!=null&&t.metadata.length)for(r=0;r<t.metadata.length;++r)a.OperationMetadataDescriptor.encode(t.metadata[r],e.uint32(58).fork()).ldelim();return t.initData!=null&&Object.hasOwnProperty.call(t,"initData")&&e.uint32(66).string(t.initData),t.isInitialized!=null&&Object.hasOwnProperty.call(t,"isInitialized")&&e.uint32(72).bool(t.isInitialized),t.sessionId!=null&&Object.hasOwnProperty.call(t,"sessionId")&&e.uint32(82).string(t.sessionId),t.lastOperationId!=null&&Object.hasOwnProperty.call(t,"lastOperationId")&&e.uint32(90).string(t.lastOperationId),t.sessionCreatedAt!=null&&Object.hasOwnProperty.call(t,"sessionCreatedAt")&&e.uint32(98).string(t.sessionCreatedAt),e},o.encodeDelimited=function(t,e){return this.encode(t,e).ldelim()},o.decode=function(t,e,r){t instanceof c||(t=c.create(t));for(var d=e===void 0?t.len:t.pos+e,u=new a.CollaborativeEditingConnectResponse;t.pos<d;){var l=t.uint32();if(l===r)break;switch(l>>>3){case 1:u.channel=t.string();break;case 2:u.offset=t.uint32();break;case 3:u.version=t.uint32();break;case 4:u.buffers&&u.buffers.length||(u.buffers=[]),u.buffers.push(t.bytes());break;case 5:if(u.types&&u.types.length||(u.types=[]),(7&l)==2)for(var m=t.uint32()+t.pos;t.pos<m;)u.types.push(t.uint32());else u.types.push(t.uint32());break;case 7:u.metadata&&u.metadata.length||(u.metadata=[]),u.metadata.push(a.OperationMetadataDescriptor.decode(t,t.uint32()));break;case 8:u.initData=t.string();break;case 9:u.isInitialized=t.bool();break;case 10:u.sessionId=t.string();break;case 11:u.lastOperationId=t.string();break;case 12:u.sessionCreatedAt=t.string();break;default:t.skipType(7&l)}}return u},o.decodeDelimited=function(t){return t instanceof c||(t=new c(t)),this.decode(t,t.uint32())},o.verify=function(t){if(typeof t!="object"||t===null)return"object expected";if(t.channel!=null&&t.hasOwnProperty("channel")&&!s.isString(t.channel))return"channel: string expected";if(t.offset!=null&&t.hasOwnProperty("offset")&&!s.isInteger(t.offset))return"offset: integer expected";if(t.version!=null&&t.hasOwnProperty("version")&&!s.isInteger(t.version))return"version: integer expected";if(t.buffers!=null&&t.hasOwnProperty("buffers")){if(!Array.isArray(t.buffers))return"buffers: array expected";for(var e=0;e<t.buffers.length;++e)if(!(t.buffers[e]&&typeof t.buffers[e].length=="number"||s.isString(t.buffers[e])))return"buffers: buffer[] expected"}if(t.types!=null&&t.hasOwnProperty("types")){if(!Array.isArray(t.types))return"types: array expected";for(e=0;e<t.types.length;++e)if(!s.isInteger(t.types[e]))return"types: integer[] expected"}if(t.metadata!=null&&t.hasOwnProperty("metadata")){if(!Array.isArray(t.metadata))return"metadata: array expected";for(e=0;e<t.metadata.length;++e){var r=a.OperationMetadataDescriptor.verify(t.metadata[e]);if(r)return"metadata."+r}}return t.initData!=null&&t.hasOwnProperty("initData")&&!s.isString(t.initData)?"initData: string expected":t.isInitialized!=null&&t.hasOwnProperty("isInitialized")&&typeof t.isInitialized!="boolean"?"isInitialized: boolean expected":t.sessionId!=null&&t.hasOwnProperty("sessionId")&&!s.isString(t.sessionId)?"sessionId: string expected":t.lastOperationId!=null&&t.hasOwnProperty("lastOperationId")&&!s.isString(t.lastOperationId)?"lastOperationId: string expected":t.sessionCreatedAt!=null&&t.hasOwnProperty("sessionCreatedAt")&&!s.isString(t.sessionCreatedAt)?"sessionCreatedAt: string expected":null},o.fromObject=function(t){if(t instanceof a.CollaborativeEditingConnectResponse)return t;var e=new a.CollaborativeEditingConnectResponse;if(t.channel!=null&&(e.channel=String(t.channel)),t.offset!=null&&(e.offset=t.offset>>>0),t.version!=null&&(e.version=t.version>>>0),t.buffers){if(!Array.isArray(t.buffers))throw TypeError(".CollaborativeEditingConnectResponse.buffers: array expected");e.buffers=[];for(var r=0;r<t.buffers.length;++r)typeof t.buffers[r]=="string"?s.base64.decode(t.buffers[r],e.buffers[r]=s.newBuffer(s.base64.length(t.buffers[r])),0):t.buffers[r].length>=0&&(e.buffers[r]=t.buffers[r])}if(t.types){if(!Array.isArray(t.types))throw TypeError(".CollaborativeEditingConnectResponse.types: array expected");for(e.types=[],r=0;r<t.types.length;++r)e.types[r]=t.types[r]>>>0}if(t.metadata){if(!Array.isArray(t.metadata))throw TypeError(".CollaborativeEditingConnectResponse.metadata: array expected");for(e.metadata=[],r=0;r<t.metadata.length;++r){if(typeof t.metadata[r]!="object")throw TypeError(".CollaborativeEditingConnectResponse.metadata: object expected");e.metadata[r]=a.OperationMetadataDescriptor.fromObject(t.metadata[r])}}return t.initData!=null&&(e.initData=String(t.initData)),t.isInitialized!=null&&(e.isInitialized=!!t.isInitialized),t.sessionId!=null&&(e.sessionId=String(t.sessionId)),t.lastOperationId!=null&&(e.lastOperationId=String(t.lastOperationId)),t.sessionCreatedAt!=null&&(e.sessionCreatedAt=String(t.sessionCreatedAt)),e},o.toObject=function(t,e){e||(e={});var r={};if((e.arrays||e.defaults)&&(r.buffers=[],r.types=[],r.metadata=[]),e.defaults&&(r.channel="",r.offset=0,r.version=0,r.initData="",r.isInitialized=!1,r.sessionId="",r.lastOperationId="",r.sessionCreatedAt=""),t.channel!=null&&t.hasOwnProperty("channel")&&(r.channel=t.channel),t.offset!=null&&t.hasOwnProperty("offset")&&(r.offset=t.offset),t.version!=null&&t.hasOwnProperty("version")&&(r.version=t.version),t.buffers&&t.buffers.length){r.buffers=[];for(var d=0;d<t.buffers.length;++d)r.buffers[d]=e.bytes===String?s.base64.encode(t.buffers[d],0,t.buffers[d].length):e.bytes===Array?Array.prototype.slice.call(t.buffers[d]):t.buffers[d]}if(t.types&&t.types.length)for(r.types=[],d=0;d<t.types.length;++d)r.types[d]=t.types[d];if(t.metadata&&t.metadata.length)for(r.metadata=[],d=0;d<t.metadata.length;++d)r.metadata[d]=a.OperationMetadataDescriptor.toObject(t.metadata[d],e);return t.initData!=null&&t.hasOwnProperty("initData")&&(r.initData=t.initData),t.isInitialized!=null&&t.hasOwnProperty("isInitialized")&&(r.isInitialized=t.isInitialized),t.sessionId!=null&&t.hasOwnProperty("sessionId")&&(r.sessionId=t.sessionId),t.lastOperationId!=null&&t.hasOwnProperty("lastOperationId")&&(r.lastOperationId=t.lastOperationId),t.sessionCreatedAt!=null&&t.hasOwnProperty("sessionCreatedAt")&&(r.sessionCreatedAt=t.sessionCreatedAt),r},o.prototype.toJSON=function(){return this.constructor.toObject(this,_0x19253a.util.toJSONOptions)},o.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/CollaborativeEditingConnectResponse"},o})(),a.CollaborativeEditingResponse=(function(){function o(t){if(this.buffers=[],this.types=[],this.metadata=[],t)for(var e=Object.keys(t),r=0;r<e.length;++r)t[e[r]]!=null&&(this[e[r]]=t[e[r]])}return o.prototype.version=0,o.prototype.buffers=s.emptyArray,o.prototype.types=s.emptyArray,o.prototype.metadata=s.emptyArray,o.prototype.lastOperationId="",o.prototype.lastOperationAcceptedAt="",o.create=function(t){return new o(t)},o.encode=function(t,e){if(e||(e=n.create()),t.version!=null&&Object.hasOwnProperty.call(t,"version")&&e.uint32(8).uint32(t.version),t.buffers!=null&&t.buffers.length)for(var r=0;r<t.buffers.length;++r)e.uint32(18).bytes(t.buffers[r]);if(t.types!=null&&t.types.length){for(e.uint32(26).fork(),r=0;r<t.types.length;++r)e.uint32(t.types[r]);e.ldelim()}if(t.metadata!=null&&t.metadata.length)for(r=0;r<t.metadata.length;++r)a.OperationMetadataDescriptor.encode(t.metadata[r],e.uint32(42).fork()).ldelim();return t.lastOperationId!=null&&Object.hasOwnProperty.call(t,"lastOperationId")&&e.uint32(50).string(t.lastOperationId),t.lastOperationAcceptedAt!=null&&Object.hasOwnProperty.call(t,"lastOperationAcceptedAt")&&e.uint32(58).string(t.lastOperationAcceptedAt),e},o.encodeDelimited=function(t,e){return this.encode(t,e).ldelim()},o.decode=function(t,e,r){t instanceof c||(t=c.create(t));for(var d=e===void 0?t.len:t.pos+e,u=new a.CollaborativeEditingResponse;t.pos<d;){var l=t.uint32();if(l===r)break;switch(l>>>3){case 1:u.version=t.uint32();break;case 2:u.buffers&&u.buffers.length||(u.buffers=[]),u.buffers.push(t.bytes());break;case 3:if(u.types&&u.types.length||(u.types=[]),(7&l)==2)for(var m=t.uint32()+t.pos;t.pos<m;)u.types.push(t.uint32());else u.types.push(t.uint32());break;case 5:u.metadata&&u.metadata.length||(u.metadata=[]),u.metadata.push(a.OperationMetadataDescriptor.decode(t,t.uint32()));break;case 6:u.lastOperationId=t.string();break;case 7:u.lastOperationAcceptedAt=t.string();break;default:t.skipType(7&l)}}return u},o.decodeDelimited=function(t){return t instanceof c||(t=new c(t)),this.decode(t,t.uint32())},o.verify=function(t){if(typeof t!="object"||t===null)return"object expected";if(t.version!=null&&t.hasOwnProperty("version")&&!s.isInteger(t.version))return"version: integer expected";if(t.buffers!=null&&t.hasOwnProperty("buffers")){if(!Array.isArray(t.buffers))return"buffers: array expected";for(var e=0;e<t.buffers.length;++e)if(!(t.buffers[e]&&typeof t.buffers[e].length=="number"||s.isString(t.buffers[e])))return"buffers: buffer[] expected"}if(t.types!=null&&t.hasOwnProperty("types")){if(!Array.isArray(t.types))return"types: array expected";for(e=0;e<t.types.length;++e)if(!s.isInteger(t.types[e]))return"types: integer[] expected"}if(t.metadata!=null&&t.hasOwnProperty("metadata")){if(!Array.isArray(t.metadata))return"metadata: array expected";for(e=0;e<t.metadata.length;++e){var r=a.OperationMetadataDescriptor.verify(t.metadata[e]);if(r)return"metadata."+r}}return t.lastOperationId!=null&&t.hasOwnProperty("lastOperationId")&&!s.isString(t.lastOperationId)?"lastOperationId: string expected":t.lastOperationAcceptedAt!=null&&t.hasOwnProperty("lastOperationAcceptedAt")&&!s.isString(t.lastOperationAcceptedAt)?"lastOperationAcceptedAt: string expected":null},o.fromObject=function(t){if(t instanceof a.CollaborativeEditingResponse)return t;var e=new a.CollaborativeEditingResponse;if(t.version!=null&&(e.version=t.version>>>0),t.buffers){if(!Array.isArray(t.buffers))throw TypeError(".CollaborativeEditingResponse.buffers: array expected");e.buffers=[];for(var r=0;r<t.buffers.length;++r)typeof t.buffers[r]=="string"?s.base64.decode(t.buffers[r],e.buffers[r]=s.newBuffer(s.base64.length(t.buffers[r])),0):t.buffers[r].length>=0&&(e.buffers[r]=t.buffers[r])}if(t.types){if(!Array.isArray(t.types))throw TypeError(".CollaborativeEditingResponse.types: array expected");for(e.types=[],r=0;r<t.types.length;++r)e.types[r]=t.types[r]>>>0}if(t.metadata){if(!Array.isArray(t.metadata))throw TypeError(".CollaborativeEditingResponse.metadata: array expected");for(e.metadata=[],r=0;r<t.metadata.length;++r){if(typeof t.metadata[r]!="object")throw TypeError(".CollaborativeEditingResponse.metadata: object expected");e.metadata[r]=a.OperationMetadataDescriptor.fromObject(t.metadata[r])}}return t.lastOperationId!=null&&(e.lastOperationId=String(t.lastOperationId)),t.lastOperationAcceptedAt!=null&&(e.lastOperationAcceptedAt=String(t.lastOperationAcceptedAt)),e},o.toObject=function(t,e){e||(e={});var r={};if((e.arrays||e.defaults)&&(r.buffers=[],r.types=[],r.metadata=[]),e.defaults&&(r.version=0,r.lastOperationId="",r.lastOperationAcceptedAt=""),t.version!=null&&t.hasOwnProperty("version")&&(r.version=t.version),t.buffers&&t.buffers.length){r.buffers=[];for(var d=0;d<t.buffers.length;++d)r.buffers[d]=e.bytes===String?s.base64.encode(t.buffers[d],0,t.buffers[d].length):e.bytes===Array?Array.prototype.slice.call(t.buffers[d]):t.buffers[d]}if(t.types&&t.types.length)for(r.types=[],d=0;d<t.types.length;++d)r.types[d]=t.types[d];if(t.metadata&&t.metadata.length)for(r.metadata=[],d=0;d<t.metadata.length;++d)r.metadata[d]=a.OperationMetadataDescriptor.toObject(t.metadata[d],e);return t.lastOperationId!=null&&t.hasOwnProperty("lastOperationId")&&(r.lastOperationId=t.lastOperationId),t.lastOperationAcceptedAt!=null&&t.hasOwnProperty("lastOperationAcceptedAt")&&(r.lastOperationAcceptedAt=t.lastOperationAcceptedAt),r},o.prototype.toJSON=function(){return this.constructor.toObject(this,_0x19253a.util.toJSONOptions)},o.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/CollaborativeEditingResponse"},o})(),a.GetDocumentDetailsResponse=(function(){function o(t){if(t)for(var e=Object.keys(t),r=0;r<e.length;++r)t[e[r]]!=null&&(this[e[r]]=t[e[r]])}return o.prototype.lastDocumentSessionId="",o.prototype.lastDocumentSessionOperationId="",o.prototype.currentDocumentSessionId="",o.prototype.currentDocumentSessionVersion=0,o.prototype.currentDocumentSessionOperationId="",o.create=function(t){return new o(t)},o.encode=function(t,e){return e||(e=n.create()),t.lastDocumentSessionId!=null&&Object.hasOwnProperty.call(t,"lastDocumentSessionId")&&e.uint32(10).string(t.lastDocumentSessionId),t.lastDocumentSessionOperationId!=null&&Object.hasOwnProperty.call(t,"lastDocumentSessionOperationId")&&e.uint32(18).string(t.lastDocumentSessionOperationId),t.currentDocumentSessionId!=null&&Object.hasOwnProperty.call(t,"currentDocumentSessionId")&&e.uint32(26).string(t.currentDocumentSessionId),t.currentDocumentSessionVersion!=null&&Object.hasOwnProperty.call(t,"currentDocumentSessionVersion")&&e.uint32(32).uint32(t.currentDocumentSessionVersion),t.currentDocumentSessionOperationId!=null&&Object.hasOwnProperty.call(t,"currentDocumentSessionOperationId")&&e.uint32(42).string(t.currentDocumentSessionOperationId),e},o.encodeDelimited=function(t,e){return this.encode(t,e).ldelim()},o.decode=function(t,e,r){t instanceof c||(t=c.create(t));for(var d=e===void 0?t.len:t.pos+e,u=new a.GetDocumentDetailsResponse;t.pos<d;){var l=t.uint32();if(l===r)break;switch(l>>>3){case 1:u.lastDocumentSessionId=t.string();break;case 2:u.lastDocumentSessionOperationId=t.string();break;case 3:u.currentDocumentSessionId=t.string();break;case 4:u.currentDocumentSessionVersion=t.uint32();break;case 5:u.currentDocumentSessionOperationId=t.string();break;default:t.skipType(7&l)}}return u},o.decodeDelimited=function(t){return t instanceof c||(t=new c(t)),this.decode(t,t.uint32())},o.verify=function(t){return typeof t!="object"||t===null?"object expected":t.lastDocumentSessionId!=null&&t.hasOwnProperty("lastDocumentSessionId")&&!s.isString(t.lastDocumentSessionId)?"lastDocumentSessionId: string expected":t.lastDocumentSessionOperationId!=null&&t.hasOwnProperty("lastDocumentSessionOperationId")&&!s.isString(t.lastDocumentSessionOperationId)?"lastDocumentSessionOperationId: string expected":t.currentDocumentSessionId!=null&&t.hasOwnProperty("currentDocumentSessionId")&&!s.isString(t.currentDocumentSessionId)?"currentDocumentSessionId: string expected":t.currentDocumentSessionVersion!=null&&t.hasOwnProperty("currentDocumentSessionVersion")&&!s.isInteger(t.currentDocumentSessionVersion)?"currentDocumentSessionVersion: integer expected":t.currentDocumentSessionOperationId!=null&&t.hasOwnProperty("currentDocumentSessionOperationId")&&!s.isString(t.currentDocumentSessionOperationId)?"currentDocumentSessionOperationId: string expected":null},o.fromObject=function(t){if(t instanceof a.GetDocumentDetailsResponse)return t;var e=new a.GetDocumentDetailsResponse;return t.lastDocumentSessionId!=null&&(e.lastDocumentSessionId=String(t.lastDocumentSessionId)),t.lastDocumentSessionOperationId!=null&&(e.lastDocumentSessionOperationId=String(t.lastDocumentSessionOperationId)),t.currentDocumentSessionId!=null&&(e.currentDocumentSessionId=String(t.currentDocumentSessionId)),t.currentDocumentSessionVersion!=null&&(e.currentDocumentSessionVersion=t.currentDocumentSessionVersion>>>0),t.currentDocumentSessionOperationId!=null&&(e.currentDocumentSessionOperationId=String(t.currentDocumentSessionOperationId)),e},o.toObject=function(t,e){e||(e={});var r={};return e.defaults&&(r.lastDocumentSessionId="",r.lastDocumentSessionOperationId="",r.currentDocumentSessionId="",r.currentDocumentSessionVersion=0,r.currentDocumentSessionOperationId=""),t.lastDocumentSessionId!=null&&t.hasOwnProperty("lastDocumentSessionId")&&(r.lastDocumentSessionId=t.lastDocumentSessionId),t.lastDocumentSessionOperationId!=null&&t.hasOwnProperty("lastDocumentSessionOperationId")&&(r.lastDocumentSessionOperationId=t.lastDocumentSessionOperationId),t.currentDocumentSessionId!=null&&t.hasOwnProperty("currentDocumentSessionId")&&(r.currentDocumentSessionId=t.currentDocumentSessionId),t.currentDocumentSessionVersion!=null&&t.hasOwnProperty("currentDocumentSessionVersion")&&(r.currentDocumentSessionVersion=t.currentDocumentSessionVersion),t.currentDocumentSessionOperationId!=null&&t.hasOwnProperty("currentDocumentSessionOperationId")&&(r.currentDocumentSessionOperationId=t.currentDocumentSessionOperationId),r},o.prototype.toJSON=function(){return this.constructor.toObject(this,_0x19253a.util.toJSONOptions)},o.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/GetDocumentDetailsResponse"},o})(),a.CommentDescriptor=(function(){function o(t){if(t)for(var e=Object.keys(t),r=0;r<e.length;++r)t[e[r]]!=null&&(this[e[r]]=t[e[r]])}return o.prototype.commentId="",o.prototype.commentThreadId="",o.prototype.userId="",o.prototype.content="",o.prototype.documentId="",o.prototype.createdAt="",o.prototype.attributes="",o.create=function(t){return new o(t)},o.encode=function(t,e){return e||(e=n.create()),t.commentId!=null&&Object.hasOwnProperty.call(t,"commentId")&&e.uint32(10).string(t.commentId),t.commentThreadId!=null&&Object.hasOwnProperty.call(t,"commentThreadId")&&e.uint32(18).string(t.commentThreadId),t.userId!=null&&Object.hasOwnProperty.call(t,"userId")&&e.uint32(26).string(t.userId),t.content!=null&&Object.hasOwnProperty.call(t,"content")&&e.uint32(34).string(t.content),t.documentId!=null&&Object.hasOwnProperty.call(t,"documentId")&&e.uint32(42).string(t.documentId),t.createdAt!=null&&Object.hasOwnProperty.call(t,"createdAt")&&e.uint32(50).string(t.createdAt),t.attributes!=null&&Object.hasOwnProperty.call(t,"attributes")&&e.uint32(58).string(t.attributes),e},o.encodeDelimited=function(t,e){return this.encode(t,e).ldelim()},o.decode=function(t,e,r){t instanceof c||(t=c.create(t));for(var d=e===void 0?t.len:t.pos+e,u=new a.CommentDescriptor;t.pos<d;){var l=t.uint32();if(l===r)break;switch(l>>>3){case 1:u.commentId=t.string();break;case 2:u.commentThreadId=t.string();break;case 3:u.userId=t.string();break;case 4:u.content=t.string();break;case 5:u.documentId=t.string();break;case 6:u.createdAt=t.string();break;case 7:u.attributes=t.string();break;default:t.skipType(7&l)}}return u},o.decodeDelimited=function(t){return t instanceof c||(t=new c(t)),this.decode(t,t.uint32())},o.verify=function(t){return typeof t!="object"||t===null?"object expected":t.commentId!=null&&t.hasOwnProperty("commentId")&&!s.isString(t.commentId)?"commentId: string expected":t.commentThreadId!=null&&t.hasOwnProperty("commentThreadId")&&!s.isString(t.commentThreadId)?"commentThreadId: string expected":t.userId!=null&&t.hasOwnProperty("userId")&&!s.isString(t.userId)?"userId: string expected":t.content!=null&&t.hasOwnProperty("content")&&!s.isString(t.content)?"content: string expected":t.documentId!=null&&t.hasOwnProperty("documentId")&&!s.isString(t.documentId)?"documentId: string expected":t.createdAt!=null&&t.hasOwnProperty("createdAt")&&!s.isString(t.createdAt)?"createdAt: string expected":t.attributes!=null&&t.hasOwnProperty("attributes")&&!s.isString(t.attributes)?"attributes: string expected":null},o.fromObject=function(t){if(t instanceof a.CommentDescriptor)return t;var e=new a.CommentDescriptor;return t.commentId!=null&&(e.commentId=String(t.commentId)),t.commentThreadId!=null&&(e.commentThreadId=String(t.commentThreadId)),t.userId!=null&&(e.userId=String(t.userId)),t.content!=null&&(e.content=String(t.content)),t.documentId!=null&&(e.documentId=String(t.documentId)),t.createdAt!=null&&(e.createdAt=String(t.createdAt)),t.attributes!=null&&(e.attributes=String(t.attributes)),e},o.toObject=function(t,e){e||(e={});var r={};return e.defaults&&(r.commentId="",r.commentThreadId="",r.userId="",r.content="",r.documentId="",r.createdAt="",r.attributes=""),t.commentId!=null&&t.hasOwnProperty("commentId")&&(r.commentId=t.commentId),t.commentThreadId!=null&&t.hasOwnProperty("commentThreadId")&&(r.commentThreadId=t.commentThreadId),t.userId!=null&&t.hasOwnProperty("userId")&&(r.userId=t.userId),t.content!=null&&t.hasOwnProperty("content")&&(r.content=t.content),t.documentId!=null&&t.hasOwnProperty("documentId")&&(r.documentId=t.documentId),t.createdAt!=null&&t.hasOwnProperty("createdAt")&&(r.createdAt=t.createdAt),t.attributes!=null&&t.hasOwnProperty("attributes")&&(r.attributes=t.attributes),r},o.prototype.toJSON=function(){return this.constructor.toObject(this,_0x19253a.util.toJSONOptions)},o.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/CommentDescriptor"},o})(),a.CommentsThreadDescriptor=(function(){function o(t){if(this.comments=[],t)for(var e=Object.keys(t),r=0;r<e.length;++r)t[e[r]]!=null&&(this[e[r]]=t[e[r]])}return o.prototype.commentThreadId="",o.prototype.comments=s.emptyArray,o.prototype.resolvedAt="",o.prototype.resolvedBy="",o.prototype.context="",o.prototype.createdAt="",o.prototype.deletedAt="",o.prototype.attributes="",o.prototype.unlinkedAt="",o.create=function(t){return new o(t)},o.encode=function(t,e){if(e||(e=n.create()),t.commentThreadId!=null&&Object.hasOwnProperty.call(t,"commentThreadId")&&e.uint32(10).string(t.commentThreadId),t.comments!=null&&t.comments.length)for(var r=0;r<t.comments.length;++r)a.CommentDescriptor.encode(t.comments[r],e.uint32(18).fork()).ldelim();return t.resolvedAt!=null&&Object.hasOwnProperty.call(t,"resolvedAt")&&e.uint32(26).string(t.resolvedAt),t.resolvedBy!=null&&Object.hasOwnProperty.call(t,"resolvedBy")&&e.uint32(34).string(t.resolvedBy),t.context!=null&&Object.hasOwnProperty.call(t,"context")&&e.uint32(42).string(t.context),t.createdAt!=null&&Object.hasOwnProperty.call(t,"createdAt")&&e.uint32(50).string(t.createdAt),t.deletedAt!=null&&Object.hasOwnProperty.call(t,"deletedAt")&&e.uint32(58).string(t.deletedAt),t.attributes!=null&&Object.hasOwnProperty.call(t,"attributes")&&e.uint32(66).string(t.attributes),t.unlinkedAt!=null&&Object.hasOwnProperty.call(t,"unlinkedAt")&&e.uint32(74).string(t.unlinkedAt),e},o.encodeDelimited=function(t,e){return this.encode(t,e).ldelim()},o.decode=function(t,e,r){t instanceof c||(t=c.create(t));for(var d=e===void 0?t.len:t.pos+e,u=new a.CommentsThreadDescriptor;t.pos<d;){var l=t.uint32();if(l===r)break;switch(l>>>3){case 1:u.commentThreadId=t.string();break;case 2:u.comments&&u.comments.length||(u.comments=[]),u.comments.push(a.CommentDescriptor.decode(t,t.uint32()));break;case 3:u.resolvedAt=t.string();break;case 4:u.resolvedBy=t.string();break;case 5:u.context=t.string();break;case 6:u.createdAt=t.string();break;case 7:u.deletedAt=t.string();break;case 8:u.attributes=t.string();break;case 9:u.unlinkedAt=t.string();break;default:t.skipType(7&l)}}return u},o.decodeDelimited=function(t){return t instanceof c||(t=new c(t)),this.decode(t,t.uint32())},o.verify=function(t){if(typeof t!="object"||t===null)return"object expected";if(t.commentThreadId!=null&&t.hasOwnProperty("commentThreadId")&&!s.isString(t.commentThreadId))return"commentThreadId: string expected";if(t.comments!=null&&t.hasOwnProperty("comments")){if(!Array.isArray(t.comments))return"comments: array expected";for(var e=0;e<t.comments.length;++e){var r=a.CommentDescriptor.verify(t.comments[e]);if(r)return"comments."+r}}return t.resolvedAt!=null&&t.hasOwnProperty("resolvedAt")&&!s.isString(t.resolvedAt)?"resolvedAt: string expected":t.resolvedBy!=null&&t.hasOwnProperty("resolvedBy")&&!s.isString(t.resolvedBy)?"resolvedBy: string expected":t.context!=null&&t.hasOwnProperty("context")&&!s.isString(t.context)?"context: string expected":t.createdAt!=null&&t.hasOwnProperty("createdAt")&&!s.isString(t.createdAt)?"createdAt: string expected":t.deletedAt!=null&&t.hasOwnProperty("deletedAt")&&!s.isString(t.deletedAt)?"deletedAt: string expected":t.attributes!=null&&t.hasOwnProperty("attributes")&&!s.isString(t.attributes)?"attributes: string expected":t.unlinkedAt!=null&&t.hasOwnProperty("unlinkedAt")&&!s.isString(t.unlinkedAt)?"unlinkedAt: string expected":null},o.fromObject=function(t){if(t instanceof a.CommentsThreadDescriptor)return t;var e=new a.CommentsThreadDescriptor;if(t.commentThreadId!=null&&(e.commentThreadId=String(t.commentThreadId)),t.comments){if(!Array.isArray(t.comments))throw TypeError(".CommentsThreadDescriptor.comments: array expected");e.comments=[];for(var r=0;r<t.comments.length;++r){if(typeof t.comments[r]!="object")throw TypeError(".CommentsThreadDescriptor.comments: object expected");e.comments[r]=a.CommentDescriptor.fromObject(t.comments[r])}}return t.resolvedAt!=null&&(e.resolvedAt=String(t.resolvedAt)),t.resolvedBy!=null&&(e.resolvedBy=String(t.resolvedBy)),t.context!=null&&(e.context=String(t.context)),t.createdAt!=null&&(e.createdAt=String(t.createdAt)),t.deletedAt!=null&&(e.deletedAt=String(t.deletedAt)),t.attributes!=null&&(e.attributes=String(t.attributes)),t.unlinkedAt!=null&&(e.unlinkedAt=String(t.unlinkedAt)),e},o.toObject=function(t,e){e||(e={});var r={};if((e.arrays||e.defaults)&&(r.comments=[]),e.defaults&&(r.commentThreadId="",r.resolvedAt="",r.resolvedBy="",r.context="",r.createdAt="",r.deletedAt="",r.attributes="",r.unlinkedAt=""),t.commentThreadId!=null&&t.hasOwnProperty("commentThreadId")&&(r.commentThreadId=t.commentThreadId),t.comments&&t.comments.length){r.comments=[];for(var d=0;d<t.comments.length;++d)r.comments[d]=a.CommentDescriptor.toObject(t.comments[d],e)}return t.resolvedAt!=null&&t.hasOwnProperty("resolvedAt")&&(r.resolvedAt=t.resolvedAt),t.resolvedBy!=null&&t.hasOwnProperty("resolvedBy")&&(r.resolvedBy=t.resolvedBy),t.context!=null&&t.hasOwnProperty("context")&&(r.context=t.context),t.createdAt!=null&&t.hasOwnProperty("createdAt")&&(r.createdAt=t.createdAt),t.deletedAt!=null&&t.hasOwnProperty("deletedAt")&&(r.deletedAt=t.deletedAt),t.attributes!=null&&t.hasOwnProperty("attributes")&&(r.attributes=t.attributes),t.unlinkedAt!=null&&t.hasOwnProperty("unlinkedAt")&&(r.unlinkedAt=t.unlinkedAt),r},o.prototype.toJSON=function(){return this.constructor.toObject(this,_0x19253a.util.toJSONOptions)},o.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/CommentsThreadDescriptor"},o})(),a.CommentThreadAddedCommentDescriptor=(function(){function o(t){if(t)for(var e=Object.keys(t),r=0;r<e.length;++r)t[e[r]]!=null&&(this[e[r]]=t[e[r]])}return o.prototype.commentId="",o.prototype.createdAt="",o.create=function(t){return new o(t)},o.encode=function(t,e){return e||(e=n.create()),t.commentId!=null&&Object.hasOwnProperty.call(t,"commentId")&&e.uint32(10).string(t.commentId),t.createdAt!=null&&Object.hasOwnProperty.call(t,"createdAt")&&e.uint32(18).string(t.createdAt),e},o.encodeDelimited=function(t,e){return this.encode(t,e).ldelim()},o.decode=function(t,e,r){t instanceof c||(t=c.create(t));for(var d=e===void 0?t.len:t.pos+e,u=new a.CommentThreadAddedCommentDescriptor;t.pos<d;){var l=t.uint32();if(l===r)break;switch(l>>>3){case 1:u.commentId=t.string();break;case 2:u.createdAt=t.string();break;default:t.skipType(7&l)}}return u},o.decodeDelimited=function(t){return t instanceof c||(t=new c(t)),this.decode(t,t.uint32())},o.verify=function(t){return typeof t!="object"||t===null?"object expected":t.commentId!=null&&t.hasOwnProperty("commentId")&&!s.isString(t.commentId)?"commentId: string expected":t.createdAt!=null&&t.hasOwnProperty("createdAt")&&!s.isString(t.createdAt)?"createdAt: string expected":null},o.fromObject=function(t){if(t instanceof a.CommentThreadAddedCommentDescriptor)return t;var e=new a.CommentThreadAddedCommentDescriptor;return t.commentId!=null&&(e.commentId=String(t.commentId)),t.createdAt!=null&&(e.createdAt=String(t.createdAt)),e},o.toObject=function(t,e){e||(e={});var r={};return e.defaults&&(r.commentId="",r.createdAt=""),t.commentId!=null&&t.hasOwnProperty("commentId")&&(r.commentId=t.commentId),t.createdAt!=null&&t.hasOwnProperty("createdAt")&&(r.createdAt=t.createdAt),r},o.prototype.toJSON=function(){return this.constructor.toObject(this,_0x19253a.util.toJSONOptions)},o.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/CommentThreadAddedCommentDescriptor"},o})(),a.CommentsV2AddCommentMessage=(function(){function o(t){if(t)for(var e=Object.keys(t),r=0;r<e.length;++r)t[e[r]]!=null&&(this[e[r]]=t[e[r]])}return o.prototype.commentThreadId="",o.prototype.content="",o.prototype.documentId="",o.prototype.commentId="",o.prototype.createdAt="",o.prototype.userId="",o.prototype.attributes="",o.prototype.commentThread=null,o.create=function(t){return new o(t)},o.encode=function(t,e){return e||(e=n.create()),t.commentThreadId!=null&&Object.hasOwnProperty.call(t,"commentThreadId")&&e.uint32(10).string(t.commentThreadId),t.content!=null&&Object.hasOwnProperty.call(t,"content")&&e.uint32(18).string(t.content),t.documentId!=null&&Object.hasOwnProperty.call(t,"documentId")&&e.uint32(26).string(t.documentId),t.commentId!=null&&Object.hasOwnProperty.call(t,"commentId")&&e.uint32(34).string(t.commentId),t.createdAt!=null&&Object.hasOwnProperty.call(t,"createdAt")&&e.uint32(42).string(t.createdAt),t.userId!=null&&Object.hasOwnProperty.call(t,"userId")&&e.uint32(50).string(t.userId),t.attributes!=null&&Object.hasOwnProperty.call(t,"attributes")&&e.uint32(58).string(t.attributes),t.commentThread!=null&&Object.hasOwnProperty.call(t,"commentThread")&&a.CommentsThreadDescriptor.encode(t.commentThread,e.uint32(66).fork()).ldelim(),e},o.encodeDelimited=function(t,e){return this.encode(t,e).ldelim()},o.decode=function(t,e,r){t instanceof c||(t=c.create(t));for(var d=e===void 0?t.len:t.pos+e,u=new a.CommentsV2AddCommentMessage;t.pos<d;){var l=t.uint32();if(l===r)break;switch(l>>>3){case 1:u.commentThreadId=t.string();break;case 2:u.content=t.string();break;case 3:u.documentId=t.string();break;case 4:u.commentId=t.string();break;case 5:u.createdAt=t.string();break;case 6:u.userId=t.string();break;case 7:u.attributes=t.string();break;case 8:u.commentThread=a.CommentsThreadDescriptor.decode(t,t.uint32());break;default:t.skipType(7&l)}}return u},o.decodeDelimited=function(t){return t instanceof c||(t=new c(t)),this.decode(t,t.uint32())},o.verify=function(t){if(typeof t!="object"||t===null)return"object expected";if(t.commentThreadId!=null&&t.hasOwnProperty("commentThreadId")&&!s.isString(t.commentThreadId))return"commentThreadId: string expected";if(t.content!=null&&t.hasOwnProperty("content")&&!s.isString(t.content))return"content: string expected";if(t.documentId!=null&&t.hasOwnProperty("documentId")&&!s.isString(t.documentId))return"documentId: string expected";if(t.commentId!=null&&t.hasOwnProperty("commentId")&&!s.isString(t.commentId))return"commentId: string expected";if(t.createdAt!=null&&t.hasOwnProperty("createdAt")&&!s.isString(t.createdAt))return"createdAt: string expected";if(t.userId!=null&&t.hasOwnProperty("userId")&&!s.isString(t.userId))return"userId: string expected";if(t.attributes!=null&&t.hasOwnProperty("attributes")&&!s.isString(t.attributes))return"attributes: string expected";if(t.commentThread!=null&&t.hasOwnProperty("commentThread")){var e=a.CommentsThreadDescriptor.verify(t.commentThread);if(e)return"commentThread."+e}return null},o.fromObject=function(t){if(t instanceof a.CommentsV2AddCommentMessage)return t;var e=new a.CommentsV2AddCommentMessage;if(t.commentThreadId!=null&&(e.commentThreadId=String(t.commentThreadId)),t.content!=null&&(e.content=String(t.content)),t.documentId!=null&&(e.documentId=String(t.documentId)),t.commentId!=null&&(e.commentId=String(t.commentId)),t.createdAt!=null&&(e.createdAt=String(t.createdAt)),t.userId!=null&&(e.userId=String(t.userId)),t.attributes!=null&&(e.attributes=String(t.attributes)),t.commentThread!=null){if(typeof t.commentThread!="object")throw TypeError(".CommentsV2AddCommentMessage.commentThread: object expected");e.commentThread=a.CommentsThreadDescriptor.fromObject(t.commentThread)}return e},o.toObject=function(t,e){e||(e={});var r={};return e.defaults&&(r.commentThreadId="",r.content="",r.documentId="",r.commentId="",r.createdAt="",r.userId="",r.attributes="",r.commentThread=null),t.commentThreadId!=null&&t.hasOwnProperty("commentThreadId")&&(r.commentThreadId=t.commentThreadId),t.content!=null&&t.hasOwnProperty("content")&&(r.content=t.content),t.documentId!=null&&t.hasOwnProperty("documentId")&&(r.documentId=t.documentId),t.commentId!=null&&t.hasOwnProperty("commentId")&&(r.commentId=t.commentId),t.createdAt!=null&&t.hasOwnProperty("createdAt")&&(r.createdAt=t.createdAt),t.userId!=null&&t.hasOwnProperty("userId")&&(r.userId=t.userId),t.attributes!=null&&t.hasOwnProperty("attributes")&&(r.attributes=t.attributes),t.commentThread!=null&&t.hasOwnProperty("commentThread")&&(r.commentThread=a.CommentsThreadDescriptor.toObject(t.commentThread,e)),r},o.prototype.toJSON=function(){return this.constructor.toObject(this,_0x19253a.util.toJSONOptions)},o.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/CommentsV2AddCommentMessage"},o})(),a.CommentsV2AddCommentThreadMessage=(function(){function o(t){if(this.comments=[],t)for(var e=Object.keys(t),r=0;r<e.length;++r)t[e[r]]!=null&&(this[e[r]]=t[e[r]])}return o.prototype.documentId="",o.prototype.commentThreadId="",o.prototype.context="",o.prototype.createdAt="",o.prototype.resolvedAt="",o.prototype.resolvedBy="",o.prototype.attributes="",o.prototype.deletedAt="",o.prototype.comments=s.emptyArray,o.create=function(t){return new o(t)},o.encode=function(t,e){if(e||(e=n.create()),t.documentId!=null&&Object.hasOwnProperty.call(t,"documentId")&&e.uint32(10).string(t.documentId),t.commentThreadId!=null&&Object.hasOwnProperty.call(t,"commentThreadId")&&e.uint32(18).string(t.commentThreadId),t.context!=null&&Object.hasOwnProperty.call(t,"context")&&e.uint32(26).string(t.context),t.createdAt!=null&&Object.hasOwnProperty.call(t,"createdAt")&&e.uint32(34).string(t.createdAt),t.resolvedAt!=null&&Object.hasOwnProperty.call(t,"resolvedAt")&&e.uint32(42).string(t.resolvedAt),t.resolvedBy!=null&&Object.hasOwnProperty.call(t,"resolvedBy")&&e.uint32(50).string(t.resolvedBy),t.attributes!=null&&Object.hasOwnProperty.call(t,"attributes")&&e.uint32(58).string(t.attributes),t.deletedAt!=null&&Object.hasOwnProperty.call(t,"deletedAt")&&e.uint32(66).string(t.deletedAt),t.comments!=null&&t.comments.length)for(var r=0;r<t.comments.length;++r)a.CommentDescriptor.encode(t.comments[r],e.uint32(74).fork()).ldelim();return e},o.encodeDelimited=function(t,e){return this.encode(t,e).ldelim()},o.decode=function(t,e,r){t instanceof c||(t=c.create(t));for(var d=e===void 0?t.len:t.pos+e,u=new a.CommentsV2AddCommentThreadMessage;t.pos<d;){var l=t.uint32();if(l===r)break;switch(l>>>3){case 1:u.documentId=t.string();break;case 2:u.commentThreadId=t.string();break;case 3:u.context=t.string();break;case 4:u.createdAt=t.string();break;case 5:u.resolvedAt=t.string();break;case 6:u.resolvedBy=t.string();break;case 7:u.attributes=t.string();break;case 8:u.deletedAt=t.string();break;case 9:u.comments&&u.comments.length||(u.comments=[]),u.comments.push(a.CommentDescriptor.decode(t,t.uint32()));break;default:t.skipType(7&l)}}return u},o.decodeDelimited=function(t){return t instanceof c||(t=new c(t)),this.decode(t,t.uint32())},o.verify=function(t){if(typeof t!="object"||t===null)return"object expected";if(t.documentId!=null&&t.hasOwnProperty("documentId")&&!s.isString(t.documentId))return"documentId: string expected";if(t.commentThreadId!=null&&t.hasOwnProperty("commentThreadId")&&!s.isString(t.commentThreadId))return"commentThreadId: string expected";if(t.context!=null&&t.hasOwnProperty("context")&&!s.isString(t.context))return"context: string expected";if(t.createdAt!=null&&t.hasOwnProperty("createdAt")&&!s.isString(t.createdAt))return"createdAt: string expected";if(t.resolvedAt!=null&&t.hasOwnProperty("resolvedAt")&&!s.isString(t.resolvedAt))return"resolvedAt: string expected";if(t.resolvedBy!=null&&t.hasOwnProperty("resolvedBy")&&!s.isString(t.resolvedBy))return"resolvedBy: string expected";if(t.attributes!=null&&t.hasOwnProperty("attributes")&&!s.isString(t.attributes))return"attributes: string expected";if(t.deletedAt!=null&&t.hasOwnProperty("deletedAt")&&!s.isString(t.deletedAt))return"deletedAt: string expected";if(t.comments!=null&&t.hasOwnProperty("comments")){if(!Array.isArray(t.comments))return"comments: array expected";for(var e=0;e<t.comments.length;++e){var r=a.CommentDescriptor.verify(t.comments[e]);if(r)return"comments."+r}}return null},o.fromObject=function(t){if(t instanceof a.CommentsV2AddCommentThreadMessage)return t;var e=new a.CommentsV2AddCommentThreadMessage;if(t.documentId!=null&&(e.documentId=String(t.documentId)),t.commentThreadId!=null&&(e.commentThreadId=String(t.commentThreadId)),t.context!=null&&(e.context=String(t.context)),t.createdAt!=null&&(e.createdAt=String(t.createdAt)),t.resolvedAt!=null&&(e.resolvedAt=String(t.resolvedAt)),t.resolvedBy!=null&&(e.resolvedBy=String(t.resolvedBy)),t.attributes!=null&&(e.attributes=String(t.attributes)),t.deletedAt!=null&&(e.deletedAt=String(t.deletedAt)),t.comments){if(!Array.isArray(t.comments))throw TypeError(".CommentsV2AddCommentThreadMessage.comments: array expected");e.comments=[];for(var r=0;r<t.comments.length;++r){if(typeof t.comments[r]!="object")throw TypeError(".CommentsV2AddCommentThreadMessage.comments: object expected");e.comments[r]=a.CommentDescriptor.fromObject(t.comments[r])}}return e},o.toObject=function(t,e){e||(e={});var r={};if((e.arrays||e.defaults)&&(r.comments=[]),e.defaults&&(r.documentId="",r.commentThreadId="",r.context="",r.createdAt="",r.resolvedAt="",r.resolvedBy="",r.attributes="",r.deletedAt=""),t.documentId!=null&&t.hasOwnProperty("documentId")&&(r.documentId=t.documentId),t.commentThreadId!=null&&t.hasOwnProperty("commentThreadId")&&(r.commentThreadId=t.commentThreadId),t.context!=null&&t.hasOwnProperty("context")&&(r.context=t.context),t.createdAt!=null&&t.hasOwnProperty("createdAt")&&(r.createdAt=t.createdAt),t.resolvedAt!=null&&t.hasOwnProperty("resolvedAt")&&(r.resolvedAt=t.resolvedAt),t.resolvedBy!=null&&t.hasOwnProperty("resolvedBy")&&(r.resolvedBy=t.resolvedBy),t.attributes!=null&&t.hasOwnProperty("attributes")&&(r.attributes=t.attributes),t.deletedAt!=null&&t.hasOwnProperty("deletedAt")&&(r.deletedAt=t.deletedAt),t.comments&&t.comments.length){r.comments=[];for(var d=0;d<t.comments.length;++d)r.comments[d]=a.CommentDescriptor.toObject(t.comments[d],e)}return r},o.prototype.toJSON=function(){return this.constructor.toObject(this,_0x19253a.util.toJSONOptions)},o.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/CommentsV2AddCommentThreadMessage"},o})(),a.CommentsV2ReopenCommentThreadMessage=(function(){function o(t){if(t)for(var e=Object.keys(t),r=0;r<e.length;++r)t[e[r]]!=null&&(this[e[r]]=t[e[r]])}return o.prototype.commentThreadId="",o.prototype.documentId="",o.create=function(t){return new o(t)},o.encode=function(t,e){return e||(e=n.create()),t.commentThreadId!=null&&Object.hasOwnProperty.call(t,"commentThreadId")&&e.uint32(10).string(t.commentThreadId),t.documentId!=null&&Object.hasOwnProperty.call(t,"documentId")&&e.uint32(18).string(t.documentId),e},o.encodeDelimited=function(t,e){return this.encode(t,e).ldelim()},o.decode=function(t,e,r){t instanceof c||(t=c.create(t));for(var d=e===void 0?t.len:t.pos+e,u=new a.CommentsV2ReopenCommentThreadMessage;t.pos<d;){var l=t.uint32();if(l===r)break;switch(l>>>3){case 1:u.commentThreadId=t.string();break;case 2:u.documentId=t.string();break;default:t.skipType(7&l)}}return u},o.decodeDelimited=function(t){return t instanceof c||(t=new c(t)),this.decode(t,t.uint32())},o.verify=function(t){return typeof t!="object"||t===null?"object expected":t.commentThreadId!=null&&t.hasOwnProperty("commentThreadId")&&!s.isString(t.commentThreadId)?"commentThreadId: string expected":t.documentId!=null&&t.hasOwnProperty("documentId")&&!s.isString(t.documentId)?"documentId: string expected":null},o.fromObject=function(t){if(t instanceof a.CommentsV2ReopenCommentThreadMessage)return t;var e=new a.CommentsV2ReopenCommentThreadMessage;return t.commentThreadId!=null&&(e.commentThreadId=String(t.commentThreadId)),t.documentId!=null&&(e.documentId=String(t.documentId)),e},o.toObject=function(t,e){e||(e={});var r={};return e.defaults&&(r.commentThreadId="",r.documentId=""),t.commentThreadId!=null&&t.hasOwnProperty("commentThreadId")&&(r.commentThreadId=t.commentThreadId),t.documentId!=null&&t.hasOwnProperty("documentId")&&(r.documentId=t.documentId),r},o.prototype.toJSON=function(){return this.constructor.toObject(this,_0x19253a.util.toJSONOptions)},o.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/CommentsV2ReopenCommentThreadMessage"},o})(),a.CommentsV2ResolveCommentThreadMessage=(function(){function o(t){if(t)for(var e=Object.keys(t),r=0;r<e.length;++r)t[e[r]]!=null&&(this[e[r]]=t[e[r]])}return o.prototype.commentThreadId="",o.prototype.documentId="",o.prototype.resolvedBy="",o.prototype.resolvedAt="",o.create=function(t){return new o(t)},o.encode=function(t,e){return e||(e=n.create()),t.commentThreadId!=null&&Object.hasOwnProperty.call(t,"commentThreadId")&&e.uint32(10).string(t.commentThreadId),t.documentId!=null&&Object.hasOwnProperty.call(t,"documentId")&&e.uint32(18).string(t.documentId),t.resolvedBy!=null&&Object.hasOwnProperty.call(t,"resolvedBy")&&e.uint32(26).string(t.resolvedBy),t.resolvedAt!=null&&Object.hasOwnProperty.call(t,"resolvedAt")&&e.uint32(34).string(t.resolvedAt),e},o.encodeDelimited=function(t,e){return this.encode(t,e).ldelim()},o.decode=function(t,e,r){t instanceof c||(t=c.create(t));for(var d=e===void 0?t.len:t.pos+e,u=new a.CommentsV2ResolveCommentThreadMessage;t.pos<d;){var l=t.uint32();if(l===r)break;switch(l>>>3){case 1:u.commentThreadId=t.string();break;case 2:u.documentId=t.string();break;case 3:u.resolvedBy=t.string();break;case 4:u.resolvedAt=t.string();break;default:t.skipType(7&l)}}return u},o.decodeDelimited=function(t){return t instanceof c||(t=new c(t)),this.decode(t,t.uint32())},o.verify=function(t){return typeof t!="object"||t===null?"object expected":t.commentThreadId!=null&&t.hasOwnProperty("commentThreadId")&&!s.isString(t.commentThreadId)?"commentThreadId: string expected":t.documentId!=null&&t.hasOwnProperty("documentId")&&!s.isString(t.documentId)?"documentId: string expected":t.resolvedBy!=null&&t.hasOwnProperty("resolvedBy")&&!s.isString(t.resolvedBy)?"resolvedBy: string expected":t.resolvedAt!=null&&t.hasOwnProperty("resolvedAt")&&!s.isString(t.resolvedAt)?"resolvedAt: string expected":null},o.fromObject=function(t){if(t instanceof a.CommentsV2ResolveCommentThreadMessage)return t;var e=new a.CommentsV2ResolveCommentThreadMessage;return t.commentThreadId!=null&&(e.commentThreadId=String(t.commentThreadId)),t.documentId!=null&&(e.documentId=String(t.documentId)),t.resolvedBy!=null&&(e.resolvedBy=String(t.resolvedBy)),t.resolvedAt!=null&&(e.resolvedAt=String(t.resolvedAt)),e},o.toObject=function(t,e){e||(e={});var r={};return e.defaults&&(r.commentThreadId="",r.documentId="",r.resolvedBy="",r.resolvedAt=""),t.commentThreadId!=null&&t.hasOwnProperty("commentThreadId")&&(r.commentThreadId=t.commentThreadId),t.documentId!=null&&t.hasOwnProperty("documentId")&&(r.documentId=t.documentId),t.resolvedBy!=null&&t.hasOwnProperty("resolvedBy")&&(r.resolvedBy=t.resolvedBy),t.resolvedAt!=null&&t.hasOwnProperty("resolvedAt")&&(r.resolvedAt=t.resolvedAt),r},o.prototype.toJSON=function(){return this.constructor.toObject(this,_0x19253a.util.toJSONOptions)},o.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/CommentsV2ResolveCommentThreadMessage"},o})(),a.CommentsV2UpdateCommentThreadMessage=(function(){function o(t){if(t)for(var e=Object.keys(t),r=0;r<e.length;++r)t[e[r]]!=null&&(this[e[r]]=t[e[r]])}return o.prototype.commentThreadId="",o.prototype.documentId="",o.prototype.context="",o.prototype.attributes="",o.prototype.unlinkedAt="",o.create=function(t){return new o(t)},o.encode=function(t,e){return e||(e=n.create()),t.commentThreadId!=null&&Object.hasOwnProperty.call(t,"commentThreadId")&&e.uint32(10).string(t.commentThreadId),t.documentId!=null&&Object.hasOwnProperty.call(t,"documentId")&&e.uint32(18).string(t.documentId),t.context!=null&&Object.hasOwnProperty.call(t,"context")&&e.uint32(26).string(t.context),t.attributes!=null&&Object.hasOwnProperty.call(t,"attributes")&&e.uint32(34).string(t.attributes),t.unlinkedAt!=null&&Object.hasOwnProperty.call(t,"unlinkedAt")&&e.uint32(42).string(t.unlinkedAt),e},o.encodeDelimited=function(t,e){return this.encode(t,e).ldelim()},o.decode=function(t,e,r){t instanceof c||(t=c.create(t));for(var d=e===void 0?t.len:t.pos+e,u=new a.CommentsV2UpdateCommentThreadMessage;t.pos<d;){var l=t.uint32();if(l===r)break;switch(l>>>3){case 1:u.commentThreadId=t.string();break;case 2:u.documentId=t.string();break;case 3:u.context=t.string();break;case 4:u.attributes=t.string();break;case 5:u.unlinkedAt=t.string();break;default:t.skipType(7&l)}}return u},o.decodeDelimited=function(t){return t instanceof c||(t=new c(t)),this.decode(t,t.uint32())},o.verify=function(t){return typeof t!="object"||t===null?"object expected":t.commentThreadId!=null&&t.hasOwnProperty("commentThreadId")&&!s.isString(t.commentThreadId)?"commentThreadId: string expected":t.documentId!=null&&t.hasOwnProperty("documentId")&&!s.isString(t.documentId)?"documentId: string expected":t.context!=null&&t.hasOwnProperty("context")&&!s.isString(t.context)?"context: string expected":t.attributes!=null&&t.hasOwnProperty("attributes")&&!s.isString(t.attributes)?"attributes: string expected":t.unlinkedAt!=null&&t.hasOwnProperty("unlinkedAt")&&!s.isString(t.unlinkedAt)?"unlinkedAt: string expected":null},o.fromObject=function(t){if(t instanceof a.CommentsV2UpdateCommentThreadMessage)return t;var e=new a.CommentsV2UpdateCommentThreadMessage;return t.commentThreadId!=null&&(e.commentThreadId=String(t.commentThreadId)),t.documentId!=null&&(e.documentId=String(t.documentId)),t.context!=null&&(e.context=String(t.context)),t.attributes!=null&&(e.attributes=String(t.attributes)),t.unlinkedAt!=null&&(e.unlinkedAt=String(t.unlinkedAt)),e},o.toObject=function(t,e){e||(e={});var r={};return e.defaults&&(r.commentThreadId="",r.documentId="",r.context="",r.attributes="",r.unlinkedAt=""),t.commentThreadId!=null&&t.hasOwnProperty("commentThreadId")&&(r.commentThreadId=t.commentThreadId),t.documentId!=null&&t.hasOwnProperty("documentId")&&(r.documentId=t.documentId),t.context!=null&&t.hasOwnProperty("context")&&(r.context=t.context),t.attributes!=null&&t.hasOwnProperty("attributes")&&(r.attributes=t.attributes),t.unlinkedAt!=null&&t.hasOwnProperty("unlinkedAt")&&(r.unlinkedAt=t.unlinkedAt),r},o.prototype.toJSON=function(){return this.constructor.toObject(this,_0x19253a.util.toJSONOptions)},o.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/CommentsV2UpdateCommentThreadMessage"},o})(),a.CommentsV2ConnectMessage=(function(){function o(t){if(t)for(var e=Object.keys(t),r=0;r<e.length;++r)t[e[r]]!=null&&(this[e[r]]=t[e[r]])}return o.prototype.documentId="",o.create=function(t){return new o(t)},o.encode=function(t,e){return e||(e=n.create()),t.documentId!=null&&Object.hasOwnProperty.call(t,"documentId")&&e.uint32(10).string(t.documentId),e},o.encodeDelimited=function(t,e){return this.encode(t,e).ldelim()},o.decode=function(t,e,r){t instanceof c||(t=c.create(t));for(var d=e===void 0?t.len:t.pos+e,u=new a.CommentsV2ConnectMessage;t.pos<d;){var l=t.uint32();if(l===r)break;l>>>3==1?u.documentId=t.string():t.skipType(7&l)}return u},o.decodeDelimited=function(t){return t instanceof c||(t=new c(t)),this.decode(t,t.uint32())},o.verify=function(t){return typeof t!="object"||t===null?"object expected":t.documentId!=null&&t.hasOwnProperty("documentId")&&!s.isString(t.documentId)?"documentId: string expected":null},o.fromObject=function(t){if(t instanceof a.CommentsV2ConnectMessage)return t;var e=new a.CommentsV2ConnectMessage;return t.documentId!=null&&(e.documentId=String(t.documentId)),e},o.toObject=function(t,e){e||(e={});var r={};return e.defaults&&(r.documentId=""),t.documentId!=null&&t.hasOwnProperty("documentId")&&(r.documentId=t.documentId),r},o.prototype.toJSON=function(){return this.constructor.toObject(this,_0x19253a.util.toJSONOptions)},o.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/CommentsV2ConnectMessage"},o})(),a.CommentsV2GetCommentThreadMessage=(function(){function o(t){if(t)for(var e=Object.keys(t),r=0;r<e.length;++r)t[e[r]]!=null&&(this[e[r]]=t[e[r]])}return o.prototype.commentThreadId="",o.prototype.documentId="",o.create=function(t){return new o(t)},o.encode=function(t,e){return e||(e=n.create()),t.commentThreadId!=null&&Object.hasOwnProperty.call(t,"commentThreadId")&&e.uint32(10).string(t.commentThreadId),t.documentId!=null&&Object.hasOwnProperty.call(t,"documentId")&&e.uint32(18).string(t.documentId),e},o.encodeDelimited=function(t,e){return this.encode(t,e).ldelim()},o.decode=function(t,e,r){t instanceof c||(t=c.create(t));for(var d=e===void 0?t.len:t.pos+e,u=new a.CommentsV2GetCommentThreadMessage;t.pos<d;){var l=t.uint32();if(l===r)break;switch(l>>>3){case 1:u.commentThreadId=t.string();break;case 2:u.documentId=t.string();break;default:t.skipType(7&l)}}return u},o.decodeDelimited=function(t){return t instanceof c||(t=new c(t)),this.decode(t,t.uint32())},o.verify=function(t){return typeof t!="object"||t===null?"object expected":t.commentThreadId!=null&&t.hasOwnProperty("commentThreadId")&&!s.isString(t.commentThreadId)?"commentThreadId: string expected":t.documentId!=null&&t.hasOwnProperty("documentId")&&!s.isString(t.documentId)?"documentId: string expected":null},o.fromObject=function(t){if(t instanceof a.CommentsV2GetCommentThreadMessage)return t;var e=new a.CommentsV2GetCommentThreadMessage;return t.commentThreadId!=null&&(e.commentThreadId=String(t.commentThreadId)),t.documentId!=null&&(e.documentId=String(t.documentId)),e},o.toObject=function(t,e){e||(e={});var r={};return e.defaults&&(r.commentThreadId="",r.documentId=""),t.commentThreadId!=null&&t.hasOwnProperty("commentThreadId")&&(r.commentThreadId=t.commentThreadId),t.documentId!=null&&t.hasOwnProperty("documentId")&&(r.documentId=t.documentId),r},o.prototype.toJSON=function(){return this.constructor.toObject(this,_0x19253a.util.toJSONOptions)},o.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/CommentsV2GetCommentThreadMessage"},o})(),a.CommentsV2GetDocumentThreadsMessage=(function(){function o(t){if(t)for(var e=Object.keys(t),r=0;r<e.length;++r)t[e[r]]!=null&&(this[e[r]]=t[e[r]])}return o.prototype.documentId="",o.create=function(t){return new o(t)},o.encode=function(t,e){return e||(e=n.create()),t.documentId!=null&&Object.hasOwnProperty.call(t,"documentId")&&e.uint32(10).string(t.documentId),e},o.encodeDelimited=function(t,e){return this.encode(t,e).ldelim()},o.decode=function(t,e,r){t instanceof c||(t=c.create(t));for(var d=e===void 0?t.len:t.pos+e,u=new a.CommentsV2GetDocumentThreadsMessage;t.pos<d;){var l=t.uint32();if(l===r)break;l>>>3==1?u.documentId=t.string():t.skipType(7&l)}return u},o.decodeDelimited=function(t){return t instanceof c||(t=new c(t)),this.decode(t,t.uint32())},o.verify=function(t){return typeof t!="object"||t===null?"object expected":t.documentId!=null&&t.hasOwnProperty("documentId")&&!s.isString(t.documentId)?"documentId: string expected":null},o.fromObject=function(t){if(t instanceof a.CommentsV2GetDocumentThreadsMessage)return t;var e=new a.CommentsV2GetDocumentThreadsMessage;return t.documentId!=null&&(e.documentId=String(t.documentId)),e},o.toObject=function(t,e){e||(e={});var r={};return e.defaults&&(r.documentId=""),t.documentId!=null&&t.hasOwnProperty("documentId")&&(r.documentId=t.documentId),r},o.prototype.toJSON=function(){return this.constructor.toObject(this,_0x19253a.util.toJSONOptions)},o.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/CommentsV2GetDocumentThreadsMessage"},o})(),a.CommentsV2RemoveCommentMessage=(function(){function o(t){if(t)for(var e=Object.keys(t),r=0;r<e.length;++r)t[e[r]]!=null&&(this[e[r]]=t[e[r]])}return o.prototype.commentThreadId="",o.prototype.commentId="",o.prototype.documentId="",o.create=function(t){return new o(t)},o.encode=function(t,e){return e||(e=n.create()),t.commentThreadId!=null&&Object.hasOwnProperty.call(t,"commentThreadId")&&e.uint32(10).string(t.commentThreadId),t.commentId!=null&&Object.hasOwnProperty.call(t,"commentId")&&e.uint32(18).string(t.commentId),t.documentId!=null&&Object.hasOwnProperty.call(t,"documentId")&&e.uint32(26).string(t.documentId),e},o.encodeDelimited=function(t,e){return this.encode(t,e).ldelim()},o.decode=function(t,e,r){t instanceof c||(t=c.create(t));for(var d=e===void 0?t.len:t.pos+e,u=new a.CommentsV2RemoveCommentMessage;t.pos<d;){var l=t.uint32();if(l===r)break;switch(l>>>3){case 1:u.commentThreadId=t.string();break;case 2:u.commentId=t.string();break;case 3:u.documentId=t.string();break;default:t.skipType(7&l)}}return u},o.decodeDelimited=function(t){return t instanceof c||(t=new c(t)),this.decode(t,t.uint32())},o.verify=function(t){return typeof t!="object"||t===null?"object expected":t.commentThreadId!=null&&t.hasOwnProperty("commentThreadId")&&!s.isString(t.commentThreadId)?"commentThreadId: string expected":t.commentId!=null&&t.hasOwnProperty("commentId")&&!s.isString(t.commentId)?"commentId: string expected":t.documentId!=null&&t.hasOwnProperty("documentId")&&!s.isString(t.documentId)?"documentId: string expected":null},o.fromObject=function(t){if(t instanceof a.CommentsV2RemoveCommentMessage)return t;var e=new a.CommentsV2RemoveCommentMessage;return t.commentThreadId!=null&&(e.commentThreadId=String(t.commentThreadId)),t.commentId!=null&&(e.commentId=String(t.commentId)),t.documentId!=null&&(e.documentId=String(t.documentId)),e},o.toObject=function(t,e){e||(e={});var r={};return e.defaults&&(r.commentThreadId="",r.commentId="",r.documentId=""),t.commentThreadId!=null&&t.hasOwnProperty("commentThreadId")&&(r.commentThreadId=t.commentThreadId),t.commentId!=null&&t.hasOwnProperty("commentId")&&(r.commentId=t.commentId),t.documentId!=null&&t.hasOwnProperty("documentId")&&(r.documentId=t.documentId),r},o.prototype.toJSON=function(){return this.constructor.toObject(this,_0x19253a.util.toJSONOptions)},o.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/CommentsV2RemoveCommentMessage"},o})(),a.CommentsV2RemoveCommentThreadMessage=(function(){function o(t){if(t)for(var e=Object.keys(t),r=0;r<e.length;++r)t[e[r]]!=null&&(this[e[r]]=t[e[r]])}return o.prototype.commentThreadId="",o.prototype.documentId="",o.create=function(t){return new o(t)},o.encode=function(t,e){return e||(e=n.create()),t.commentThreadId!=null&&Object.hasOwnProperty.call(t,"commentThreadId")&&e.uint32(10).string(t.commentThreadId),t.documentId!=null&&Object.hasOwnProperty.call(t,"documentId")&&e.uint32(18).string(t.documentId),e},o.encodeDelimited=function(t,e){return this.encode(t,e).ldelim()},o.decode=function(t,e,r){t instanceof c||(t=c.create(t));for(var d=e===void 0?t.len:t.pos+e,u=new a.CommentsV2RemoveCommentThreadMessage;t.pos<d;){var l=t.uint32();if(l===r)break;switch(l>>>3){case 1:u.commentThreadId=t.string();break;case 2:u.documentId=t.string();break;default:t.skipType(7&l)}}return u},o.decodeDelimited=function(t){return t instanceof c||(t=new c(t)),this.decode(t,t.uint32())},o.verify=function(t){return typeof t!="object"||t===null?"object expected":t.commentThreadId!=null&&t.hasOwnProperty("commentThreadId")&&!s.isString(t.commentThreadId)?"commentThreadId: string expected":t.documentId!=null&&t.hasOwnProperty("documentId")&&!s.isString(t.documentId)?"documentId: string expected":null},o.fromObject=function(t){if(t instanceof a.CommentsV2RemoveCommentThreadMessage)return t;var e=new a.CommentsV2RemoveCommentThreadMessage;return t.commentThreadId!=null&&(e.commentThreadId=String(t.commentThreadId)),t.documentId!=null&&(e.documentId=String(t.documentId)),e},o.toObject=function(t,e){e||(e={});var r={};return e.defaults&&(r.commentThreadId="",r.documentId=""),t.commentThreadId!=null&&t.hasOwnProperty("commentThreadId")&&(r.commentThreadId=t.commentThreadId),t.documentId!=null&&t.hasOwnProperty("documentId")&&(r.documentId=t.documentId),r},o.prototype.toJSON=function(){return this.constructor.toObject(this,_0x19253a.util.toJSONOptions)},o.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/CommentsV2RemoveCommentThreadMessage"},o})(),a.CommentsV2UpdateCommentMessage=(function(){function o(t){if(t)for(var e=Object.keys(t),r=0;r<e.length;++r)t[e[r]]!=null&&(this[e[r]]=t[e[r]])}return o.prototype.commentThreadId="",o.prototype.commentId="",o.prototype.content="",o.prototype.documentId="",o.prototype.attributes="",o.prototype.isAttributesUpdated=!1,o.prototype.commentThread=null,o.create=function(t){return new o(t)},o.encode=function(t,e){return e||(e=n.create()),t.commentThreadId!=null&&Object.hasOwnProperty.call(t,"commentThreadId")&&e.uint32(10).string(t.commentThreadId),t.commentId!=null&&Object.hasOwnProperty.call(t,"commentId")&&e.uint32(18).string(t.commentId),t.content!=null&&Object.hasOwnProperty.call(t,"content")&&e.uint32(26).string(t.content),t.documentId!=null&&Object.hasOwnProperty.call(t,"documentId")&&e.uint32(34).string(t.documentId),t.attributes!=null&&Object.hasOwnProperty.call(t,"attributes")&&e.uint32(42).string(t.attributes),t.isAttributesUpdated!=null&&Object.hasOwnProperty.call(t,"isAttributesUpdated")&&e.uint32(48).bool(t.isAttributesUpdated),t.commentThread!=null&&Object.hasOwnProperty.call(t,"commentThread")&&a.CommentsThreadDescriptor.encode(t.commentThread,e.uint32(58).fork()).ldelim(),e},o.encodeDelimited=function(t,e){return this.encode(t,e).ldelim()},o.decode=function(t,e,r){t instanceof c||(t=c.create(t));for(var d=e===void 0?t.len:t.pos+e,u=new a.CommentsV2UpdateCommentMessage;t.pos<d;){var l=t.uint32();if(l===r)break;switch(l>>>3){case 1:u.commentThreadId=t.string();break;case 2:u.commentId=t.string();break;case 3:u.content=t.string();break;case 4:u.documentId=t.string();break;case 5:u.attributes=t.string();break;case 6:u.isAttributesUpdated=t.bool();break;case 7:u.commentThread=a.CommentsThreadDescriptor.decode(t,t.uint32());break;default:t.skipType(7&l)}}return u},o.decodeDelimited=function(t){return t instanceof c||(t=new c(t)),this.decode(t,t.uint32())},o.verify=function(t){if(typeof t!="object"||t===null)return"object expected";if(t.commentThreadId!=null&&t.hasOwnProperty("commentThreadId")&&!s.isString(t.commentThreadId))return"commentThreadId: string expected";if(t.commentId!=null&&t.hasOwnProperty("commentId")&&!s.isString(t.commentId))return"commentId: string expected";if(t.content!=null&&t.hasOwnProperty("content")&&!s.isString(t.content))return"content: string expected";if(t.documentId!=null&&t.hasOwnProperty("documentId")&&!s.isString(t.documentId))return"documentId: string expected";if(t.attributes!=null&&t.hasOwnProperty("attributes")&&!s.isString(t.attributes))return"attributes: string expected";if(t.isAttributesUpdated!=null&&t.hasOwnProperty("isAttributesUpdated")&&typeof t.isAttributesUpdated!="boolean")return"isAttributesUpdated: boolean expected";if(t.commentThread!=null&&t.hasOwnProperty("commentThread")){var e=a.CommentsThreadDescriptor.verify(t.commentThread);if(e)return"commentThread."+e}return null},o.fromObject=function(t){if(t instanceof a.CommentsV2UpdateCommentMessage)return t;var e=new a.CommentsV2UpdateCommentMessage;if(t.commentThreadId!=null&&(e.commentThreadId=String(t.commentThreadId)),t.commentId!=null&&(e.commentId=String(t.commentId)),t.content!=null&&(e.content=String(t.content)),t.documentId!=null&&(e.documentId=String(t.documentId)),t.attributes!=null&&(e.attributes=String(t.attributes)),t.isAttributesUpdated!=null&&(e.isAttributesUpdated=!!t.isAttributesUpdated),t.commentThread!=null){if(typeof t.commentThread!="object")throw TypeError(".CommentsV2UpdateCommentMessage.commentThread: object expected");e.commentThread=a.CommentsThreadDescriptor.fromObject(t.commentThread)}return e},o.toObject=function(t,e){e||(e={});var r={};return e.defaults&&(r.commentThreadId="",r.commentId="",r.content="",r.documentId="",r.attributes="",r.isAttributesUpdated=!1,r.commentThread=null),t.commentThreadId!=null&&t.hasOwnProperty("commentThreadId")&&(r.commentThreadId=t.commentThreadId),t.commentId!=null&&t.hasOwnProperty("commentId")&&(r.commentId=t.commentId),t.content!=null&&t.hasOwnProperty("content")&&(r.content=t.content),t.documentId!=null&&t.hasOwnProperty("documentId")&&(r.documentId=t.documentId),t.attributes!=null&&t.hasOwnProperty("attributes")&&(r.attributes=t.attributes),t.isAttributesUpdated!=null&&t.hasOwnProperty("isAttributesUpdated")&&(r.isAttributesUpdated=t.isAttributesUpdated),t.commentThread!=null&&t.hasOwnProperty("commentThread")&&(r.commentThread=a.CommentsThreadDescriptor.toObject(t.commentThread,e)),r},o.prototype.toJSON=function(){return this.constructor.toObject(this,_0x19253a.util.toJSONOptions)},o.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/CommentsV2UpdateCommentMessage"},o})(),a.CommentsV2AddCommentResponse=(function(){function o(t){if(t)for(var e=Object.keys(t),r=0;r<e.length;++r)t[e[r]]!=null&&(this[e[r]]=t[e[r]])}return o.prototype.commentThreadId="",o.prototype.commentId="",o.prototype.createdAt="",o.create=function(t){return new o(t)},o.encode=function(t,e){return e||(e=n.create()),t.commentThreadId!=null&&Object.hasOwnProperty.call(t,"commentThreadId")&&e.uint32(10).string(t.commentThreadId),t.commentId!=null&&Object.hasOwnProperty.call(t,"commentId")&&e.uint32(18).string(t.commentId),t.createdAt!=null&&Object.hasOwnProperty.call(t,"createdAt")&&e.uint32(26).string(t.createdAt),e},o.encodeDelimited=function(t,e){return this.encode(t,e).ldelim()},o.decode=function(t,e,r){t instanceof c||(t=c.create(t));for(var d=e===void 0?t.len:t.pos+e,u=new a.CommentsV2AddCommentResponse;t.pos<d;){var l=t.uint32();if(l===r)break;switch(l>>>3){case 1:u.commentThreadId=t.string();break;case 2:u.commentId=t.string();break;case 3:u.createdAt=t.string();break;default:t.skipType(7&l)}}return u},o.decodeDelimited=function(t){return t instanceof c||(t=new c(t)),this.decode(t,t.uint32())},o.verify=function(t){return typeof t!="object"||t===null?"object expected":t.commentThreadId!=null&&t.hasOwnProperty("commentThreadId")&&!s.isString(t.commentThreadId)?"commentThreadId: string expected":t.commentId!=null&&t.hasOwnProperty("commentId")&&!s.isString(t.commentId)?"commentId: string expected":t.createdAt!=null&&t.hasOwnProperty("createdAt")&&!s.isString(t.createdAt)?"createdAt: string expected":null},o.fromObject=function(t){if(t instanceof a.CommentsV2AddCommentResponse)return t;var e=new a.CommentsV2AddCommentResponse;return t.commentThreadId!=null&&(e.commentThreadId=String(t.commentThreadId)),t.commentId!=null&&(e.commentId=String(t.commentId)),t.createdAt!=null&&(e.createdAt=String(t.createdAt)),e},o.toObject=function(t,e){e||(e={});var r={};return e.defaults&&(r.commentThreadId="",r.commentId="",r.createdAt=""),t.commentThreadId!=null&&t.hasOwnProperty("commentThreadId")&&(r.commentThreadId=t.commentThreadId),t.commentId!=null&&t.hasOwnProperty("commentId")&&(r.commentId=t.commentId),t.createdAt!=null&&t.hasOwnProperty("createdAt")&&(r.createdAt=t.createdAt),r},o.prototype.toJSON=function(){return this.constructor.toObject(this,_0x19253a.util.toJSONOptions)},o.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/CommentsV2AddCommentResponse"},o})(),a.CommentsV2AddCommentThreadResponse=(function(){function o(t){if(this.comments=[],t)for(var e=Object.keys(t),r=0;r<e.length;++r)t[e[r]]!=null&&(this[e[r]]=t[e[r]])}return o.prototype.commentThreadId="",o.prototype.createdAt="",o.prototype.comments=s.emptyArray,o.create=function(t){return new o(t)},o.encode=function(t,e){if(e||(e=n.create()),t.commentThreadId!=null&&Object.hasOwnProperty.call(t,"commentThreadId")&&e.uint32(10).string(t.commentThreadId),t.createdAt!=null&&Object.hasOwnProperty.call(t,"createdAt")&&e.uint32(18).string(t.createdAt),t.comments!=null&&t.comments.length)for(var r=0;r<t.comments.length;++r)a.CommentThreadAddedCommentDescriptor.encode(t.comments[r],e.uint32(26).fork()).ldelim();return e},o.encodeDelimited=function(t,e){return this.encode(t,e).ldelim()},o.decode=function(t,e,r){t instanceof c||(t=c.create(t));for(var d=e===void 0?t.len:t.pos+e,u=new a.CommentsV2AddCommentThreadResponse;t.pos<d;){var l=t.uint32();if(l===r)break;switch(l>>>3){case 1:u.commentThreadId=t.string();break;case 2:u.createdAt=t.string();break;case 3:u.comments&&u.comments.length||(u.comments=[]),u.comments.push(a.CommentThreadAddedCommentDescriptor.decode(t,t.uint32()));break;default:t.skipType(7&l)}}return u},o.decodeDelimited=function(t){return t instanceof c||(t=new c(t)),this.decode(t,t.uint32())},o.verify=function(t){if(typeof t!="object"||t===null)return"object expected";if(t.commentThreadId!=null&&t.hasOwnProperty("commentThreadId")&&!s.isString(t.commentThreadId))return"commentThreadId: string expected";if(t.createdAt!=null&&t.hasOwnProperty("createdAt")&&!s.isString(t.createdAt))return"createdAt: string expected";if(t.comments!=null&&t.hasOwnProperty("comments")){if(!Array.isArray(t.comments))return"comments: array expected";for(var e=0;e<t.comments.length;++e){var r=a.CommentThreadAddedCommentDescriptor.verify(t.comments[e]);if(r)return"comments."+r}}return null},o.fromObject=function(t){if(t instanceof a.CommentsV2AddCommentThreadResponse)return t;var e=new a.CommentsV2AddCommentThreadResponse;if(t.commentThreadId!=null&&(e.commentThreadId=String(t.commentThreadId)),t.createdAt!=null&&(e.createdAt=String(t.createdAt)),t.comments){if(!Array.isArray(t.comments))throw TypeError(".CommentsV2AddCommentThreadResponse.comments: array expected");e.comments=[];for(var r=0;r<t.comments.length;++r){if(typeof t.comments[r]!="object")throw TypeError(".CommentsV2AddCommentThreadResponse.comments: object expected");e.comments[r]=a.CommentThreadAddedCommentDescriptor.fromObject(t.comments[r])}}return e},o.toObject=function(t,e){e||(e={});var r={};if((e.arrays||e.defaults)&&(r.comments=[]),e.defaults&&(r.commentThreadId="",r.createdAt=""),t.commentThreadId!=null&&t.hasOwnProperty("commentThreadId")&&(r.commentThreadId=t.commentThreadId),t.createdAt!=null&&t.hasOwnProperty("createdAt")&&(r.createdAt=t.createdAt),t.comments&&t.comments.length){r.comments=[];for(var d=0;d<t.comments.length;++d)r.comments[d]=a.CommentThreadAddedCommentDescriptor.toObject(t.comments[d],e)}return r},o.prototype.toJSON=function(){return this.constructor.toObject(this,_0x19253a.util.toJSONOptions)},o.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/CommentsV2AddCommentThreadResponse"},o})(),a.CommentsV2ResolveCommentThreadResponse=(function(){function o(t){if(t)for(var e=Object.keys(t),r=0;r<e.length;++r)t[e[r]]!=null&&(this[e[r]]=t[e[r]])}return o.prototype.commentThreadId="",o.prototype.documentId="",o.prototype.resolvedAt="",o.prototype.resolvedBy="",o.create=function(t){return new o(t)},o.encode=function(t,e){return e||(e=n.create()),t.commentThreadId!=null&&Object.hasOwnProperty.call(t,"commentThreadId")&&e.uint32(10).string(t.commentThreadId),t.documentId!=null&&Object.hasOwnProperty.call(t,"documentId")&&e.uint32(18).string(t.documentId),t.resolvedAt!=null&&Object.hasOwnProperty.call(t,"resolvedAt")&&e.uint32(26).string(t.resolvedAt),t.resolvedBy!=null&&Object.hasOwnProperty.call(t,"resolvedBy")&&e.uint32(34).string(t.resolvedBy),e},o.encodeDelimited=function(t,e){return this.encode(t,e).ldelim()},o.decode=function(t,e,r){t instanceof c||(t=c.create(t));for(var d=e===void 0?t.len:t.pos+e,u=new a.CommentsV2ResolveCommentThreadResponse;t.pos<d;){var l=t.uint32();if(l===r)break;switch(l>>>3){case 1:u.commentThreadId=t.string();break;case 2:u.documentId=t.string();break;case 3:u.resolvedAt=t.string();break;case 4:u.resolvedBy=t.string();break;default:t.skipType(7&l)}}return u},o.decodeDelimited=function(t){return t instanceof c||(t=new c(t)),this.decode(t,t.uint32())},o.verify=function(t){return typeof t!="object"||t===null?"object expected":t.commentThreadId!=null&&t.hasOwnProperty("commentThreadId")&&!s.isString(t.commentThreadId)?"commentThreadId: string expected":t.documentId!=null&&t.hasOwnProperty("documentId")&&!s.isString(t.documentId)?"documentId: string expected":t.resolvedAt!=null&&t.hasOwnProperty("resolvedAt")&&!s.isString(t.resolvedAt)?"resolvedAt: string expected":t.resolvedBy!=null&&t.hasOwnProperty("resolvedBy")&&!s.isString(t.resolvedBy)?"resolvedBy: string expected":null},o.fromObject=function(t){if(t instanceof a.CommentsV2ResolveCommentThreadResponse)return t;var e=new a.CommentsV2ResolveCommentThreadResponse;return t.commentThreadId!=null&&(e.commentThreadId=String(t.commentThreadId)),t.documentId!=null&&(e.documentId=String(t.documentId)),t.resolvedAt!=null&&(e.resolvedAt=String(t.resolvedAt)),t.resolvedBy!=null&&(e.resolvedBy=String(t.resolvedBy)),e},o.toObject=function(t,e){e||(e={});var r={};return e.defaults&&(r.commentThreadId="",r.documentId="",r.resolvedAt="",r.resolvedBy=""),t.commentThreadId!=null&&t.hasOwnProperty("commentThreadId")&&(r.commentThreadId=t.commentThreadId),t.documentId!=null&&t.hasOwnProperty("documentId")&&(r.documentId=t.documentId),t.resolvedAt!=null&&t.hasOwnProperty("resolvedAt")&&(r.resolvedAt=t.resolvedAt),t.resolvedBy!=null&&t.hasOwnProperty("resolvedBy")&&(r.resolvedBy=t.resolvedBy),r},o.prototype.toJSON=function(){return this.constructor.toObject(this,_0x19253a.util.toJSONOptions)},o.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/CommentsV2ResolveCommentThreadResponse"},o})(),a.CommentsV2ConnectResponse=(function(){function o(t){if(this.threads=[],this.threadsV2=[],t)for(var e=Object.keys(t),r=0;r<e.length;++r)t[e[r]]!=null&&(this[e[r]]=t[e[r]])}return o.prototype.channel="",o.prototype.threads=s.emptyArray,o.prototype.threadsV2=s.emptyArray,o.create=function(t){return new o(t)},o.encode=function(t,e){if(e||(e=n.create()),t.channel!=null&&Object.hasOwnProperty.call(t,"channel")&&e.uint32(10).string(t.channel),t.threads!=null&&t.threads.length)for(var r=0;r<t.threads.length;++r)e.uint32(18).string(t.threads[r]);if(t.threadsV2!=null&&t.threadsV2.length)for(r=0;r<t.threadsV2.length;++r)a.CommentsThreadDescriptor.encode(t.threadsV2[r],e.uint32(26).fork()).ldelim();return e},o.encodeDelimited=function(t,e){return this.encode(t,e).ldelim()},o.decode=function(t,e,r){t instanceof c||(t=c.create(t));for(var d=e===void 0?t.len:t.pos+e,u=new a.CommentsV2ConnectResponse;t.pos<d;){var l=t.uint32();if(l===r)break;switch(l>>>3){case 1:u.channel=t.string();break;case 2:u.threads&&u.threads.length||(u.threads=[]),u.threads.push(t.string());break;case 3:u.threadsV2&&u.threadsV2.length||(u.threadsV2=[]),u.threadsV2.push(a.CommentsThreadDescriptor.decode(t,t.uint32()));break;default:t.skipType(7&l)}}return u},o.decodeDelimited=function(t){return t instanceof c||(t=new c(t)),this.decode(t,t.uint32())},o.verify=function(t){if(typeof t!="object"||t===null)return"object expected";if(t.channel!=null&&t.hasOwnProperty("channel")&&!s.isString(t.channel))return"channel: string expected";if(t.threads!=null&&t.hasOwnProperty("threads")){if(!Array.isArray(t.threads))return"threads: array expected";for(var e=0;e<t.threads.length;++e)if(!s.isString(t.threads[e]))return"threads: string[] expected"}if(t.threadsV2!=null&&t.hasOwnProperty("threadsV2")){if(!Array.isArray(t.threadsV2))return"threadsV2: array expected";for(e=0;e<t.threadsV2.length;++e){var r=a.CommentsThreadDescriptor.verify(t.threadsV2[e]);if(r)return"threadsV2."+r}}return null},o.fromObject=function(t){if(t instanceof a.CommentsV2ConnectResponse)return t;var e=new a.CommentsV2ConnectResponse;if(t.channel!=null&&(e.channel=String(t.channel)),t.threads){if(!Array.isArray(t.threads))throw TypeError(".CommentsV2ConnectResponse.threads: array expected");e.threads=[];for(var r=0;r<t.threads.length;++r)e.threads[r]=String(t.threads[r])}if(t.threadsV2){if(!Array.isArray(t.threadsV2))throw TypeError(".CommentsV2ConnectResponse.threadsV2: array expected");for(e.threadsV2=[],r=0;r<t.threadsV2.length;++r){if(typeof t.threadsV2[r]!="object")throw TypeError(".CommentsV2ConnectResponse.threadsV2: object expected");e.threadsV2[r]=a.CommentsThreadDescriptor.fromObject(t.threadsV2[r])}}return e},o.toObject=function(t,e){e||(e={});var r={};if((e.arrays||e.defaults)&&(r.threads=[],r.threadsV2=[]),e.defaults&&(r.channel=""),t.channel!=null&&t.hasOwnProperty("channel")&&(r.channel=t.channel),t.threads&&t.threads.length){r.threads=[];for(var d=0;d<t.threads.length;++d)r.threads[d]=t.threads[d]}if(t.threadsV2&&t.threadsV2.length)for(r.threadsV2=[],d=0;d<t.threadsV2.length;++d)r.threadsV2[d]=a.CommentsThreadDescriptor.toObject(t.threadsV2[d],e);return r},o.prototype.toJSON=function(){return this.constructor.toObject(this,_0x19253a.util.toJSONOptions)},o.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/CommentsV2ConnectResponse"},o})(),a.CommentsV2GetCommentThreadResponse=(function(){function o(t){if(this.comments=[],this.commentsV2=[],t)for(var e=Object.keys(t),r=0;r<e.length;++r)t[e[r]]!=null&&(this[e[r]]=t[e[r]])}return o.prototype.commentThreadId="",o.prototype.comments=s.emptyArray,o.prototype.commentsV2=s.emptyArray,o.prototype.resolvedAt="",o.prototype.resolvedBy="",o.prototype.context="",o.prototype.createdAt="",o.prototype.deletedAt="",o.prototype.attributes="",o.prototype.unlinkedAt="",o.create=function(t){return new o(t)},o.encode=function(t,e){if(e||(e=n.create()),t.commentThreadId!=null&&Object.hasOwnProperty.call(t,"commentThreadId")&&e.uint32(10).string(t.commentThreadId),t.comments!=null&&t.comments.length)for(var r=0;r<t.comments.length;++r)e.uint32(18).string(t.comments[r]);if(t.commentsV2!=null&&t.commentsV2.length)for(r=0;r<t.commentsV2.length;++r)a.CommentDescriptor.encode(t.commentsV2[r],e.uint32(26).fork()).ldelim();return t.resolvedAt!=null&&Object.hasOwnProperty.call(t,"resolvedAt")&&e.uint32(34).string(t.resolvedAt),t.resolvedBy!=null&&Object.hasOwnProperty.call(t,"resolvedBy")&&e.uint32(42).string(t.resolvedBy),t.context!=null&&Object.hasOwnProperty.call(t,"context")&&e.uint32(50).string(t.context),t.createdAt!=null&&Object.hasOwnProperty.call(t,"createdAt")&&e.uint32(58).string(t.createdAt),t.deletedAt!=null&&Object.hasOwnProperty.call(t,"deletedAt")&&e.uint32(66).string(t.deletedAt),t.attributes!=null&&Object.hasOwnProperty.call(t,"attributes")&&e.uint32(74).string(t.attributes),t.unlinkedAt!=null&&Object.hasOwnProperty.call(t,"unlinkedAt")&&e.uint32(82).string(t.unlinkedAt),e},o.encodeDelimited=function(t,e){return this.encode(t,e).ldelim()},o.decode=function(t,e,r){t instanceof c||(t=c.create(t));for(var d=e===void 0?t.len:t.pos+e,u=new a.CommentsV2GetCommentThreadResponse;t.pos<d;){var l=t.uint32();if(l===r)break;switch(l>>>3){case 1:u.commentThreadId=t.string();break;case 2:u.comments&&u.comments.length||(u.comments=[]),u.comments.push(t.string());break;case 3:u.commentsV2&&u.commentsV2.length||(u.commentsV2=[]),u.commentsV2.push(a.CommentDescriptor.decode(t,t.uint32()));break;case 4:u.resolvedAt=t.string();break;case 5:u.resolvedBy=t.string();break;case 6:u.context=t.string();break;case 7:u.createdAt=t.string();break;case 8:u.deletedAt=t.string();break;case 9:u.attributes=t.string();break;case 10:u.unlinkedAt=t.string();break;default:t.skipType(7&l)}}return u},o.decodeDelimited=function(t){return t instanceof c||(t=new c(t)),this.decode(t,t.uint32())},o.verify=function(t){if(typeof t!="object"||t===null)return"object expected";if(t.commentThreadId!=null&&t.hasOwnProperty("commentThreadId")&&!s.isString(t.commentThreadId))return"commentThreadId: string expected";if(t.comments!=null&&t.hasOwnProperty("comments")){if(!Array.isArray(t.comments))return"comments: array expected";for(var e=0;e<t.comments.length;++e)if(!s.isString(t.comments[e]))return"comments: string[] expected"}if(t.commentsV2!=null&&t.hasOwnProperty("commentsV2")){if(!Array.isArray(t.commentsV2))return"commentsV2: array expected";for(e=0;e<t.commentsV2.length;++e){var r=a.CommentDescriptor.verify(t.commentsV2[e]);if(r)return"commentsV2."+r}}return t.resolvedAt!=null&&t.hasOwnProperty("resolvedAt")&&!s.isString(t.resolvedAt)?"resolvedAt: string expected":t.resolvedBy!=null&&t.hasOwnProperty("resolvedBy")&&!s.isString(t.resolvedBy)?"resolvedBy: string expected":t.context!=null&&t.hasOwnProperty("context")&&!s.isString(t.context)?"context: string expected":t.createdAt!=null&&t.hasOwnProperty("createdAt")&&!s.isString(t.createdAt)?"createdAt: string expected":t.deletedAt!=null&&t.hasOwnProperty("deletedAt")&&!s.isString(t.deletedAt)?"deletedAt: string expected":t.attributes!=null&&t.hasOwnProperty("attributes")&&!s.isString(t.attributes)?"attributes: string expected":t.unlinkedAt!=null&&t.hasOwnProperty("unlinkedAt")&&!s.isString(t.unlinkedAt)?"unlinkedAt: string expected":null},o.fromObject=function(t){if(t instanceof a.CommentsV2GetCommentThreadResponse)return t;var e=new a.CommentsV2GetCommentThreadResponse;if(t.commentThreadId!=null&&(e.commentThreadId=String(t.commentThreadId)),t.comments){if(!Array.isArray(t.comments))throw TypeError(".CommentsV2GetCommentThreadResponse.comments: array expected");e.comments=[];for(var r=0;r<t.comments.length;++r)e.comments[r]=String(t.comments[r])}if(t.commentsV2){if(!Array.isArray(t.commentsV2))throw TypeError(".CommentsV2GetCommentThreadResponse.commentsV2: array expected");for(e.commentsV2=[],r=0;r<t.commentsV2.length;++r){if(typeof t.commentsV2[r]!="object")throw TypeError(".CommentsV2GetCommentThreadResponse.commentsV2: object expected");e.commentsV2[r]=a.CommentDescriptor.fromObject(t.commentsV2[r])}}return t.resolvedAt!=null&&(e.resolvedAt=String(t.resolvedAt)),t.resolvedBy!=null&&(e.resolvedBy=String(t.resolvedBy)),t.context!=null&&(e.context=String(t.context)),t.createdAt!=null&&(e.createdAt=String(t.createdAt)),t.deletedAt!=null&&(e.deletedAt=String(t.deletedAt)),t.attributes!=null&&(e.attributes=String(t.attributes)),t.unlinkedAt!=null&&(e.unlinkedAt=String(t.unlinkedAt)),e},o.toObject=function(t,e){e||(e={});var r={};if((e.arrays||e.defaults)&&(r.comments=[],r.commentsV2=[]),e.defaults&&(r.commentThreadId="",r.resolvedAt="",r.resolvedBy="",r.context="",r.createdAt="",r.deletedAt="",r.attributes="",r.unlinkedAt=""),t.commentThreadId!=null&&t.hasOwnProperty("commentThreadId")&&(r.commentThreadId=t.commentThreadId),t.comments&&t.comments.length){r.comments=[];for(var d=0;d<t.comments.length;++d)r.comments[d]=t.comments[d]}if(t.commentsV2&&t.commentsV2.length)for(r.commentsV2=[],d=0;d<t.commentsV2.length;++d)r.commentsV2[d]=a.CommentDescriptor.toObject(t.commentsV2[d],e);return t.resolvedAt!=null&&t.hasOwnProperty("resolvedAt")&&(r.resolvedAt=t.resolvedAt),t.resolvedBy!=null&&t.hasOwnProperty("resolvedBy")&&(r.resolvedBy=t.resolvedBy),t.context!=null&&t.hasOwnProperty("context")&&(r.context=t.context),t.createdAt!=null&&t.hasOwnProperty("createdAt")&&(r.createdAt=t.createdAt),t.deletedAt!=null&&t.hasOwnProperty("deletedAt")&&(r.deletedAt=t.deletedAt),t.attributes!=null&&t.hasOwnProperty("attributes")&&(r.attributes=t.attributes),t.unlinkedAt!=null&&t.hasOwnProperty("unlinkedAt")&&(r.unlinkedAt=t.unlinkedAt),r},o.prototype.toJSON=function(){return this.constructor.toObject(this,_0x19253a.util.toJSONOptions)},o.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/CommentsV2GetCommentThreadResponse"},o})(),a.CommentsV2GetDocumentThreadsResponse=(function(){function o(t){if(this.threads=[],this.threadsV2=[],t)for(var e=Object.keys(t),r=0;r<e.length;++r)t[e[r]]!=null&&(this[e[r]]=t[e[r]])}return o.prototype.threads=s.emptyArray,o.prototype.threadsV2=s.emptyArray,o.create=function(t){return new o(t)},o.encode=function(t,e){if(e||(e=n.create()),t.threads!=null&&t.threads.length)for(var r=0;r<t.threads.length;++r)e.uint32(10).string(t.threads[r]);if(t.threadsV2!=null&&t.threadsV2.length)for(r=0;r<t.threadsV2.length;++r)a.CommentsThreadDescriptor.encode(t.threadsV2[r],e.uint32(18).fork()).ldelim();return e},o.encodeDelimited=function(t,e){return this.encode(t,e).ldelim()},o.decode=function(t,e,r){t instanceof c||(t=c.create(t));for(var d=e===void 0?t.len:t.pos+e,u=new a.CommentsV2GetDocumentThreadsResponse;t.pos<d;){var l=t.uint32();if(l===r)break;switch(l>>>3){case 1:u.threads&&u.threads.length||(u.threads=[]),u.threads.push(t.string());break;case 2:u.threadsV2&&u.threadsV2.length||(u.threadsV2=[]),u.threadsV2.push(a.CommentsThreadDescriptor.decode(t,t.uint32()));break;default:t.skipType(7&l)}}return u},o.decodeDelimited=function(t){return t instanceof c||(t=new c(t)),this.decode(t,t.uint32())},o.verify=function(t){if(typeof t!="object"||t===null)return"object expected";if(t.threads!=null&&t.hasOwnProperty("threads")){if(!Array.isArray(t.threads))return"threads: array expected";for(var e=0;e<t.threads.length;++e)if(!s.isString(t.threads[e]))return"threads: string[] expected"}if(t.threadsV2!=null&&t.hasOwnProperty("threadsV2")){if(!Array.isArray(t.threadsV2))return"threadsV2: array expected";for(e=0;e<t.threadsV2.length;++e){var r=a.CommentsThreadDescriptor.verify(t.threadsV2[e]);if(r)return"threadsV2."+r}}return null},o.fromObject=function(t){if(t instanceof a.CommentsV2GetDocumentThreadsResponse)return t;var e=new a.CommentsV2GetDocumentThreadsResponse;if(t.threads){if(!Array.isArray(t.threads))throw TypeError(".CommentsV2GetDocumentThreadsResponse.threads: array expected");e.threads=[];for(var r=0;r<t.threads.length;++r)e.threads[r]=String(t.threads[r])}if(t.threadsV2){if(!Array.isArray(t.threadsV2))throw TypeError(".CommentsV2GetDocumentThreadsResponse.threadsV2: array expected");for(e.threadsV2=[],r=0;r<t.threadsV2.length;++r){if(typeof t.threadsV2[r]!="object")throw TypeError(".CommentsV2GetDocumentThreadsResponse.threadsV2: object expected");e.threadsV2[r]=a.CommentsThreadDescriptor.fromObject(t.threadsV2[r])}}return e},o.toObject=function(t,e){e||(e={});var r={};if((e.arrays||e.defaults)&&(r.threads=[],r.threadsV2=[]),t.threads&&t.threads.length){r.threads=[];for(var d=0;d<t.threads.length;++d)r.threads[d]=t.threads[d]}if(t.threadsV2&&t.threadsV2.length)for(r.threadsV2=[],d=0;d<t.threadsV2.length;++d)r.threadsV2[d]=a.CommentsThreadDescriptor.toObject(t.threadsV2[d],e);return r},o.prototype.toJSON=function(){return this.constructor.toObject(this,_0x19253a.util.toJSONOptions)},o.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/CommentsV2GetDocumentThreadsResponse"},o})(),a.KeyValueDescriptor=(function(){function o(t){if(t)for(var e=Object.keys(t),r=0;r<e.length;++r)t[e[r]]!=null&&(this[e[r]]=t[e[r]])}return o.prototype.key="",o.prototype.value="",o.create=function(t){return new o(t)},o.encode=function(t,e){return e||(e=n.create()),t.key!=null&&Object.hasOwnProperty.call(t,"key")&&e.uint32(10).string(t.key),t.value!=null&&Object.hasOwnProperty.call(t,"value")&&e.uint32(18).string(t.value),e},o.encodeDelimited=function(t,e){return this.encode(t,e).ldelim()},o.decode=function(t,e,r){t instanceof c||(t=c.create(t));for(var d=e===void 0?t.len:t.pos+e,u=new a.KeyValueDescriptor;t.pos<d;){var l=t.uint32();if(l===r)break;switch(l>>>3){case 1:u.key=t.string();break;case 2:u.value=t.string();break;default:t.skipType(7&l)}}return u},o.decodeDelimited=function(t){return t instanceof c||(t=new c(t)),this.decode(t,t.uint32())},o.verify=function(t){return typeof t!="object"||t===null?"object expected":t.key!=null&&t.hasOwnProperty("key")&&!s.isString(t.key)?"key: string expected":t.value!=null&&t.hasOwnProperty("value")&&!s.isString(t.value)?"value: string expected":null},o.fromObject=function(t){if(t instanceof a.KeyValueDescriptor)return t;var e=new a.KeyValueDescriptor;return t.key!=null&&(e.key=String(t.key)),t.value!=null&&(e.value=String(t.value)),e},o.toObject=function(t,e){e||(e={});var r={};return e.defaults&&(r.key="",r.value=""),t.key!=null&&t.hasOwnProperty("key")&&(r.key=t.key),t.value!=null&&t.hasOwnProperty("value")&&(r.value=t.value),r},o.prototype.toJSON=function(){return this.constructor.toObject(this,_0x19253a.util.toJSONOptions)},o.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/KeyValueDescriptor"},o})(),a.IsEditorBundleUploadedMessage=(function(){function o(t){if(t)for(var e=Object.keys(t),r=0;r<e.length;++r)t[e[r]]!=null&&(this[e[r]]=t[e[r]])}return o.prototype.bundleVersion="",o.create=function(t){return new o(t)},o.encode=function(t,e){return e||(e=n.create()),t.bundleVersion!=null&&Object.hasOwnProperty.call(t,"bundleVersion")&&e.uint32(10).string(t.bundleVersion),e},o.encodeDelimited=function(t,e){return this.encode(t,e).ldelim()},o.decode=function(t,e,r){t instanceof c||(t=c.create(t));for(var d=e===void 0?t.len:t.pos+e,u=new a.IsEditorBundleUploadedMessage;t.pos<d;){var l=t.uint32();if(l===r)break;l>>>3==1?u.bundleVersion=t.string():t.skipType(7&l)}return u},o.decodeDelimited=function(t){return t instanceof c||(t=new c(t)),this.decode(t,t.uint32())},o.verify=function(t){return typeof t!="object"||t===null?"object expected":t.bundleVersion!=null&&t.hasOwnProperty("bundleVersion")&&!s.isString(t.bundleVersion)?"bundleVersion: string expected":null},o.fromObject=function(t){if(t instanceof a.IsEditorBundleUploadedMessage)return t;var e=new a.IsEditorBundleUploadedMessage;return t.bundleVersion!=null&&(e.bundleVersion=String(t.bundleVersion)),e},o.toObject=function(t,e){e||(e={});var r={};return e.defaults&&(r.bundleVersion=""),t.bundleVersion!=null&&t.hasOwnProperty("bundleVersion")&&(r.bundleVersion=t.bundleVersion),r},o.prototype.toJSON=function(){return this.constructor.toObject(this,_0x19253a.util.toJSONOptions)},o.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/IsEditorBundleUploadedMessage"},o})(),a.IsEditorBundleUploadedResponse=(function(){function o(t){if(t)for(var e=Object.keys(t),r=0;r<e.length;++r)t[e[r]]!=null&&(this[e[r]]=t[e[r]])}return o.prototype.isUploaded=!1,o.create=function(t){return new o(t)},o.encode=function(t,e){return e||(e=n.create()),t.isUploaded!=null&&Object.hasOwnProperty.call(t,"isUploaded")&&e.uint32(8).bool(t.isUploaded),e},o.encodeDelimited=function(t,e){return this.encode(t,e).ldelim()},o.decode=function(t,e,r){t instanceof c||(t=c.create(t));for(var d=e===void 0?t.len:t.pos+e,u=new a.IsEditorBundleUploadedResponse;t.pos<d;){var l=t.uint32();if(l===r)break;l>>>3==1?u.isUploaded=t.bool():t.skipType(7&l)}return u},o.decodeDelimited=function(t){return t instanceof c||(t=new c(t)),this.decode(t,t.uint32())},o.verify=function(t){return typeof t!="object"||t===null?"object expected":t.isUploaded!=null&&t.hasOwnProperty("isUploaded")&&typeof t.isUploaded!="boolean"?"isUploaded: boolean expected":null},o.fromObject=function(t){if(t instanceof a.IsEditorBundleUploadedResponse)return t;var e=new a.IsEditorBundleUploadedResponse;return t.isUploaded!=null&&(e.isUploaded=!!t.isUploaded),e},o.toObject=function(t,e){e||(e={});var r={};return e.defaults&&(r.isUploaded=!1),t.isUploaded!=null&&t.hasOwnProperty("isUploaded")&&(r.isUploaded=t.isUploaded),r},o.prototype.toJSON=function(){return this.constructor.toObject(this,_0x19253a.util.toJSONOptions)},o.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/IsEditorBundleUploadedResponse"},o})(),a.RevisionDescriptor=(function(){function o(t){if(t)for(var e=Object.keys(t),r=0;r<e.length;++r)t[e[r]]!=null&&(this[e[r]]=t[e[r]])}return o.prototype.revisionId="",o.prototype.name="",o.prototype.creatorId="",o.prototype.authorsIds="",o.prototype.diffData="",o.prototype.createdAt="",o.prototype.attributes="",o.prototype.toVersion=0,o.prototype.fromVersion=0,o.prototype.isEmptyCurrent=!1,o.create=function(t){return new o(t)},o.encode=function(t,e){return e||(e=n.create()),t.revisionId!=null&&Object.hasOwnProperty.call(t,"revisionId")&&e.uint32(10).string(t.revisionId),t.name!=null&&Object.hasOwnProperty.call(t,"name")&&e.uint32(18).string(t.name),t.creatorId!=null&&Object.hasOwnProperty.call(t,"creatorId")&&e.uint32(26).string(t.creatorId),t.authorsIds!=null&&Object.hasOwnProperty.call(t,"authorsIds")&&e.uint32(34).string(t.authorsIds),t.diffData!=null&&Object.hasOwnProperty.call(t,"diffData")&&e.uint32(42).string(t.diffData),t.createdAt!=null&&Object.hasOwnProperty.call(t,"createdAt")&&e.uint32(50).string(t.createdAt),t.attributes!=null&&Object.hasOwnProperty.call(t,"attributes")&&e.uint32(58).string(t.attributes),t.toVersion!=null&&Object.hasOwnProperty.call(t,"toVersion")&&e.uint32(64).uint32(t.toVersion),t.fromVersion!=null&&Object.hasOwnProperty.call(t,"fromVersion")&&e.uint32(72).uint32(t.fromVersion),t.isEmptyCurrent!=null&&Object.hasOwnProperty.call(t,"isEmptyCurrent")&&e.uint32(80).bool(t.isEmptyCurrent),e},o.encodeDelimited=function(t,e){return this.encode(t,e).ldelim()},o.decode=function(t,e,r){t instanceof c||(t=c.create(t));for(var d=e===void 0?t.len:t.pos+e,u=new a.RevisionDescriptor;t.pos<d;){var l=t.uint32();if(l===r)break;switch(l>>>3){case 1:u.revisionId=t.string();break;case 2:u.name=t.string();break;case 3:u.creatorId=t.string();break;case 4:u.authorsIds=t.string();break;case 5:u.diffData=t.string();break;case 6:u.createdAt=t.string();break;case 7:u.attributes=t.string();break;case 8:u.toVersion=t.uint32();break;case 9:u.fromVersion=t.uint32();break;case 10:u.isEmptyCurrent=t.bool();break;default:t.skipType(7&l)}}return u},o.decodeDelimited=function(t){return t instanceof c||(t=new c(t)),this.decode(t,t.uint32())},o.verify=function(t){return typeof t!="object"||t===null?"object expected":t.revisionId!=null&&t.hasOwnProperty("revisionId")&&!s.isString(t.revisionId)?"revisionId: string expected":t.name!=null&&t.hasOwnProperty("name")&&!s.isString(t.name)?"name: string expected":t.creatorId!=null&&t.hasOwnProperty("creatorId")&&!s.isString(t.creatorId)?"creatorId: string expected":t.authorsIds!=null&&t.hasOwnProperty("authorsIds")&&!s.isString(t.authorsIds)?"authorsIds: string expected":t.diffData!=null&&t.hasOwnProperty("diffData")&&!s.isString(t.diffData)?"diffData: string expected":t.createdAt!=null&&t.hasOwnProperty("createdAt")&&!s.isString(t.createdAt)?"createdAt: string expected":t.attributes!=null&&t.hasOwnProperty("attributes")&&!s.isString(t.attributes)?"attributes: string expected":t.toVersion!=null&&t.hasOwnProperty("toVersion")&&!s.isInteger(t.toVersion)?"toVersion: integer expected":t.fromVersion!=null&&t.hasOwnProperty("fromVersion")&&!s.isInteger(t.fromVersion)?"fromVersion: integer expected":t.isEmptyCurrent!=null&&t.hasOwnProperty("isEmptyCurrent")&&typeof t.isEmptyCurrent!="boolean"?"isEmptyCurrent: boolean expected":null},o.fromObject=function(t){if(t instanceof a.RevisionDescriptor)return t;var e=new a.RevisionDescriptor;return t.revisionId!=null&&(e.revisionId=String(t.revisionId)),t.name!=null&&(e.name=String(t.name)),t.creatorId!=null&&(e.creatorId=String(t.creatorId)),t.authorsIds!=null&&(e.authorsIds=String(t.authorsIds)),t.diffData!=null&&(e.diffData=String(t.diffData)),t.createdAt!=null&&(e.createdAt=String(t.createdAt)),t.attributes!=null&&(e.attributes=String(t.attributes)),t.toVersion!=null&&(e.toVersion=t.toVersion>>>0),t.fromVersion!=null&&(e.fromVersion=t.fromVersion>>>0),t.isEmptyCurrent!=null&&(e.isEmptyCurrent=!!t.isEmptyCurrent),e},o.toObject=function(t,e){e||(e={});var r={};return e.defaults&&(r.revisionId="",r.name="",r.creatorId="",r.authorsIds="",r.diffData="",r.createdAt="",r.attributes="",r.toVersion=0,r.fromVersion=0,r.isEmptyCurrent=!1),t.revisionId!=null&&t.hasOwnProperty("revisionId")&&(r.revisionId=t.revisionId),t.name!=null&&t.hasOwnProperty("name")&&(r.name=t.name),t.creatorId!=null&&t.hasOwnProperty("creatorId")&&(r.creatorId=t.creatorId),t.authorsIds!=null&&t.hasOwnProperty("authorsIds")&&(r.authorsIds=t.authorsIds),t.diffData!=null&&t.hasOwnProperty("diffData")&&(r.diffData=t.diffData),t.createdAt!=null&&t.hasOwnProperty("createdAt")&&(r.createdAt=t.createdAt),t.attributes!=null&&t.hasOwnProperty("attributes")&&(r.attributes=t.attributes),t.toVersion!=null&&t.hasOwnProperty("toVersion")&&(r.toVersion=t.toVersion),t.fromVersion!=null&&t.hasOwnProperty("fromVersion")&&(r.fromVersion=t.fromVersion),t.isEmptyCurrent!=null&&t.hasOwnProperty("isEmptyCurrent")&&(r.isEmptyCurrent=t.isEmptyCurrent),r},o.prototype.toJSON=function(){return this.constructor.toObject(this,_0x19253a.util.toJSONOptions)},o.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/RevisionDescriptor"},o})(),a.RevisionHistoryConnectMessage=(function(){function o(t){if(t)for(var e=Object.keys(t),r=0;r<e.length;++r)t[e[r]]!=null&&(this[e[r]]=t[e[r]])}return o.prototype.documentId="",o.create=function(t){return new o(t)},o.encode=function(t,e){return e||(e=n.create()),t.documentId!=null&&Object.hasOwnProperty.call(t,"documentId")&&e.uint32(10).string(t.documentId),e},o.encodeDelimited=function(t,e){return this.encode(t,e).ldelim()},o.decode=function(t,e,r){t instanceof c||(t=c.create(t));for(var d=e===void 0?t.len:t.pos+e,u=new a.RevisionHistoryConnectMessage;t.pos<d;){var l=t.uint32();if(l===r)break;l>>>3==1?u.documentId=t.string():t.skipType(7&l)}return u},o.decodeDelimited=function(t){return t instanceof c||(t=new c(t)),this.decode(t,t.uint32())},o.verify=function(t){return typeof t!="object"||t===null?"object expected":t.documentId!=null&&t.hasOwnProperty("documentId")&&!s.isString(t.documentId)?"documentId: string expected":null},o.fromObject=function(t){if(t instanceof a.RevisionHistoryConnectMessage)return t;var e=new a.RevisionHistoryConnectMessage;return t.documentId!=null&&(e.documentId=String(t.documentId)),e},o.toObject=function(t,e){e||(e={});var r={};return e.defaults&&(r.documentId=""),t.documentId!=null&&t.hasOwnProperty("documentId")&&(r.documentId=t.documentId),r},o.prototype.toJSON=function(){return this.constructor.toObject(this,_0x19253a.util.toJSONOptions)},o.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/RevisionHistoryConnectMessage"},o})(),a.RevisionHistoryGetRevisionMessage=(function(){function o(t){if(t)for(var e=Object.keys(t),r=0;r<e.length;++r)t[e[r]]!=null&&(this[e[r]]=t[e[r]])}return o.prototype.documentId="",o.prototype.revisionId="",o.create=function(t){return new o(t)},o.encode=function(t,e){return e||(e=n.create()),t.documentId!=null&&Object.hasOwnProperty.call(t,"documentId")&&e.uint32(10).string(t.documentId),t.revisionId!=null&&Object.hasOwnProperty.call(t,"revisionId")&&e.uint32(18).string(t.revisionId),e},o.encodeDelimited=function(t,e){return this.encode(t,e).ldelim()},o.decode=function(t,e,r){t instanceof c||(t=c.create(t));for(var d=e===void 0?t.len:t.pos+e,u=new a.RevisionHistoryGetRevisionMessage;t.pos<d;){var l=t.uint32();if(l===r)break;switch(l>>>3){case 1:u.documentId=t.string();break;case 2:u.revisionId=t.string();break;default:t.skipType(7&l)}}return u},o.decodeDelimited=function(t){return t instanceof c||(t=new c(t)),this.decode(t,t.uint32())},o.verify=function(t){return typeof t!="object"||t===null?"object expected":t.documentId!=null&&t.hasOwnProperty("documentId")&&!s.isString(t.documentId)?"documentId: string expected":t.revisionId!=null&&t.hasOwnProperty("revisionId")&&!s.isString(t.revisionId)?"revisionId: string expected":null},o.fromObject=function(t){if(t instanceof a.RevisionHistoryGetRevisionMessage)return t;var e=new a.RevisionHistoryGetRevisionMessage;return t.documentId!=null&&(e.documentId=String(t.documentId)),t.revisionId!=null&&(e.revisionId=String(t.revisionId)),e},o.toObject=function(t,e){e||(e={});var r={};return e.defaults&&(r.documentId="",r.revisionId=""),t.documentId!=null&&t.hasOwnProperty("documentId")&&(r.documentId=t.documentId),t.revisionId!=null&&t.hasOwnProperty("revisionId")&&(r.revisionId=t.revisionId),r},o.prototype.toJSON=function(){return this.constructor.toObject(this,_0x19253a.util.toJSONOptions)},o.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/RevisionHistoryGetRevisionMessage"},o})(),a.RevisionHistoryReconnectMessage=(function(){function o(t){if(t)for(var e=Object.keys(t),r=0;r<e.length;++r)t[e[r]]!=null&&(this[e[r]]=t[e[r]])}return o.prototype.documentId="",o.prototype.requestId=0,o.create=function(t){return new o(t)},o.encode=function(t,e){return e||(e=n.create()),t.documentId!=null&&Object.hasOwnProperty.call(t,"documentId")&&e.uint32(10).string(t.documentId),t.requestId!=null&&Object.hasOwnProperty.call(t,"requestId")&&e.uint32(16).uint32(t.requestId),e},o.encodeDelimited=function(t,e){return this.encode(t,e).ldelim()},o.decode=function(t,e,r){t instanceof c||(t=c.create(t));for(var d=e===void 0?t.len:t.pos+e,u=new a.RevisionHistoryReconnectMessage;t.pos<d;){var l=t.uint32();if(l===r)break;switch(l>>>3){case 1:u.documentId=t.string();break;case 2:u.requestId=t.uint32();break;default:t.skipType(7&l)}}return u},o.decodeDelimited=function(t){return t instanceof c||(t=new c(t)),this.decode(t,t.uint32())},o.verify=function(t){return typeof t!="object"||t===null?"object expected":t.documentId!=null&&t.hasOwnProperty("documentId")&&!s.isString(t.documentId)?"documentId: string expected":t.requestId!=null&&t.hasOwnProperty("requestId")&&!s.isInteger(t.requestId)?"requestId: integer expected":null},o.fromObject=function(t){if(t instanceof a.RevisionHistoryReconnectMessage)return t;var e=new a.RevisionHistoryReconnectMessage;return t.documentId!=null&&(e.documentId=String(t.documentId)),t.requestId!=null&&(e.requestId=t.requestId>>>0),e},o.toObject=function(t,e){e||(e={});var r={};return e.defaults&&(r.documentId="",r.requestId=0),t.documentId!=null&&t.hasOwnProperty("documentId")&&(r.documentId=t.documentId),t.requestId!=null&&t.hasOwnProperty("requestId")&&(r.requestId=t.requestId),r},o.prototype.toJSON=function(){return this.constructor.toObject(this,_0x19253a.util.toJSONOptions)},o.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/RevisionHistoryReconnectMessage"},o})(),a.RevisionHistoryUpdateRevisionsMessage=(function(){function o(t){if(this.revisions=[],t)for(var e=Object.keys(t),r=0;r<e.length;++r)t[e[r]]!=null&&(this[e[r]]=t[e[r]])}return o.prototype.documentId="",o.prototype.requestId=0,o.prototype.revisions=s.emptyArray,o.create=function(t){return new o(t)},o.encode=function(t,e){if(e||(e=n.create()),t.documentId!=null&&Object.hasOwnProperty.call(t,"documentId")&&e.uint32(10).string(t.documentId),t.requestId!=null&&Object.hasOwnProperty.call(t,"requestId")&&e.uint32(16).uint32(t.requestId),t.revisions!=null&&t.revisions.length)for(var r=0;r<t.revisions.length;++r)a.RevisionDescriptor.encode(t.revisions[r],e.uint32(26).fork()).ldelim();return e},o.encodeDelimited=function(t,e){return this.encode(t,e).ldelim()},o.decode=function(t,e,r){t instanceof c||(t=c.create(t));for(var d=e===void 0?t.len:t.pos+e,u=new a.RevisionHistoryUpdateRevisionsMessage;t.pos<d;){var l=t.uint32();if(l===r)break;switch(l>>>3){case 1:u.documentId=t.string();break;case 2:u.requestId=t.uint32();break;case 3:u.revisions&&u.revisions.length||(u.revisions=[]),u.revisions.push(a.RevisionDescriptor.decode(t,t.uint32()));break;default:t.skipType(7&l)}}return u},o.decodeDelimited=function(t){return t instanceof c||(t=new c(t)),this.decode(t,t.uint32())},o.verify=function(t){if(typeof t!="object"||t===null)return"object expected";if(t.documentId!=null&&t.hasOwnProperty("documentId")&&!s.isString(t.documentId))return"documentId: string expected";if(t.requestId!=null&&t.hasOwnProperty("requestId")&&!s.isInteger(t.requestId))return"requestId: integer expected";if(t.revisions!=null&&t.hasOwnProperty("revisions")){if(!Array.isArray(t.revisions))return"revisions: array expected";for(var e=0;e<t.revisions.length;++e){var r=a.RevisionDescriptor.verify(t.revisions[e]);if(r)return"revisions."+r}}return null},o.fromObject=function(t){if(t instanceof a.RevisionHistoryUpdateRevisionsMessage)return t;var e=new a.RevisionHistoryUpdateRevisionsMessage;if(t.documentId!=null&&(e.documentId=String(t.documentId)),t.requestId!=null&&(e.requestId=t.requestId>>>0),t.revisions){if(!Array.isArray(t.revisions))throw TypeError(".RevisionHistoryUpdateRevisionsMessage.revisions: array expected");e.revisions=[];for(var r=0;r<t.revisions.length;++r){if(typeof t.revisions[r]!="object")throw TypeError(".RevisionHistoryUpdateRevisionsMessage.revisions: object expected");e.revisions[r]=a.RevisionDescriptor.fromObject(t.revisions[r])}}return e},o.toObject=function(t,e){e||(e={});var r={};if((e.arrays||e.defaults)&&(r.revisions=[]),e.defaults&&(r.documentId="",r.requestId=0),t.documentId!=null&&t.hasOwnProperty("documentId")&&(r.documentId=t.documentId),t.requestId!=null&&t.hasOwnProperty("requestId")&&(r.requestId=t.requestId),t.revisions&&t.revisions.length){r.revisions=[];for(var d=0;d<t.revisions.length;++d)r.revisions[d]=a.RevisionDescriptor.toObject(t.revisions[d],e)}return r},o.prototype.toJSON=function(){return this.constructor.toObject(this,_0x19253a.util.toJSONOptions)},o.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/RevisionHistoryUpdateRevisionsMessage"},o})(),a.RevisionHistoryConnectResponse=(function(){function o(t){if(this.revisions=[],t)for(var e=Object.keys(t),r=0;r<e.length;++r)t[e[r]]!=null&&(this[e[r]]=t[e[r]])}return o.prototype.channel="",o.prototype.requestId=0,o.prototype.revisions=s.emptyArray,o.create=function(t){return new o(t)},o.encode=function(t,e){if(e||(e=n.create()),t.channel!=null&&Object.hasOwnProperty.call(t,"channel")&&e.uint32(10).string(t.channel),t.requestId!=null&&Object.hasOwnProperty.call(t,"requestId")&&e.uint32(16).uint32(t.requestId),t.revisions!=null&&t.revisions.length)for(var r=0;r<t.revisions.length;++r)a.RevisionDescriptor.encode(t.revisions[r],e.uint32(26).fork()).ldelim();return e},o.encodeDelimited=function(t,e){return this.encode(t,e).ldelim()},o.decode=function(t,e,r){t instanceof c||(t=c.create(t));for(var d=e===void 0?t.len:t.pos+e,u=new a.RevisionHistoryConnectResponse;t.pos<d;){var l=t.uint32();if(l===r)break;switch(l>>>3){case 1:u.channel=t.string();break;case 2:u.requestId=t.uint32();break;case 3:u.revisions&&u.revisions.length||(u.revisions=[]),u.revisions.push(a.RevisionDescriptor.decode(t,t.uint32()));break;default:t.skipType(7&l)}}return u},o.decodeDelimited=function(t){return t instanceof c||(t=new c(t)),this.decode(t,t.uint32())},o.verify=function(t){if(typeof t!="object"||t===null)return"object expected";if(t.channel!=null&&t.hasOwnProperty("channel")&&!s.isString(t.channel))return"channel: string expected";if(t.requestId!=null&&t.hasOwnProperty("requestId")&&!s.isInteger(t.requestId))return"requestId: integer expected";if(t.revisions!=null&&t.hasOwnProperty("revisions")){if(!Array.isArray(t.revisions))return"revisions: array expected";for(var e=0;e<t.revisions.length;++e){var r=a.RevisionDescriptor.verify(t.revisions[e]);if(r)return"revisions."+r}}return null},o.fromObject=function(t){if(t instanceof a.RevisionHistoryConnectResponse)return t;var e=new a.RevisionHistoryConnectResponse;if(t.channel!=null&&(e.channel=String(t.channel)),t.requestId!=null&&(e.requestId=t.requestId>>>0),t.revisions){if(!Array.isArray(t.revisions))throw TypeError(".RevisionHistoryConnectResponse.revisions: array expected");e.revisions=[];for(var r=0;r<t.revisions.length;++r){if(typeof t.revisions[r]!="object")throw TypeError(".RevisionHistoryConnectResponse.revisions: object expected");e.revisions[r]=a.RevisionDescriptor.fromObject(t.revisions[r])}}return e},o.toObject=function(t,e){e||(e={});var r={};if((e.arrays||e.defaults)&&(r.revisions=[]),e.defaults&&(r.channel="",r.requestId=0),t.channel!=null&&t.hasOwnProperty("channel")&&(r.channel=t.channel),t.requestId!=null&&t.hasOwnProperty("requestId")&&(r.requestId=t.requestId),t.revisions&&t.revisions.length){r.revisions=[];for(var d=0;d<t.revisions.length;++d)r.revisions[d]=a.RevisionDescriptor.toObject(t.revisions[d],e)}return r},o.prototype.toJSON=function(){return this.constructor.toObject(this,_0x19253a.util.toJSONOptions)},o.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/RevisionHistoryConnectResponse"},o})(),a.RevisionHistoryGetRevisionResponse=(function(){function o(t){if(t)for(var e=Object.keys(t),r=0;r<e.length;++r)t[e[r]]!=null&&(this[e[r]]=t[e[r]])}return o.prototype.revisionId="",o.prototype.name="",o.prototype.creatorId="",o.prototype.authorsIds="",o.prototype.diffData="",o.prototype.createdAt="",o.prototype.attributes="",o.prototype.toVersion=0,o.prototype.fromVersion=0,o.prototype.isEmptyCurrent=!1,o.create=function(t){return new o(t)},o.encode=function(t,e){return e||(e=n.create()),t.revisionId!=null&&Object.hasOwnProperty.call(t,"revisionId")&&e.uint32(10).string(t.revisionId),t.name!=null&&Object.hasOwnProperty.call(t,"name")&&e.uint32(18).string(t.name),t.creatorId!=null&&Object.hasOwnProperty.call(t,"creatorId")&&e.uint32(26).string(t.creatorId),t.authorsIds!=null&&Object.hasOwnProperty.call(t,"authorsIds")&&e.uint32(34).string(t.authorsIds),t.diffData!=null&&Object.hasOwnProperty.call(t,"diffData")&&e.uint32(42).string(t.diffData),t.createdAt!=null&&Object.hasOwnProperty.call(t,"createdAt")&&e.uint32(50).string(t.createdAt),t.attributes!=null&&Object.hasOwnProperty.call(t,"attributes")&&e.uint32(58).string(t.attributes),t.toVersion!=null&&Object.hasOwnProperty.call(t,"toVersion")&&e.uint32(64).uint32(t.toVersion),t.fromVersion!=null&&Object.hasOwnProperty.call(t,"fromVersion")&&e.uint32(72).uint32(t.fromVersion),t.isEmptyCurrent!=null&&Object.hasOwnProperty.call(t,"isEmptyCurrent")&&e.uint32(80).bool(t.isEmptyCurrent),e},o.encodeDelimited=function(t,e){return this.encode(t,e).ldelim()},o.decode=function(t,e,r){t instanceof c||(t=c.create(t));for(var d=e===void 0?t.len:t.pos+e,u=new a.RevisionHistoryGetRevisionResponse;t.pos<d;){var l=t.uint32();if(l===r)break;switch(l>>>3){case 1:u.revisionId=t.string();break;case 2:u.name=t.string();break;case 3:u.creatorId=t.string();break;case 4:u.authorsIds=t.string();break;case 5:u.diffData=t.string();break;case 6:u.createdAt=t.string();break;case 7:u.attributes=t.string();break;case 8:u.toVersion=t.uint32();break;case 9:u.fromVersion=t.uint32();break;case 10:u.isEmptyCurrent=t.bool();break;default:t.skipType(7&l)}}return u},o.decodeDelimited=function(t){return t instanceof c||(t=new c(t)),this.decode(t,t.uint32())},o.verify=function(t){return typeof t!="object"||t===null?"object expected":t.revisionId!=null&&t.hasOwnProperty("revisionId")&&!s.isString(t.revisionId)?"revisionId: string expected":t.name!=null&&t.hasOwnProperty("name")&&!s.isString(t.name)?"name: string expected":t.creatorId!=null&&t.hasOwnProperty("creatorId")&&!s.isString(t.creatorId)?"creatorId: string expected":t.authorsIds!=null&&t.hasOwnProperty("authorsIds")&&!s.isString(t.authorsIds)?"authorsIds: string expected":t.diffData!=null&&t.hasOwnProperty("diffData")&&!s.isString(t.diffData)?"diffData: string expected":t.createdAt!=null&&t.hasOwnProperty("createdAt")&&!s.isString(t.createdAt)?"createdAt: string expected":t.attributes!=null&&t.hasOwnProperty("attributes")&&!s.isString(t.attributes)?"attributes: string expected":t.toVersion!=null&&t.hasOwnProperty("toVersion")&&!s.isInteger(t.toVersion)?"toVersion: integer expected":t.fromVersion!=null&&t.hasOwnProperty("fromVersion")&&!s.isInteger(t.fromVersion)?"fromVersion: integer expected":t.isEmptyCurrent!=null&&t.hasOwnProperty("isEmptyCurrent")&&typeof t.isEmptyCurrent!="boolean"?"isEmptyCurrent: boolean expected":null},o.fromObject=function(t){if(t instanceof a.RevisionHistoryGetRevisionResponse)return t;var e=new a.RevisionHistoryGetRevisionResponse;return t.revisionId!=null&&(e.revisionId=String(t.revisionId)),t.name!=null&&(e.name=String(t.name)),t.creatorId!=null&&(e.creatorId=String(t.creatorId)),t.authorsIds!=null&&(e.authorsIds=String(t.authorsIds)),t.diffData!=null&&(e.diffData=String(t.diffData)),t.createdAt!=null&&(e.createdAt=String(t.createdAt)),t.attributes!=null&&(e.attributes=String(t.attributes)),t.toVersion!=null&&(e.toVersion=t.toVersion>>>0),t.fromVersion!=null&&(e.fromVersion=t.fromVersion>>>0),t.isEmptyCurrent!=null&&(e.isEmptyCurrent=!!t.isEmptyCurrent),e},o.toObject=function(t,e){e||(e={});var r={};return e.defaults&&(r.revisionId="",r.name="",r.creatorId="",r.authorsIds="",r.diffData="",r.createdAt="",r.attributes="",r.toVersion=0,r.fromVersion=0,r.isEmptyCurrent=!1),t.revisionId!=null&&t.hasOwnProperty("revisionId")&&(r.revisionId=t.revisionId),t.name!=null&&t.hasOwnProperty("name")&&(r.name=t.name),t.creatorId!=null&&t.hasOwnProperty("creatorId")&&(r.creatorId=t.creatorId),t.authorsIds!=null&&t.hasOwnProperty("authorsIds")&&(r.authorsIds=t.authorsIds),t.diffData!=null&&t.hasOwnProperty("diffData")&&(r.diffData=t.diffData),t.createdAt!=null&&t.hasOwnProperty("createdAt")&&(r.createdAt=t.createdAt),t.attributes!=null&&t.hasOwnProperty("attributes")&&(r.attributes=t.attributes),t.toVersion!=null&&t.hasOwnProperty("toVersion")&&(r.toVersion=t.toVersion),t.fromVersion!=null&&t.hasOwnProperty("fromVersion")&&(r.fromVersion=t.fromVersion),t.isEmptyCurrent!=null&&t.hasOwnProperty("isEmptyCurrent")&&(r.isEmptyCurrent=t.isEmptyCurrent),r},o.prototype.toJSON=function(){return this.constructor.toObject(this,_0x19253a.util.toJSONOptions)},o.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/RevisionHistoryGetRevisionResponse"},o})(),a.RevisionHistoryUpdateRevisionsResponse=(function(){function o(t){if(t)for(var e=Object.keys(t),r=0;r<e.length;++r)t[e[r]]!=null&&(this[e[r]]=t[e[r]])}return o.prototype.requestId=0,o.create=function(t){return new o(t)},o.encode=function(t,e){return e||(e=n.create()),t.requestId!=null&&Object.hasOwnProperty.call(t,"requestId")&&e.uint32(8).uint32(t.requestId),e},o.encodeDelimited=function(t,e){return this.encode(t,e).ldelim()},o.decode=function(t,e,r){t instanceof c||(t=c.create(t));for(var d=e===void 0?t.len:t.pos+e,u=new a.RevisionHistoryUpdateRevisionsResponse;t.pos<d;){var l=t.uint32();if(l===r)break;l>>>3==1?u.requestId=t.uint32():t.skipType(7&l)}return u},o.decodeDelimited=function(t){return t instanceof c||(t=new c(t)),this.decode(t,t.uint32())},o.verify=function(t){return typeof t!="object"||t===null?"object expected":t.requestId!=null&&t.hasOwnProperty("requestId")&&!s.isInteger(t.requestId)?"requestId: integer expected":null},o.fromObject=function(t){if(t instanceof a.RevisionHistoryUpdateRevisionsResponse)return t;var e=new a.RevisionHistoryUpdateRevisionsResponse;return t.requestId!=null&&(e.requestId=t.requestId>>>0),e},o.toObject=function(t,e){e||(e={});var r={};return e.defaults&&(r.requestId=0),t.requestId!=null&&t.hasOwnProperty("requestId")&&(r.requestId=t.requestId),r},o.prototype.toJSON=function(){return this.constructor.toObject(this,_0x19253a.util.toJSONOptions)},o.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/RevisionHistoryUpdateRevisionsResponse"},o})(),a.SessionsSocketDescriptor=(function(){function o(t){if(this.permissions=[],t)for(var e=Object.keys(t),r=0;r<e.length;++r)t[e[r]]!=null&&(this[e[r]]=t[e[r]])}return o.prototype.session="",o.prototype.user="",o.prototype.role="",o.prototype.permissions=s.emptyArray,o.create=function(t){return new o(t)},o.encode=function(t,e){if(e||(e=n.create()),t.session!=null&&Object.hasOwnProperty.call(t,"session")&&e.uint32(10).string(t.session),t.user!=null&&Object.hasOwnProperty.call(t,"user")&&e.uint32(18).string(t.user),t.role!=null&&Object.hasOwnProperty.call(t,"role")&&e.uint32(26).string(t.role),t.permissions!=null&&t.permissions.length)for(var r=0;r<t.permissions.length;++r)e.uint32(34).string(t.permissions[r]);return e},o.encodeDelimited=function(t,e){return this.encode(t,e).ldelim()},o.decode=function(t,e,r){t instanceof c||(t=c.create(t));for(var d=e===void 0?t.len:t.pos+e,u=new a.SessionsSocketDescriptor;t.pos<d;){var l=t.uint32();if(l===r)break;switch(l>>>3){case 1:u.session=t.string();break;case 2:u.user=t.string();break;case 3:u.role=t.string();break;case 4:u.permissions&&u.permissions.length||(u.permissions=[]),u.permissions.push(t.string());break;default:t.skipType(7&l)}}return u},o.decodeDelimited=function(t){return t instanceof c||(t=new c(t)),this.decode(t,t.uint32())},o.verify=function(t){if(typeof t!="object"||t===null)return"object expected";if(t.session!=null&&t.hasOwnProperty("session")&&!s.isString(t.session))return"session: string expected";if(t.user!=null&&t.hasOwnProperty("user")&&!s.isString(t.user))return"user: string expected";if(t.role!=null&&t.hasOwnProperty("role")&&!s.isString(t.role))return"role: string expected";if(t.permissions!=null&&t.hasOwnProperty("permissions")){if(!Array.isArray(t.permissions))return"permissions: array expected";for(var e=0;e<t.permissions.length;++e)if(!s.isString(t.permissions[e]))return"permissions: string[] expected"}return null},o.fromObject=function(t){if(t instanceof a.SessionsSocketDescriptor)return t;var e=new a.SessionsSocketDescriptor;if(t.session!=null&&(e.session=String(t.session)),t.user!=null&&(e.user=String(t.user)),t.role!=null&&(e.role=String(t.role)),t.permissions){if(!Array.isArray(t.permissions))throw TypeError(".SessionsSocketDescriptor.permissions: array expected");e.permissions=[];for(var r=0;r<t.permissions.length;++r)e.permissions[r]=String(t.permissions[r])}return e},o.toObject=function(t,e){e||(e={});var r={};if((e.arrays||e.defaults)&&(r.permissions=[]),e.defaults&&(r.session="",r.user="",r.role=""),t.session!=null&&t.hasOwnProperty("session")&&(r.session=t.session),t.user!=null&&t.hasOwnProperty("user")&&(r.user=t.user),t.role!=null&&t.hasOwnProperty("role")&&(r.role=t.role),t.permissions&&t.permissions.length){r.permissions=[];for(var d=0;d<t.permissions.length;++d)r.permissions[d]=t.permissions[d]}return r},o.prototype.toJSON=function(){return this.constructor.toObject(this,_0x19253a.util.toJSONOptions)},o.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/SessionsSocketDescriptor"},o})(),a.SessionsConnectMessage=(function(){function o(t){if(t)for(var e=Object.keys(t),r=0;r<e.length;++r)t[e[r]]!=null&&(this[e[r]]=t[e[r]])}return o.prototype.id="",o.prototype.sessionType=0,o.create=function(t){return new o(t)},o.encode=function(t,e){return e||(e=n.create()),t.id!=null&&Object.hasOwnProperty.call(t,"id")&&e.uint32(10).string(t.id),t.sessionType!=null&&Object.hasOwnProperty.call(t,"sessionType")&&e.uint32(16).uint32(t.sessionType),e},o.encodeDelimited=function(t,e){return this.encode(t,e).ldelim()},o.decode=function(t,e,r){t instanceof c||(t=c.create(t));for(var d=e===void 0?t.len:t.pos+e,u=new a.SessionsConnectMessage;t.pos<d;){var l=t.uint32();if(l===r)break;switch(l>>>3){case 1:u.id=t.string();break;case 2:u.sessionType=t.uint32();break;default:t.skipType(7&l)}}return u},o.decodeDelimited=function(t){return t instanceof c||(t=new c(t)),this.decode(t,t.uint32())},o.verify=function(t){return typeof t!="object"||t===null?"object expected":t.id!=null&&t.hasOwnProperty("id")&&!s.isString(t.id)?"id: string expected":t.sessionType!=null&&t.hasOwnProperty("sessionType")&&!s.isInteger(t.sessionType)?"sessionType: integer expected":null},o.fromObject=function(t){if(t instanceof a.SessionsConnectMessage)return t;var e=new a.SessionsConnectMessage;return t.id!=null&&(e.id=String(t.id)),t.sessionType!=null&&(e.sessionType=t.sessionType>>>0),e},o.toObject=function(t,e){e||(e={});var r={};return e.defaults&&(r.id="",r.sessionType=0),t.id!=null&&t.hasOwnProperty("id")&&(r.id=t.id),t.sessionType!=null&&t.hasOwnProperty("sessionType")&&(r.sessionType=t.sessionType),r},o.prototype.toJSON=function(){return this.constructor.toObject(this,_0x19253a.util.toJSONOptions)},o.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/SessionsConnectMessage"},o})(),a.SocketConnectMessage=(function(){function o(t){if(this.permissions=[],t)for(var e=Object.keys(t),r=0;r<e.length;++r)t[e[r]]!=null&&(this[e[r]]=t[e[r]])}return o.prototype.id="",o.prototype.userId="",o.prototype.role="",o.prototype.permissions=s.emptyArray,o.create=function(t){return new o(t)},o.encode=function(t,e){if(e||(e=n.create()),t.id!=null&&Object.hasOwnProperty.call(t,"id")&&e.uint32(10).string(t.id),t.userId!=null&&Object.hasOwnProperty.call(t,"userId")&&e.uint32(18).string(t.userId),t.role!=null&&Object.hasOwnProperty.call(t,"role")&&e.uint32(26).string(t.role),t.permissions!=null&&t.permissions.length)for(var r=0;r<t.permissions.length;++r)e.uint32(34).string(t.permissions[r]);return e},o.encodeDelimited=function(t,e){return this.encode(t,e).ldelim()},o.decode=function(t,e,r){t instanceof c||(t=c.create(t));for(var d=e===void 0?t.len:t.pos+e,u=new a.SocketConnectMessage;t.pos<d;){var l=t.uint32();if(l===r)break;switch(l>>>3){case 1:u.id=t.string();break;case 2:u.userId=t.string();break;case 3:u.role=t.string();break;case 4:u.permissions&&u.permissions.length||(u.permissions=[]),u.permissions.push(t.string());break;default:t.skipType(7&l)}}return u},o.decodeDelimited=function(t){return t instanceof c||(t=new c(t)),this.decode(t,t.uint32())},o.verify=function(t){if(typeof t!="object"||t===null)return"object expected";if(t.id!=null&&t.hasOwnProperty("id")&&!s.isString(t.id))return"id: string expected";if(t.userId!=null&&t.hasOwnProperty("userId")&&!s.isString(t.userId))return"userId: string expected";if(t.role!=null&&t.hasOwnProperty("role")&&!s.isString(t.role))return"role: string expected";if(t.permissions!=null&&t.hasOwnProperty("permissions")){if(!Array.isArray(t.permissions))return"permissions: array expected";for(var e=0;e<t.permissions.length;++e)if(!s.isString(t.permissions[e]))return"permissions: string[] expected"}return null},o.fromObject=function(t){if(t instanceof a.SocketConnectMessage)return t;var e=new a.SocketConnectMessage;if(t.id!=null&&(e.id=String(t.id)),t.userId!=null&&(e.userId=String(t.userId)),t.role!=null&&(e.role=String(t.role)),t.permissions){if(!Array.isArray(t.permissions))throw TypeError(".SocketConnectMessage.permissions: array expected");e.permissions=[];for(var r=0;r<t.permissions.length;++r)e.permissions[r]=String(t.permissions[r])}return e},o.toObject=function(t,e){e||(e={});var r={};if((e.arrays||e.defaults)&&(r.permissions=[]),e.defaults&&(r.id="",r.userId="",r.role=""),t.id!=null&&t.hasOwnProperty("id")&&(r.id=t.id),t.userId!=null&&t.hasOwnProperty("userId")&&(r.userId=t.userId),t.role!=null&&t.hasOwnProperty("role")&&(r.role=t.role),t.permissions&&t.permissions.length){r.permissions=[];for(var d=0;d<t.permissions.length;++d)r.permissions[d]=t.permissions[d]}return r},o.prototype.toJSON=function(){return this.constructor.toObject(this,_0x19253a.util.toJSONOptions)},o.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/SocketConnectMessage"},o})(),a.SocketDisconnectMessage=(function(){function o(t){if(t)for(var e=Object.keys(t),r=0;r<e.length;++r)t[e[r]]!=null&&(this[e[r]]=t[e[r]])}return o.prototype.id="",o.create=function(t){return new o(t)},o.encode=function(t,e){return e||(e=n.create()),t.id!=null&&Object.hasOwnProperty.call(t,"id")&&e.uint32(10).string(t.id),e},o.encodeDelimited=function(t,e){return this.encode(t,e).ldelim()},o.decode=function(t,e,r){t instanceof c||(t=c.create(t));for(var d=e===void 0?t.len:t.pos+e,u=new a.SocketDisconnectMessage;t.pos<d;){var l=t.uint32();if(l===r)break;l>>>3==1?u.id=t.string():t.skipType(7&l)}return u},o.decodeDelimited=function(t){return t instanceof c||(t=new c(t)),this.decode(t,t.uint32())},o.verify=function(t){return typeof t!="object"||t===null?"object expected":t.id!=null&&t.hasOwnProperty("id")&&!s.isString(t.id)?"id: string expected":null},o.fromObject=function(t){if(t instanceof a.SocketDisconnectMessage)return t;var e=new a.SocketDisconnectMessage;return t.id!=null&&(e.id=String(t.id)),e},o.toObject=function(t,e){e||(e={});var r={};return e.defaults&&(r.id=""),t.id!=null&&t.hasOwnProperty("id")&&(r.id=t.id),r},o.prototype.toJSON=function(){return this.constructor.toObject(this,_0x19253a.util.toJSONOptions)},o.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/SocketDisconnectMessage"},o})(),a.SessionsConnectResponse=(function(){function o(t){if(this.sockets=[],t)for(var e=Object.keys(t),r=0;r<e.length;++r)t[e[r]]!=null&&(this[e[r]]=t[e[r]])}return o.prototype.channel="",o.prototype.sockets=s.emptyArray,o.create=function(t){return new o(t)},o.encode=function(t,e){if(e||(e=n.create()),t.channel!=null&&Object.hasOwnProperty.call(t,"channel")&&e.uint32(10).string(t.channel),t.sockets!=null&&t.sockets.length)for(var r=0;r<t.sockets.length;++r)a.SessionsSocketDescriptor.encode(t.sockets[r],e.uint32(18).fork()).ldelim();return e},o.encodeDelimited=function(t,e){return this.encode(t,e).ldelim()},o.decode=function(t,e,r){t instanceof c||(t=c.create(t));for(var d=e===void 0?t.len:t.pos+e,u=new a.SessionsConnectResponse;t.pos<d;){var l=t.uint32();if(l===r)break;switch(l>>>3){case 1:u.channel=t.string();break;case 2:u.sockets&&u.sockets.length||(u.sockets=[]),u.sockets.push(a.SessionsSocketDescriptor.decode(t,t.uint32()));break;default:t.skipType(7&l)}}return u},o.decodeDelimited=function(t){return t instanceof c||(t=new c(t)),this.decode(t,t.uint32())},o.verify=function(t){if(typeof t!="object"||t===null)return"object expected";if(t.channel!=null&&t.hasOwnProperty("channel")&&!s.isString(t.channel))return"channel: string expected";if(t.sockets!=null&&t.hasOwnProperty("sockets")){if(!Array.isArray(t.sockets))return"sockets: array expected";for(var e=0;e<t.sockets.length;++e){var r=a.SessionsSocketDescriptor.verify(t.sockets[e]);if(r)return"sockets."+r}}return null},o.fromObject=function(t){if(t instanceof a.SessionsConnectResponse)return t;var e=new a.SessionsConnectResponse;if(t.channel!=null&&(e.channel=String(t.channel)),t.sockets){if(!Array.isArray(t.sockets))throw TypeError(".SessionsConnectResponse.sockets: array expected");e.sockets=[];for(var r=0;r<t.sockets.length;++r){if(typeof t.sockets[r]!="object")throw TypeError(".SessionsConnectResponse.sockets: object expected");e.sockets[r]=a.SessionsSocketDescriptor.fromObject(t.sockets[r])}}return e},o.toObject=function(t,e){e||(e={});var r={};if((e.arrays||e.defaults)&&(r.sockets=[]),e.defaults&&(r.channel=""),t.channel!=null&&t.hasOwnProperty("channel")&&(r.channel=t.channel),t.sockets&&t.sockets.length){r.sockets=[];for(var d=0;d<t.sockets.length;++d)r.sockets[d]=a.SessionsSocketDescriptor.toObject(t.sockets[d],e)}return r},o.prototype.toJSON=function(){return this.constructor.toObject(this,_0x19253a.util.toJSONOptions)},o.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/SessionsConnectResponse"},o})(),a.SuggestionDescriptor=(function(){function o(t){if(t)for(var e=Object.keys(t),r=0;r<e.length;++r)t[e[r]]!=null&&(this[e[r]]=t[e[r]])}return o.prototype.id="",o.prototype.authorId="",o.prototype.type="",o.prototype.createdAt="",o.prototype.data="",o.prototype.hasComments=!1,o.prototype.state="",o.prototype.attributes="",o.create=function(t){return new o(t)},o.encode=function(t,e){return e||(e=n.create()),t.id!=null&&Object.hasOwnProperty.call(t,"id")&&e.uint32(10).string(t.id),t.authorId!=null&&Object.hasOwnProperty.call(t,"authorId")&&e.uint32(18).string(t.authorId),t.type!=null&&Object.hasOwnProperty.call(t,"type")&&e.uint32(26).string(t.type),t.createdAt!=null&&Object.hasOwnProperty.call(t,"createdAt")&&e.uint32(34).string(t.createdAt),t.data!=null&&Object.hasOwnProperty.call(t,"data")&&e.uint32(42).string(t.data),t.hasComments!=null&&Object.hasOwnProperty.call(t,"hasComments")&&e.uint32(48).bool(t.hasComments),t.state!=null&&Object.hasOwnProperty.call(t,"state")&&e.uint32(58).string(t.state),t.attributes!=null&&Object.hasOwnProperty.call(t,"attributes")&&e.uint32(66).string(t.attributes),e},o.encodeDelimited=function(t,e){return this.encode(t,e).ldelim()},o.decode=function(t,e,r){t instanceof c||(t=c.create(t));for(var d=e===void 0?t.len:t.pos+e,u=new a.SuggestionDescriptor;t.pos<d;){var l=t.uint32();if(l===r)break;switch(l>>>3){case 1:u.id=t.string();break;case 2:u.authorId=t.string();break;case 3:u.type=t.string();break;case 4:u.createdAt=t.string();break;case 5:u.data=t.string();break;case 6:u.hasComments=t.bool();break;case 7:u.state=t.string();break;case 8:u.attributes=t.string();break;default:t.skipType(7&l)}}return u},o.decodeDelimited=function(t){return t instanceof c||(t=new c(t)),this.decode(t,t.uint32())},o.verify=function(t){return typeof t!="object"||t===null?"object expected":t.id!=null&&t.hasOwnProperty("id")&&!s.isString(t.id)?"id: string expected":t.authorId!=null&&t.hasOwnProperty("authorId")&&!s.isString(t.authorId)?"authorId: string expected":t.type!=null&&t.hasOwnProperty("type")&&!s.isString(t.type)?"type: string expected":t.createdAt!=null&&t.hasOwnProperty("createdAt")&&!s.isString(t.createdAt)?"createdAt: string expected":t.data!=null&&t.hasOwnProperty("data")&&!s.isString(t.data)?"data: string expected":t.hasComments!=null&&t.hasOwnProperty("hasComments")&&typeof t.hasComments!="boolean"?"hasComments: boolean expected":t.state!=null&&t.hasOwnProperty("state")&&!s.isString(t.state)?"state: string expected":t.attributes!=null&&t.hasOwnProperty("attributes")&&!s.isString(t.attributes)?"attributes: string expected":null},o.fromObject=function(t){if(t instanceof a.SuggestionDescriptor)return t;var e=new a.SuggestionDescriptor;return t.id!=null&&(e.id=String(t.id)),t.authorId!=null&&(e.authorId=String(t.authorId)),t.type!=null&&(e.type=String(t.type)),t.createdAt!=null&&(e.createdAt=String(t.createdAt)),t.data!=null&&(e.data=String(t.data)),t.hasComments!=null&&(e.hasComments=!!t.hasComments),t.state!=null&&(e.state=String(t.state)),t.attributes!=null&&(e.attributes=String(t.attributes)),e},o.toObject=function(t,e){e||(e={});var r={};return e.defaults&&(r.id="",r.authorId="",r.type="",r.createdAt="",r.data="",r.hasComments=!1,r.state="",r.attributes=""),t.id!=null&&t.hasOwnProperty("id")&&(r.id=t.id),t.authorId!=null&&t.hasOwnProperty("authorId")&&(r.authorId=t.authorId),t.type!=null&&t.hasOwnProperty("type")&&(r.type=t.type),t.createdAt!=null&&t.hasOwnProperty("createdAt")&&(r.createdAt=t.createdAt),t.data!=null&&t.hasOwnProperty("data")&&(r.data=t.data),t.hasComments!=null&&t.hasOwnProperty("hasComments")&&(r.hasComments=t.hasComments),t.state!=null&&t.hasOwnProperty("state")&&(r.state=t.state),t.attributes!=null&&t.hasOwnProperty("attributes")&&(r.attributes=t.attributes),r},o.prototype.toJSON=function(){return this.constructor.toObject(this,_0x19253a.util.toJSONOptions)},o.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/SuggestionDescriptor"},o})(),a.TrackChangesAddSuggestionMessage=(function(){function o(t){if(t)for(var e=Object.keys(t),r=0;r<e.length;++r)t[e[r]]!=null&&(this[e[r]]=t[e[r]])}return o.prototype.id="",o.prototype.documentId="",o.prototype.type="",o.prototype.data="",o.prototype.originalSuggestionId="",o.prototype.attributes="",o.create=function(t){return new o(t)},o.encode=function(t,e){return e||(e=n.create()),t.id!=null&&Object.hasOwnProperty.call(t,"id")&&e.uint32(10).string(t.id),t.documentId!=null&&Object.hasOwnProperty.call(t,"documentId")&&e.uint32(18).string(t.documentId),t.type!=null&&Object.hasOwnProperty.call(t,"type")&&e.uint32(26).string(t.type),t.data!=null&&Object.hasOwnProperty.call(t,"data")&&e.uint32(34).string(t.data),t.originalSuggestionId!=null&&Object.hasOwnProperty.call(t,"originalSuggestionId")&&e.uint32(42).string(t.originalSuggestionId),t.attributes!=null&&Object.hasOwnProperty.call(t,"attributes")&&e.uint32(50).string(t.attributes),e},o.encodeDelimited=function(t,e){return this.encode(t,e).ldelim()},o.decode=function(t,e,r){t instanceof c||(t=c.create(t));for(var d=e===void 0?t.len:t.pos+e,u=new a.TrackChangesAddSuggestionMessage;t.pos<d;){var l=t.uint32();if(l===r)break;switch(l>>>3){case 1:u.id=t.string();break;case 2:u.documentId=t.string();break;case 3:u.type=t.string();break;case 4:u.data=t.string();break;case 5:u.originalSuggestionId=t.string();break;case 6:u.attributes=t.string();break;default:t.skipType(7&l)}}return u},o.decodeDelimited=function(t){return t instanceof c||(t=new c(t)),this.decode(t,t.uint32())},o.verify=function(t){return typeof t!="object"||t===null?"object expected":t.id!=null&&t.hasOwnProperty("id")&&!s.isString(t.id)?"id: string expected":t.documentId!=null&&t.hasOwnProperty("documentId")&&!s.isString(t.documentId)?"documentId: string expected":t.type!=null&&t.hasOwnProperty("type")&&!s.isString(t.type)?"type: string expected":t.data!=null&&t.hasOwnProperty("data")&&!s.isString(t.data)?"data: string expected":t.originalSuggestionId!=null&&t.hasOwnProperty("originalSuggestionId")&&!s.isString(t.originalSuggestionId)?"originalSuggestionId: string expected":t.attributes!=null&&t.hasOwnProperty("attributes")&&!s.isString(t.attributes)?"attributes: string expected":null},o.fromObject=function(t){if(t instanceof a.TrackChangesAddSuggestionMessage)return t;var e=new a.TrackChangesAddSuggestionMessage;return t.id!=null&&(e.id=String(t.id)),t.documentId!=null&&(e.documentId=String(t.documentId)),t.type!=null&&(e.type=String(t.type)),t.data!=null&&(e.data=String(t.data)),t.originalSuggestionId!=null&&(e.originalSuggestionId=String(t.originalSuggestionId)),t.attributes!=null&&(e.attributes=String(t.attributes)),e},o.toObject=function(t,e){e||(e={});var r={};return e.defaults&&(r.id="",r.documentId="",r.type="",r.data="",r.originalSuggestionId="",r.attributes=""),t.id!=null&&t.hasOwnProperty("id")&&(r.id=t.id),t.documentId!=null&&t.hasOwnProperty("documentId")&&(r.documentId=t.documentId),t.type!=null&&t.hasOwnProperty("type")&&(r.type=t.type),t.data!=null&&t.hasOwnProperty("data")&&(r.data=t.data),t.originalSuggestionId!=null&&t.hasOwnProperty("originalSuggestionId")&&(r.originalSuggestionId=t.originalSuggestionId),t.attributes!=null&&t.hasOwnProperty("attributes")&&(r.attributes=t.attributes),r},o.prototype.toJSON=function(){return this.constructor.toObject(this,_0x19253a.util.toJSONOptions)},o.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/TrackChangesAddSuggestionMessage"},o})(),a.TrackChangesBatchUpdateSuggestionsStateMessage=(function(){function o(t){if(this.ids=[],t)for(var e=Object.keys(t),r=0;r<e.length;++r)t[e[r]]!=null&&(this[e[r]]=t[e[r]])}return o.prototype.ids=s.emptyArray,o.prototype.documentId="",o.prototype.state="",o.create=function(t){return new o(t)},o.encode=function(t,e){if(e||(e=n.create()),t.ids!=null&&t.ids.length)for(var r=0;r<t.ids.length;++r)e.uint32(10).string(t.ids[r]);return t.documentId!=null&&Object.hasOwnProperty.call(t,"documentId")&&e.uint32(18).string(t.documentId),t.state!=null&&Object.hasOwnProperty.call(t,"state")&&e.uint32(26).string(t.state),e},o.encodeDelimited=function(t,e){return this.encode(t,e).ldelim()},o.decode=function(t,e,r){t instanceof c||(t=c.create(t));for(var d=e===void 0?t.len:t.pos+e,u=new a.TrackChangesBatchUpdateSuggestionsStateMessage;t.pos<d;){var l=t.uint32();if(l===r)break;switch(l>>>3){case 1:u.ids&&u.ids.length||(u.ids=[]),u.ids.push(t.string());break;case 2:u.documentId=t.string();break;case 3:u.state=t.string();break;default:t.skipType(7&l)}}return u},o.decodeDelimited=function(t){return t instanceof c||(t=new c(t)),this.decode(t,t.uint32())},o.verify=function(t){if(typeof t!="object"||t===null)return"object expected";if(t.ids!=null&&t.hasOwnProperty("ids")){if(!Array.isArray(t.ids))return"ids: array expected";for(var e=0;e<t.ids.length;++e)if(!s.isString(t.ids[e]))return"ids: string[] expected"}return t.documentId!=null&&t.hasOwnProperty("documentId")&&!s.isString(t.documentId)?"documentId: string expected":t.state!=null&&t.hasOwnProperty("state")&&!s.isString(t.state)?"state: string expected":null},o.fromObject=function(t){if(t instanceof a.TrackChangesBatchUpdateSuggestionsStateMessage)return t;var e=new a.TrackChangesBatchUpdateSuggestionsStateMessage;if(t.ids){if(!Array.isArray(t.ids))throw TypeError(".TrackChangesBatchUpdateSuggestionsStateMessage.ids: array expected");e.ids=[];for(var r=0;r<t.ids.length;++r)e.ids[r]=String(t.ids[r])}return t.documentId!=null&&(e.documentId=String(t.documentId)),t.state!=null&&(e.state=String(t.state)),e},o.toObject=function(t,e){e||(e={});var r={};if((e.arrays||e.defaults)&&(r.ids=[]),e.defaults&&(r.documentId="",r.state=""),t.ids&&t.ids.length){r.ids=[];for(var d=0;d<t.ids.length;++d)r.ids[d]=t.ids[d]}return t.documentId!=null&&t.hasOwnProperty("documentId")&&(r.documentId=t.documentId),t.state!=null&&t.hasOwnProperty("state")&&(r.state=t.state),r},o.prototype.toJSON=function(){return this.constructor.toObject(this,_0x19253a.util.toJSONOptions)},o.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/TrackChangesBatchUpdateSuggestionsStateMessage"},o})(),a.TrackChangesConnectMessage=(function(){function o(t){if(t)for(var e=Object.keys(t),r=0;r<e.length;++r)t[e[r]]!=null&&(this[e[r]]=t[e[r]])}return o.prototype.documentId="",o.create=function(t){return new o(t)},o.encode=function(t,e){return e||(e=n.create()),t.documentId!=null&&Object.hasOwnProperty.call(t,"documentId")&&e.uint32(10).string(t.documentId),e},o.encodeDelimited=function(t,e){return this.encode(t,e).ldelim()},o.decode=function(t,e,r){t instanceof c||(t=c.create(t));for(var d=e===void 0?t.len:t.pos+e,u=new a.TrackChangesConnectMessage;t.pos<d;){var l=t.uint32();if(l===r)break;l>>>3==1?u.documentId=t.string():t.skipType(7&l)}return u},o.decodeDelimited=function(t){return t instanceof c||(t=new c(t)),this.decode(t,t.uint32())},o.verify=function(t){return typeof t!="object"||t===null?"object expected":t.documentId!=null&&t.hasOwnProperty("documentId")&&!s.isString(t.documentId)?"documentId: string expected":null},o.fromObject=function(t){if(t instanceof a.TrackChangesConnectMessage)return t;var e=new a.TrackChangesConnectMessage;return t.documentId!=null&&(e.documentId=String(t.documentId)),e},o.toObject=function(t,e){e||(e={});var r={};return e.defaults&&(r.documentId=""),t.documentId!=null&&t.hasOwnProperty("documentId")&&(r.documentId=t.documentId),r},o.prototype.toJSON=function(){return this.constructor.toObject(this,_0x19253a.util.toJSONOptions)},o.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/TrackChangesConnectMessage"},o})(),a.TrackChangesGetAllSuggestionMessage=(function(){function o(t){if(t)for(var e=Object.keys(t),r=0;r<e.length;++r)t[e[r]]!=null&&(this[e[r]]=t[e[r]])}return o.prototype.documentId="",o.create=function(t){return new o(t)},o.encode=function(t,e){return e||(e=n.create()),t.documentId!=null&&Object.hasOwnProperty.call(t,"documentId")&&e.uint32(10).string(t.documentId),e},o.encodeDelimited=function(t,e){return this.encode(t,e).ldelim()},o.decode=function(t,e,r){t instanceof c||(t=c.create(t));for(var d=e===void 0?t.len:t.pos+e,u=new a.TrackChangesGetAllSuggestionMessage;t.pos<d;){var l=t.uint32();if(l===r)break;l>>>3==1?u.documentId=t.string():t.skipType(7&l)}return u},o.decodeDelimited=function(t){return t instanceof c||(t=new c(t)),this.decode(t,t.uint32())},o.verify=function(t){return typeof t!="object"||t===null?"object expected":t.documentId!=null&&t.hasOwnProperty("documentId")&&!s.isString(t.documentId)?"documentId: string expected":null},o.fromObject=function(t){if(t instanceof a.TrackChangesGetAllSuggestionMessage)return t;var e=new a.TrackChangesGetAllSuggestionMessage;return t.documentId!=null&&(e.documentId=String(t.documentId)),e},o.toObject=function(t,e){e||(e={});var r={};return e.defaults&&(r.documentId=""),t.documentId!=null&&t.hasOwnProperty("documentId")&&(r.documentId=t.documentId),r},o.prototype.toJSON=function(){return this.constructor.toObject(this,_0x19253a.util.toJSONOptions)},o.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/TrackChangesGetAllSuggestionMessage"},o})(),a.TrackChangesGetSuggestionMessage=(function(){function o(t){if(t)for(var e=Object.keys(t),r=0;r<e.length;++r)t[e[r]]!=null&&(this[e[r]]=t[e[r]])}return o.prototype.id="",o.prototype.documentId="",o.create=function(t){return new o(t)},o.encode=function(t,e){return e||(e=n.create()),t.id!=null&&Object.hasOwnProperty.call(t,"id")&&e.uint32(10).string(t.id),t.documentId!=null&&Object.hasOwnProperty.call(t,"documentId")&&e.uint32(18).string(t.documentId),e},o.encodeDelimited=function(t,e){return this.encode(t,e).ldelim()},o.decode=function(t,e,r){t instanceof c||(t=c.create(t));for(var d=e===void 0?t.len:t.pos+e,u=new a.TrackChangesGetSuggestionMessage;t.pos<d;){var l=t.uint32();if(l===r)break;switch(l>>>3){case 1:u.id=t.string();break;case 2:u.documentId=t.string();break;default:t.skipType(7&l)}}return u},o.decodeDelimited=function(t){return t instanceof c||(t=new c(t)),this.decode(t,t.uint32())},o.verify=function(t){return typeof t!="object"||t===null?"object expected":t.id!=null&&t.hasOwnProperty("id")&&!s.isString(t.id)?"id: string expected":t.documentId!=null&&t.hasOwnProperty("documentId")&&!s.isString(t.documentId)?"documentId: string expected":null},o.fromObject=function(t){if(t instanceof a.TrackChangesGetSuggestionMessage)return t;var e=new a.TrackChangesGetSuggestionMessage;return t.id!=null&&(e.id=String(t.id)),t.documentId!=null&&(e.documentId=String(t.documentId)),e},o.toObject=function(t,e){e||(e={});var r={};return e.defaults&&(r.id="",r.documentId=""),t.id!=null&&t.hasOwnProperty("id")&&(r.id=t.id),t.documentId!=null&&t.hasOwnProperty("documentId")&&(r.documentId=t.documentId),r},o.prototype.toJSON=function(){return this.constructor.toObject(this,_0x19253a.util.toJSONOptions)},o.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/TrackChangesGetSuggestionMessage"},o})(),a.TrackChangesUpdateSuggestionMessage=(function(){function o(t){if(t)for(var e=Object.keys(t),r=0;r<e.length;++r)t[e[r]]!=null&&(this[e[r]]=t[e[r]])}return o.prototype.id="",o.prototype.documentId="",o.prototype.hasComments=!1,o.prototype.isHasCommentsModified=!1,o.prototype.state="",o.prototype.attributes="",o.create=function(t){return new o(t)},o.encode=function(t,e){return e||(e=n.create()),t.id!=null&&Object.hasOwnProperty.call(t,"id")&&e.uint32(10).string(t.id),t.documentId!=null&&Object.hasOwnProperty.call(t,"documentId")&&e.uint32(18).string(t.documentId),t.hasComments!=null&&Object.hasOwnProperty.call(t,"hasComments")&&e.uint32(24).bool(t.hasComments),t.isHasCommentsModified!=null&&Object.hasOwnProperty.call(t,"isHasCommentsModified")&&e.uint32(32).bool(t.isHasCommentsModified),t.state!=null&&Object.hasOwnProperty.call(t,"state")&&e.uint32(42).string(t.state),t.attributes!=null&&Object.hasOwnProperty.call(t,"attributes")&&e.uint32(50).string(t.attributes),e},o.encodeDelimited=function(t,e){return this.encode(t,e).ldelim()},o.decode=function(t,e,r){t instanceof c||(t=c.create(t));for(var d=e===void 0?t.len:t.pos+e,u=new a.TrackChangesUpdateSuggestionMessage;t.pos<d;){var l=t.uint32();if(l===r)break;switch(l>>>3){case 1:u.id=t.string();break;case 2:u.documentId=t.string();break;case 3:u.hasComments=t.bool();break;case 4:u.isHasCommentsModified=t.bool();break;case 5:u.state=t.string();break;case 6:u.attributes=t.string();break;default:t.skipType(7&l)}}return u},o.decodeDelimited=function(t){return t instanceof c||(t=new c(t)),this.decode(t,t.uint32())},o.verify=function(t){return typeof t!="object"||t===null?"object expected":t.id!=null&&t.hasOwnProperty("id")&&!s.isString(t.id)?"id: string expected":t.documentId!=null&&t.hasOwnProperty("documentId")&&!s.isString(t.documentId)?"documentId: string expected":t.hasComments!=null&&t.hasOwnProperty("hasComments")&&typeof t.hasComments!="boolean"?"hasComments: boolean expected":t.isHasCommentsModified!=null&&t.hasOwnProperty("isHasCommentsModified")&&typeof t.isHasCommentsModified!="boolean"?"isHasCommentsModified: boolean expected":t.state!=null&&t.hasOwnProperty("state")&&!s.isString(t.state)?"state: string expected":t.attributes!=null&&t.hasOwnProperty("attributes")&&!s.isString(t.attributes)?"attributes: string expected":null},o.fromObject=function(t){if(t instanceof a.TrackChangesUpdateSuggestionMessage)return t;var e=new a.TrackChangesUpdateSuggestionMessage;return t.id!=null&&(e.id=String(t.id)),t.documentId!=null&&(e.documentId=String(t.documentId)),t.hasComments!=null&&(e.hasComments=!!t.hasComments),t.isHasCommentsModified!=null&&(e.isHasCommentsModified=!!t.isHasCommentsModified),t.state!=null&&(e.state=String(t.state)),t.attributes!=null&&(e.attributes=String(t.attributes)),e},o.toObject=function(t,e){e||(e={});var r={};return e.defaults&&(r.id="",r.documentId="",r.hasComments=!1,r.isHasCommentsModified=!1,r.state="",r.attributes=""),t.id!=null&&t.hasOwnProperty("id")&&(r.id=t.id),t.documentId!=null&&t.hasOwnProperty("documentId")&&(r.documentId=t.documentId),t.hasComments!=null&&t.hasOwnProperty("hasComments")&&(r.hasComments=t.hasComments),t.isHasCommentsModified!=null&&t.hasOwnProperty("isHasCommentsModified")&&(r.isHasCommentsModified=t.isHasCommentsModified),t.state!=null&&t.hasOwnProperty("state")&&(r.state=t.state),t.attributes!=null&&t.hasOwnProperty("attributes")&&(r.attributes=t.attributes),r},o.prototype.toJSON=function(){return this.constructor.toObject(this,_0x19253a.util.toJSONOptions)},o.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/TrackChangesUpdateSuggestionMessage"},o})(),a.TrackChangesAddSuggestionResponse=(function(){function o(t){if(t)for(var e=Object.keys(t),r=0;r<e.length;++r)t[e[r]]!=null&&(this[e[r]]=t[e[r]])}return o.prototype.id="",o.prototype.authorId="",o.prototype.type="",o.prototype.createdAt="",o.prototype.data="",o.prototype.hasComments=!1,o.prototype.state="",o.prototype.attributes="",o.create=function(t){return new o(t)},o.encode=function(t,e){return e||(e=n.create()),t.id!=null&&Object.hasOwnProperty.call(t,"id")&&e.uint32(10).string(t.id),t.authorId!=null&&Object.hasOwnProperty.call(t,"authorId")&&e.uint32(18).string(t.authorId),t.type!=null&&Object.hasOwnProperty.call(t,"type")&&e.uint32(26).string(t.type),t.createdAt!=null&&Object.hasOwnProperty.call(t,"createdAt")&&e.uint32(34).string(t.createdAt),t.data!=null&&Object.hasOwnProperty.call(t,"data")&&e.uint32(42).string(t.data),t.hasComments!=null&&Object.hasOwnProperty.call(t,"hasComments")&&e.uint32(48).bool(t.hasComments),t.state!=null&&Object.hasOwnProperty.call(t,"state")&&e.uint32(58).string(t.state),t.attributes!=null&&Object.hasOwnProperty.call(t,"attributes")&&e.uint32(66).string(t.attributes),e},o.encodeDelimited=function(t,e){return this.encode(t,e).ldelim()},o.decode=function(t,e,r){t instanceof c||(t=c.create(t));for(var d=e===void 0?t.len:t.pos+e,u=new a.TrackChangesAddSuggestionResponse;t.pos<d;){var l=t.uint32();if(l===r)break;switch(l>>>3){case 1:u.id=t.string();break;case 2:u.authorId=t.string();break;case 3:u.type=t.string();break;case 4:u.createdAt=t.string();break;case 5:u.data=t.string();break;case 6:u.hasComments=t.bool();break;case 7:u.state=t.string();break;case 8:u.attributes=t.string();break;default:t.skipType(7&l)}}return u},o.decodeDelimited=function(t){return t instanceof c||(t=new c(t)),this.decode(t,t.uint32())},o.verify=function(t){return typeof t!="object"||t===null?"object expected":t.id!=null&&t.hasOwnProperty("id")&&!s.isString(t.id)?"id: string expected":t.authorId!=null&&t.hasOwnProperty("authorId")&&!s.isString(t.authorId)?"authorId: string expected":t.type!=null&&t.hasOwnProperty("type")&&!s.isString(t.type)?"type: string expected":t.createdAt!=null&&t.hasOwnProperty("createdAt")&&!s.isString(t.createdAt)?"createdAt: string expected":t.data!=null&&t.hasOwnProperty("data")&&!s.isString(t.data)?"data: string expected":t.hasComments!=null&&t.hasOwnProperty("hasComments")&&typeof t.hasComments!="boolean"?"hasComments: boolean expected":t.state!=null&&t.hasOwnProperty("state")&&!s.isString(t.state)?"state: string expected":t.attributes!=null&&t.hasOwnProperty("attributes")&&!s.isString(t.attributes)?"attributes: string expected":null},o.fromObject=function(t){if(t instanceof a.TrackChangesAddSuggestionResponse)return t;var e=new a.TrackChangesAddSuggestionResponse;return t.id!=null&&(e.id=String(t.id)),t.authorId!=null&&(e.authorId=String(t.authorId)),t.type!=null&&(e.type=String(t.type)),t.createdAt!=null&&(e.createdAt=String(t.createdAt)),t.data!=null&&(e.data=String(t.data)),t.hasComments!=null&&(e.hasComments=!!t.hasComments),t.state!=null&&(e.state=String(t.state)),t.attributes!=null&&(e.attributes=String(t.attributes)),e},o.toObject=function(t,e){e||(e={});var r={};return e.defaults&&(r.id="",r.authorId="",r.type="",r.createdAt="",r.data="",r.hasComments=!1,r.state="",r.attributes=""),t.id!=null&&t.hasOwnProperty("id")&&(r.id=t.id),t.authorId!=null&&t.hasOwnProperty("authorId")&&(r.authorId=t.authorId),t.type!=null&&t.hasOwnProperty("type")&&(r.type=t.type),t.createdAt!=null&&t.hasOwnProperty("createdAt")&&(r.createdAt=t.createdAt),t.data!=null&&t.hasOwnProperty("data")&&(r.data=t.data),t.hasComments!=null&&t.hasOwnProperty("hasComments")&&(r.hasComments=t.hasComments),t.state!=null&&t.hasOwnProperty("state")&&(r.state=t.state),t.attributes!=null&&t.hasOwnProperty("attributes")&&(r.attributes=t.attributes),r},o.prototype.toJSON=function(){return this.constructor.toObject(this,_0x19253a.util.toJSONOptions)},o.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/TrackChangesAddSuggestionResponse"},o})(),a.TrackChangesConnectResponse=(function(){function o(t){if(this.suggestions=[],this.suggestionsV2=[],t)for(var e=Object.keys(t),r=0;r<e.length;++r)t[e[r]]!=null&&(this[e[r]]=t[e[r]])}return o.prototype.channel="",o.prototype.suggestions=s.emptyArray,o.prototype.suggestionsV2=s.emptyArray,o.create=function(t){return new o(t)},o.encode=function(t,e){if(e||(e=n.create()),t.channel!=null&&Object.hasOwnProperty.call(t,"channel")&&e.uint32(10).string(t.channel),t.suggestions!=null&&t.suggestions.length)for(var r=0;r<t.suggestions.length;++r)e.uint32(18).string(t.suggestions[r]);if(t.suggestionsV2!=null&&t.suggestionsV2.length)for(r=0;r<t.suggestionsV2.length;++r)a.SuggestionDescriptor.encode(t.suggestionsV2[r],e.uint32(26).fork()).ldelim();return e},o.encodeDelimited=function(t,e){return this.encode(t,e).ldelim()},o.decode=function(t,e,r){t instanceof c||(t=c.create(t));for(var d=e===void 0?t.len:t.pos+e,u=new a.TrackChangesConnectResponse;t.pos<d;){var l=t.uint32();if(l===r)break;switch(l>>>3){case 1:u.channel=t.string();break;case 2:u.suggestions&&u.suggestions.length||(u.suggestions=[]),u.suggestions.push(t.string());break;case 3:u.suggestionsV2&&u.suggestionsV2.length||(u.suggestionsV2=[]),u.suggestionsV2.push(a.SuggestionDescriptor.decode(t,t.uint32()));break;default:t.skipType(7&l)}}return u},o.decodeDelimited=function(t){return t instanceof c||(t=new c(t)),this.decode(t,t.uint32())},o.verify=function(t){if(typeof t!="object"||t===null)return"object expected";if(t.channel!=null&&t.hasOwnProperty("channel")&&!s.isString(t.channel))return"channel: string expected";if(t.suggestions!=null&&t.hasOwnProperty("suggestions")){if(!Array.isArray(t.suggestions))return"suggestions: array expected";for(var e=0;e<t.suggestions.length;++e)if(!s.isString(t.suggestions[e]))return"suggestions: string[] expected"}if(t.suggestionsV2!=null&&t.hasOwnProperty("suggestionsV2")){if(!Array.isArray(t.suggestionsV2))return"suggestionsV2: array expected";for(e=0;e<t.suggestionsV2.length;++e){var r=a.SuggestionDescriptor.verify(t.suggestionsV2[e]);if(r)return"suggestionsV2."+r}}return null},o.fromObject=function(t){if(t instanceof a.TrackChangesConnectResponse)return t;var e=new a.TrackChangesConnectResponse;if(t.channel!=null&&(e.channel=String(t.channel)),t.suggestions){if(!Array.isArray(t.suggestions))throw TypeError(".TrackChangesConnectResponse.suggestions: array expected");e.suggestions=[];for(var r=0;r<t.suggestions.length;++r)e.suggestions[r]=String(t.suggestions[r])}if(t.suggestionsV2){if(!Array.isArray(t.suggestionsV2))throw TypeError(".TrackChangesConnectResponse.suggestionsV2: array expected");for(e.suggestionsV2=[],r=0;r<t.suggestionsV2.length;++r){if(typeof t.suggestionsV2[r]!="object")throw TypeError(".TrackChangesConnectResponse.suggestionsV2: object expected");e.suggestionsV2[r]=a.SuggestionDescriptor.fromObject(t.suggestionsV2[r])}}return e},o.toObject=function(t,e){e||(e={});var r={};if((e.arrays||e.defaults)&&(r.suggestions=[],r.suggestionsV2=[]),e.defaults&&(r.channel=""),t.channel!=null&&t.hasOwnProperty("channel")&&(r.channel=t.channel),t.suggestions&&t.suggestions.length){r.suggestions=[];for(var d=0;d<t.suggestions.length;++d)r.suggestions[d]=t.suggestions[d]}if(t.suggestionsV2&&t.suggestionsV2.length)for(r.suggestionsV2=[],d=0;d<t.suggestionsV2.length;++d)r.suggestionsV2[d]=a.SuggestionDescriptor.toObject(t.suggestionsV2[d],e);return r},o.prototype.toJSON=function(){return this.constructor.toObject(this,_0x19253a.util.toJSONOptions)},o.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/TrackChangesConnectResponse"},o})(),a.TrackChangesGetAllSuggestionsResponse=(function(){function o(t){if(this.suggestions=[],this.suggestionsV2=[],t)for(var e=Object.keys(t),r=0;r<e.length;++r)t[e[r]]!=null&&(this[e[r]]=t[e[r]])}return o.prototype.suggestions=s.emptyArray,o.prototype.suggestionsV2=s.emptyArray,o.create=function(t){return new o(t)},o.encode=function(t,e){if(e||(e=n.create()),t.suggestions!=null&&t.suggestions.length)for(var r=0;r<t.suggestions.length;++r)e.uint32(10).string(t.suggestions[r]);if(t.suggestionsV2!=null&&t.suggestionsV2.length)for(r=0;r<t.suggestionsV2.length;++r)a.SuggestionDescriptor.encode(t.suggestionsV2[r],e.uint32(18).fork()).ldelim();return e},o.encodeDelimited=function(t,e){return this.encode(t,e).ldelim()},o.decode=function(t,e,r){t instanceof c||(t=c.create(t));for(var d=e===void 0?t.len:t.pos+e,u=new a.TrackChangesGetAllSuggestionsResponse;t.pos<d;){var l=t.uint32();if(l===r)break;switch(l>>>3){case 1:u.suggestions&&u.suggestions.length||(u.suggestions=[]),u.suggestions.push(t.string());break;case 2:u.suggestionsV2&&u.suggestionsV2.length||(u.suggestionsV2=[]),u.suggestionsV2.push(a.SuggestionDescriptor.decode(t,t.uint32()));break;default:t.skipType(7&l)}}return u},o.decodeDelimited=function(t){return t instanceof c||(t=new c(t)),this.decode(t,t.uint32())},o.verify=function(t){if(typeof t!="object"||t===null)return"object expected";if(t.suggestions!=null&&t.hasOwnProperty("suggestions")){if(!Array.isArray(t.suggestions))return"suggestions: array expected";for(var e=0;e<t.suggestions.length;++e)if(!s.isString(t.suggestions[e]))return"suggestions: string[] expected"}if(t.suggestionsV2!=null&&t.hasOwnProperty("suggestionsV2")){if(!Array.isArray(t.suggestionsV2))return"suggestionsV2: array expected";for(e=0;e<t.suggestionsV2.length;++e){var r=a.SuggestionDescriptor.verify(t.suggestionsV2[e]);if(r)return"suggestionsV2."+r}}return null},o.fromObject=function(t){if(t instanceof a.TrackChangesGetAllSuggestionsResponse)return t;var e=new a.TrackChangesGetAllSuggestionsResponse;if(t.suggestions){if(!Array.isArray(t.suggestions))throw TypeError(".TrackChangesGetAllSuggestionsResponse.suggestions: array expected");e.suggestions=[];for(var r=0;r<t.suggestions.length;++r)e.suggestions[r]=String(t.suggestions[r])}if(t.suggestionsV2){if(!Array.isArray(t.suggestionsV2))throw TypeError(".TrackChangesGetAllSuggestionsResponse.suggestionsV2: array expected");for(e.suggestionsV2=[],r=0;r<t.suggestionsV2.length;++r){if(typeof t.suggestionsV2[r]!="object")throw TypeError(".TrackChangesGetAllSuggestionsResponse.suggestionsV2: object expected");e.suggestionsV2[r]=a.SuggestionDescriptor.fromObject(t.suggestionsV2[r])}}return e},o.toObject=function(t,e){e||(e={});var r={};if((e.arrays||e.defaults)&&(r.suggestions=[],r.suggestionsV2=[]),t.suggestions&&t.suggestions.length){r.suggestions=[];for(var d=0;d<t.suggestions.length;++d)r.suggestions[d]=t.suggestions[d]}if(t.suggestionsV2&&t.suggestionsV2.length)for(r.suggestionsV2=[],d=0;d<t.suggestionsV2.length;++d)r.suggestionsV2[d]=a.SuggestionDescriptor.toObject(t.suggestionsV2[d],e);return r},o.prototype.toJSON=function(){return this.constructor.toObject(this,_0x19253a.util.toJSONOptions)},o.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/TrackChangesGetAllSuggestionsResponse"},o})(),a.TrackChangesGetSuggestionResponse=(function(){function o(t){if(t)for(var e=Object.keys(t),r=0;r<e.length;++r)t[e[r]]!=null&&(this[e[r]]=t[e[r]])}return o.prototype.id="",o.prototype.authorId="",o.prototype.type="",o.prototype.createdAt="",o.prototype.data="",o.prototype.hasComments=!1,o.prototype.state="",o.prototype.attributes="",o.create=function(t){return new o(t)},o.encode=function(t,e){return e||(e=n.create()),t.id!=null&&Object.hasOwnProperty.call(t,"id")&&e.uint32(10).string(t.id),t.authorId!=null&&Object.hasOwnProperty.call(t,"authorId")&&e.uint32(18).string(t.authorId),t.type!=null&&Object.hasOwnProperty.call(t,"type")&&e.uint32(26).string(t.type),t.createdAt!=null&&Object.hasOwnProperty.call(t,"createdAt")&&e.uint32(34).string(t.createdAt),t.data!=null&&Object.hasOwnProperty.call(t,"data")&&e.uint32(42).string(t.data),t.hasComments!=null&&Object.hasOwnProperty.call(t,"hasComments")&&e.uint32(48).bool(t.hasComments),t.state!=null&&Object.hasOwnProperty.call(t,"state")&&e.uint32(58).string(t.state),t.attributes!=null&&Object.hasOwnProperty.call(t,"attributes")&&e.uint32(66).string(t.attributes),e},o.encodeDelimited=function(t,e){return this.encode(t,e).ldelim()},o.decode=function(t,e,r){t instanceof c||(t=c.create(t));for(var d=e===void 0?t.len:t.pos+e,u=new a.TrackChangesGetSuggestionResponse;t.pos<d;){var l=t.uint32();if(l===r)break;switch(l>>>3){case 1:u.id=t.string();break;case 2:u.authorId=t.string();break;case 3:u.type=t.string();break;case 4:u.createdAt=t.string();break;case 5:u.data=t.string();break;case 6:u.hasComments=t.bool();break;case 7:u.state=t.string();break;case 8:u.attributes=t.string();break;default:t.skipType(7&l)}}return u},o.decodeDelimited=function(t){return t instanceof c||(t=new c(t)),this.decode(t,t.uint32())},o.verify=function(t){return typeof t!="object"||t===null?"object expected":t.id!=null&&t.hasOwnProperty("id")&&!s.isString(t.id)?"id: string expected":t.authorId!=null&&t.hasOwnProperty("authorId")&&!s.isString(t.authorId)?"authorId: string expected":t.type!=null&&t.hasOwnProperty("type")&&!s.isString(t.type)?"type: string expected":t.createdAt!=null&&t.hasOwnProperty("createdAt")&&!s.isString(t.createdAt)?"createdAt: string expected":t.data!=null&&t.hasOwnProperty("data")&&!s.isString(t.data)?"data: string expected":t.hasComments!=null&&t.hasOwnProperty("hasComments")&&typeof t.hasComments!="boolean"?"hasComments: boolean expected":t.state!=null&&t.hasOwnProperty("state")&&!s.isString(t.state)?"state: string expected":t.attributes!=null&&t.hasOwnProperty("attributes")&&!s.isString(t.attributes)?"attributes: string expected":null},o.fromObject=function(t){if(t instanceof a.TrackChangesGetSuggestionResponse)return t;var e=new a.TrackChangesGetSuggestionResponse;return t.id!=null&&(e.id=String(t.id)),t.authorId!=null&&(e.authorId=String(t.authorId)),t.type!=null&&(e.type=String(t.type)),t.createdAt!=null&&(e.createdAt=String(t.createdAt)),t.data!=null&&(e.data=String(t.data)),t.hasComments!=null&&(e.hasComments=!!t.hasComments),t.state!=null&&(e.state=String(t.state)),t.attributes!=null&&(e.attributes=String(t.attributes)),e},o.toObject=function(t,e){e||(e={});var r={};return e.defaults&&(r.id="",r.authorId="",r.type="",r.createdAt="",r.data="",r.hasComments=!1,r.state="",r.attributes=""),t.id!=null&&t.hasOwnProperty("id")&&(r.id=t.id),t.authorId!=null&&t.hasOwnProperty("authorId")&&(r.authorId=t.authorId),t.type!=null&&t.hasOwnProperty("type")&&(r.type=t.type),t.createdAt!=null&&t.hasOwnProperty("createdAt")&&(r.createdAt=t.createdAt),t.data!=null&&t.hasOwnProperty("data")&&(r.data=t.data),t.hasComments!=null&&t.hasOwnProperty("hasComments")&&(r.hasComments=t.hasComments),t.state!=null&&t.hasOwnProperty("state")&&(r.state=t.state),t.attributes!=null&&t.hasOwnProperty("attributes")&&(r.attributes=t.attributes),r},o.prototype.toJSON=function(){return this.constructor.toObject(this,_0x19253a.util.toJSONOptions)},o.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/TrackChangesGetSuggestionResponse"},o})(),a.UserDescriptor=(function(){function o(t){if(this.attributes=[],t)for(var e=Object.keys(t),r=0;r<e.length;++r)t[e[r]]!=null&&(this[e[r]]=t[e[r]])}return o.prototype.attributes=s.emptyArray,o.create=function(t){return new o(t)},o.encode=function(t,e){if(e||(e=n.create()),t.attributes!=null&&t.attributes.length)for(var r=0;r<t.attributes.length;++r)a.KeyValueDescriptor.encode(t.attributes[r],e.uint32(10).fork()).ldelim();return e},o.encodeDelimited=function(t,e){return this.encode(t,e).ldelim()},o.decode=function(t,e,r){t instanceof c||(t=c.create(t));for(var d=e===void 0?t.len:t.pos+e,u=new a.UserDescriptor;t.pos<d;){var l=t.uint32();if(l===r)break;l>>>3==1?(u.attributes&&u.attributes.length||(u.attributes=[]),u.attributes.push(a.KeyValueDescriptor.decode(t,t.uint32()))):t.skipType(7&l)}return u},o.decodeDelimited=function(t){return t instanceof c||(t=new c(t)),this.decode(t,t.uint32())},o.verify=function(t){if(typeof t!="object"||t===null)return"object expected";if(t.attributes!=null&&t.hasOwnProperty("attributes")){if(!Array.isArray(t.attributes))return"attributes: array expected";for(var e=0;e<t.attributes.length;++e){var r=a.KeyValueDescriptor.verify(t.attributes[e]);if(r)return"attributes."+r}}return null},o.fromObject=function(t){if(t instanceof a.UserDescriptor)return t;var e=new a.UserDescriptor;if(t.attributes){if(!Array.isArray(t.attributes))throw TypeError(".UserDescriptor.attributes: array expected");e.attributes=[];for(var r=0;r<t.attributes.length;++r){if(typeof t.attributes[r]!="object")throw TypeError(".UserDescriptor.attributes: object expected");e.attributes[r]=a.KeyValueDescriptor.fromObject(t.attributes[r])}}return e},o.toObject=function(t,e){e||(e={});var r={};if((e.arrays||e.defaults)&&(r.attributes=[]),t.attributes&&t.attributes.length){r.attributes=[];for(var d=0;d<t.attributes.length;++d)r.attributes[d]=a.KeyValueDescriptor.toObject(t.attributes[d],e)}return r},o.prototype.toJSON=function(){return this.constructor.toObject(this,_0x19253a.util.toJSONOptions)},o.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/UserDescriptor"},o})(),a.GetManyUsersMessage=(function(){function o(t){if(this.ids=[],t)for(var e=Object.keys(t),r=0;r<e.length;++r)t[e[r]]!=null&&(this[e[r]]=t[e[r]])}return o.prototype.ids=s.emptyArray,o.create=function(t){return new o(t)},o.encode=function(t,e){if(e||(e=n.create()),t.ids!=null&&t.ids.length)for(var r=0;r<t.ids.length;++r)e.uint32(10).string(t.ids[r]);return e},o.encodeDelimited=function(t,e){return this.encode(t,e).ldelim()},o.decode=function(t,e,r){t instanceof c||(t=c.create(t));for(var d=e===void 0?t.len:t.pos+e,u=new a.GetManyUsersMessage;t.pos<d;){var l=t.uint32();if(l===r)break;l>>>3==1?(u.ids&&u.ids.length||(u.ids=[]),u.ids.push(t.string())):t.skipType(7&l)}return u},o.decodeDelimited=function(t){return t instanceof c||(t=new c(t)),this.decode(t,t.uint32())},o.verify=function(t){if(typeof t!="object"||t===null)return"object expected";if(t.ids!=null&&t.hasOwnProperty("ids")){if(!Array.isArray(t.ids))return"ids: array expected";for(var e=0;e<t.ids.length;++e)if(!s.isString(t.ids[e]))return"ids: string[] expected"}return null},o.fromObject=function(t){if(t instanceof a.GetManyUsersMessage)return t;var e=new a.GetManyUsersMessage;if(t.ids){if(!Array.isArray(t.ids))throw TypeError(".GetManyUsersMessage.ids: array expected");e.ids=[];for(var r=0;r<t.ids.length;++r)e.ids[r]=String(t.ids[r])}return e},o.toObject=function(t,e){e||(e={});var r={};if((e.arrays||e.defaults)&&(r.ids=[]),t.ids&&t.ids.length){r.ids=[];for(var d=0;d<t.ids.length;++d)r.ids[d]=t.ids[d]}return r},o.prototype.toJSON=function(){return this.constructor.toObject(this,_0x19253a.util.toJSONOptions)},o.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/GetManyUsersMessage"},o})(),a.GetUserMessage=(function(){function o(t){if(t)for(var e=Object.keys(t),r=0;r<e.length;++r)t[e[r]]!=null&&(this[e[r]]=t[e[r]])}return o.prototype.id="",o.create=function(t){return new o(t)},o.encode=function(t,e){return e||(e=n.create()),t.id!=null&&Object.hasOwnProperty.call(t,"id")&&e.uint32(10).string(t.id),e},o.encodeDelimited=function(t,e){return this.encode(t,e).ldelim()},o.decode=function(t,e,r){t instanceof c||(t=c.create(t));for(var d=e===void 0?t.len:t.pos+e,u=new a.GetUserMessage;t.pos<d;){var l=t.uint32();if(l===r)break;l>>>3==1?u.id=t.string():t.skipType(7&l)}return u},o.decodeDelimited=function(t){return t instanceof c||(t=new c(t)),this.decode(t,t.uint32())},o.verify=function(t){return typeof t!="object"||t===null?"object expected":t.id!=null&&t.hasOwnProperty("id")&&!s.isString(t.id)?"id: string expected":null},o.fromObject=function(t){if(t instanceof a.GetUserMessage)return t;var e=new a.GetUserMessage;return t.id!=null&&(e.id=String(t.id)),e},o.toObject=function(t,e){e||(e={});var r={};return e.defaults&&(r.id=""),t.id!=null&&t.hasOwnProperty("id")&&(r.id=t.id),r},o.prototype.toJSON=function(){return this.constructor.toObject(this,_0x19253a.util.toJSONOptions)},o.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/GetUserMessage"},o})(),a.GetManyUsersResponse=(function(){function o(t){if(this.users=[],t)for(var e=Object.keys(t),r=0;r<e.length;++r)t[e[r]]!=null&&(this[e[r]]=t[e[r]])}return o.prototype.users=s.emptyArray,o.create=function(t){return new o(t)},o.encode=function(t,e){if(e||(e=n.create()),t.users!=null&&t.users.length)for(var r=0;r<t.users.length;++r)a.UserDescriptor.encode(t.users[r],e.uint32(10).fork()).ldelim();return e},o.encodeDelimited=function(t,e){return this.encode(t,e).ldelim()},o.decode=function(t,e,r){t instanceof c||(t=c.create(t));for(var d=e===void 0?t.len:t.pos+e,u=new a.GetManyUsersResponse;t.pos<d;){var l=t.uint32();if(l===r)break;l>>>3==1?(u.users&&u.users.length||(u.users=[]),u.users.push(a.UserDescriptor.decode(t,t.uint32()))):t.skipType(7&l)}return u},o.decodeDelimited=function(t){return t instanceof c||(t=new c(t)),this.decode(t,t.uint32())},o.verify=function(t){if(typeof t!="object"||t===null)return"object expected";if(t.users!=null&&t.hasOwnProperty("users")){if(!Array.isArray(t.users))return"users: array expected";for(var e=0;e<t.users.length;++e){var r=a.UserDescriptor.verify(t.users[e]);if(r)return"users."+r}}return null},o.fromObject=function(t){if(t instanceof a.GetManyUsersResponse)return t;var e=new a.GetManyUsersResponse;if(t.users){if(!Array.isArray(t.users))throw TypeError(".GetManyUsersResponse.users: array expected");e.users=[];for(var r=0;r<t.users.length;++r){if(typeof t.users[r]!="object")throw TypeError(".GetManyUsersResponse.users: object expected");e.users[r]=a.UserDescriptor.fromObject(t.users[r])}}return e},o.toObject=function(t,e){e||(e={});var r={};if((e.arrays||e.defaults)&&(r.users=[]),t.users&&t.users.length){r.users=[];for(var d=0;d<t.users.length;++d)r.users[d]=a.UserDescriptor.toObject(t.users[d],e)}return r},o.prototype.toJSON=function(){return this.constructor.toObject(this,_0x19253a.util.toJSONOptions)},o.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/GetManyUsersResponse"},o})(),a.GetUserResponse=(function(){function o(t){if(this.attributes=[],t)for(var e=Object.keys(t),r=0;r<e.length;++r)t[e[r]]!=null&&(this[e[r]]=t[e[r]])}return o.prototype.attributes=s.emptyArray,o.create=function(t){return new o(t)},o.encode=function(t,e){if(e||(e=n.create()),t.attributes!=null&&t.attributes.length)for(var r=0;r<t.attributes.length;++r)a.KeyValueDescriptor.encode(t.attributes[r],e.uint32(10).fork()).ldelim();return e},o.encodeDelimited=function(t,e){return this.encode(t,e).ldelim()},o.decode=function(t,e,r){t instanceof c||(t=c.create(t));for(var d=e===void 0?t.len:t.pos+e,u=new a.GetUserResponse;t.pos<d;){var l=t.uint32();if(l===r)break;l>>>3==1?(u.attributes&&u.attributes.length||(u.attributes=[]),u.attributes.push(a.KeyValueDescriptor.decode(t,t.uint32()))):t.skipType(7&l)}return u},o.decodeDelimited=function(t){return t instanceof c||(t=new c(t)),this.decode(t,t.uint32())},o.verify=function(t){if(typeof t!="object"||t===null)return"object expected";if(t.attributes!=null&&t.hasOwnProperty("attributes")){if(!Array.isArray(t.attributes))return"attributes: array expected";for(var e=0;e<t.attributes.length;++e){var r=a.KeyValueDescriptor.verify(t.attributes[e]);if(r)return"attributes."+r}}return null},o.fromObject=function(t){if(t instanceof a.GetUserResponse)return t;var e=new a.GetUserResponse;if(t.attributes){if(!Array.isArray(t.attributes))throw TypeError(".GetUserResponse.attributes: array expected");e.attributes=[];for(var r=0;r<t.attributes.length;++r){if(typeof t.attributes[r]!="object")throw TypeError(".GetUserResponse.attributes: object expected");e.attributes[r]=a.KeyValueDescriptor.fromObject(t.attributes[r])}}return e},o.toObject=function(t,e){e||(e={});var r={};if((e.arrays||e.defaults)&&(r.attributes=[]),t.attributes&&t.attributes.length){r.attributes=[];for(var d=0;d<t.attributes.length;++d)r.attributes[d]=a.KeyValueDescriptor.toObject(t.attributes[d],e)}return r},o.prototype.toJSON=function(){return this.constructor.toObject(this,_0x19253a.util.toJSONOptions)},o.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/GetUserResponse"},o})(),a.ChannelMessage=(function(){function o(t){if(t)for(var e=Object.keys(t),r=0;r<e.length;++r)t[e[r]]!=null&&(this[e[r]]=t[e[r]])}return o.prototype.type=0,o.prototype.socketId="",o.prototype.data=s.newBuffer([]),o.create=function(t){return new o(t)},o.encode=function(t,e){return e||(e=n.create()),t.type!=null&&Object.hasOwnProperty.call(t,"type")&&e.uint32(8).uint32(t.type),t.socketId!=null&&Object.hasOwnProperty.call(t,"socketId")&&e.uint32(18).string(t.socketId),t.data!=null&&Object.hasOwnProperty.call(t,"data")&&e.uint32(26).bytes(t.data),e},o.encodeDelimited=function(t,e){return this.encode(t,e).ldelim()},o.decode=function(t,e,r){t instanceof c||(t=c.create(t));for(var d=e===void 0?t.len:t.pos+e,u=new a.ChannelMessage;t.pos<d;){var l=t.uint32();if(l===r)break;switch(l>>>3){case 1:u.type=t.uint32();break;case 2:u.socketId=t.string();break;case 3:u.data=t.bytes();break;default:t.skipType(7&l)}}return u},o.decodeDelimited=function(t){return t instanceof c||(t=new c(t)),this.decode(t,t.uint32())},o.verify=function(t){return typeof t!="object"||t===null?"object expected":t.type!=null&&t.hasOwnProperty("type")&&!s.isInteger(t.type)?"type: integer expected":t.socketId!=null&&t.hasOwnProperty("socketId")&&!s.isString(t.socketId)?"socketId: string expected":t.data!=null&&t.hasOwnProperty("data")&&!(t.data&&typeof t.data.length=="number"||s.isString(t.data))?"data: buffer expected":null},o.fromObject=function(t){if(t instanceof a.ChannelMessage)return t;var e=new a.ChannelMessage;return t.type!=null&&(e.type=t.type>>>0),t.socketId!=null&&(e.socketId=String(t.socketId)),t.data!=null&&(typeof t.data=="string"?s.base64.decode(t.data,e.data=s.newBuffer(s.base64.length(t.data)),0):t.data.length>=0&&(e.data=t.data)),e},o.toObject=function(t,e){e||(e={});var r={};return e.defaults&&(r.type=0,r.socketId="",e.bytes===String?r.data="":(r.data=[],e.bytes!==Array&&(r.data=s.newBuffer(r.data)))),t.type!=null&&t.hasOwnProperty("type")&&(r.type=t.type),t.socketId!=null&&t.hasOwnProperty("socketId")&&(r.socketId=t.socketId),t.data!=null&&t.hasOwnProperty("data")&&(r.data=e.bytes===String?s.base64.encode(t.data,0,t.data.length):e.bytes===Array?Array.prototype.slice.call(t.data):t.data),r},o.prototype.toJSON=function(){return this.constructor.toObject(this,_0x19253a.util.toJSONOptions)},o.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/ChannelMessage"},o})(),a.BytesBytesPacketDataMessage=(function(){function o(t){if(t)for(var e=Object.keys(t),r=0;r<e.length;++r)t[e[r]]!=null&&(this[e[r]]=t[e[r]])}return o.prototype.data=s.newBuffer([]),o.prototype.data1=s.newBuffer([]),o.create=function(t){return new o(t)},o.encode=function(t,e){return e||(e=n.create()),t.data!=null&&Object.hasOwnProperty.call(t,"data")&&e.uint32(10).bytes(t.data),t.data1!=null&&Object.hasOwnProperty.call(t,"data1")&&e.uint32(18).bytes(t.data1),e},o.encodeDelimited=function(t,e){return this.encode(t,e).ldelim()},o.decode=function(t,e,r){t instanceof c||(t=c.create(t));for(var d=e===void 0?t.len:t.pos+e,u=new a.BytesBytesPacketDataMessage;t.pos<d;){var l=t.uint32();if(l===r)break;switch(l>>>3){case 1:u.data=t.bytes();break;case 2:u.data1=t.bytes();break;default:t.skipType(7&l)}}return u},o.decodeDelimited=function(t){return t instanceof c||(t=new c(t)),this.decode(t,t.uint32())},o.verify=function(t){return typeof t!="object"||t===null?"object expected":t.data!=null&&t.hasOwnProperty("data")&&!(t.data&&typeof t.data.length=="number"||s.isString(t.data))?"data: buffer expected":t.data1!=null&&t.hasOwnProperty("data1")&&!(t.data1&&typeof t.data1.length=="number"||s.isString(t.data1))?"data1: buffer expected":null},o.fromObject=function(t){if(t instanceof a.BytesBytesPacketDataMessage)return t;var e=new a.BytesBytesPacketDataMessage;return t.data!=null&&(typeof t.data=="string"?s.base64.decode(t.data,e.data=s.newBuffer(s.base64.length(t.data)),0):t.data.length>=0&&(e.data=t.data)),t.data1!=null&&(typeof t.data1=="string"?s.base64.decode(t.data1,e.data1=s.newBuffer(s.base64.length(t.data1)),0):t.data1.length>=0&&(e.data1=t.data1)),e},o.toObject=function(t,e){e||(e={});var r={};return e.defaults&&(e.bytes===String?r.data="":(r.data=[],e.bytes!==Array&&(r.data=s.newBuffer(r.data))),e.bytes===String?r.data1="":(r.data1=[],e.bytes!==Array&&(r.data1=s.newBuffer(r.data1)))),t.data!=null&&t.hasOwnProperty("data")&&(r.data=e.bytes===String?s.base64.encode(t.data,0,t.data.length):e.bytes===Array?Array.prototype.slice.call(t.data):t.data),t.data1!=null&&t.hasOwnProperty("data1")&&(r.data1=e.bytes===String?s.base64.encode(t.data1,0,t.data1.length):e.bytes===Array?Array.prototype.slice.call(t.data1):t.data1),r},o.prototype.toJSON=function(){return this.constructor.toObject(this,_0x19253a.util.toJSONOptions)},o.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/BytesBytesPacketDataMessage"},o})(),a.NumberBytesPacketDataMessage=(function(){function o(t){if(t)for(var e=Object.keys(t),r=0;r<e.length;++r)t[e[r]]!=null&&(this[e[r]]=t[e[r]])}return o.prototype.data=0,o.prototype.data1=s.newBuffer([]),o.create=function(t){return new o(t)},o.encode=function(t,e){return e||(e=n.create()),t.data!=null&&Object.hasOwnProperty.call(t,"data")&&e.uint32(8).uint32(t.data),t.data1!=null&&Object.hasOwnProperty.call(t,"data1")&&e.uint32(18).bytes(t.data1),e},o.encodeDelimited=function(t,e){return this.encode(t,e).ldelim()},o.decode=function(t,e,r){t instanceof c||(t=c.create(t));for(var d=e===void 0?t.len:t.pos+e,u=new a.NumberBytesPacketDataMessage;t.pos<d;){var l=t.uint32();if(l===r)break;switch(l>>>3){case 1:u.data=t.uint32();break;case 2:u.data1=t.bytes();break;default:t.skipType(7&l)}}return u},o.decodeDelimited=function(t){return t instanceof c||(t=new c(t)),this.decode(t,t.uint32())},o.verify=function(t){return typeof t!="object"||t===null?"object expected":t.data!=null&&t.hasOwnProperty("data")&&!s.isInteger(t.data)?"data: integer expected":t.data1!=null&&t.hasOwnProperty("data1")&&!(t.data1&&typeof t.data1.length=="number"||s.isString(t.data1))?"data1: buffer expected":null},o.fromObject=function(t){if(t instanceof a.NumberBytesPacketDataMessage)return t;var e=new a.NumberBytesPacketDataMessage;return t.data!=null&&(e.data=t.data>>>0),t.data1!=null&&(typeof t.data1=="string"?s.base64.decode(t.data1,e.data1=s.newBuffer(s.base64.length(t.data1)),0):t.data1.length>=0&&(e.data1=t.data1)),e},o.toObject=function(t,e){e||(e={});var r={};return e.defaults&&(r.data=0,e.bytes===String?r.data1="":(r.data1=[],e.bytes!==Array&&(r.data1=s.newBuffer(r.data1)))),t.data!=null&&t.hasOwnProperty("data")&&(r.data=t.data),t.data1!=null&&t.hasOwnProperty("data1")&&(r.data1=e.bytes===String?s.base64.encode(t.data1,0,t.data1.length):e.bytes===Array?Array.prototype.slice.call(t.data1):t.data1),r},o.prototype.toJSON=function(){return this.constructor.toObject(this,_0x19253a.util.toJSONOptions)},o.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/NumberBytesPacketDataMessage"},o})(),a.NumberNumberPacketDataMessage=(function(){function o(t){if(t)for(var e=Object.keys(t),r=0;r<e.length;++r)t[e[r]]!=null&&(this[e[r]]=t[e[r]])}return o.prototype.data=0,o.prototype.data1=0,o.create=function(t){return new o(t)},o.encode=function(t,e){return e||(e=n.create()),t.data!=null&&Object.hasOwnProperty.call(t,"data")&&e.uint32(8).uint32(t.data),t.data1!=null&&Object.hasOwnProperty.call(t,"data1")&&e.uint32(16).uint32(t.data1),e},o.encodeDelimited=function(t,e){return this.encode(t,e).ldelim()},o.decode=function(t,e,r){t instanceof c||(t=c.create(t));for(var d=e===void 0?t.len:t.pos+e,u=new a.NumberNumberPacketDataMessage;t.pos<d;){var l=t.uint32();if(l===r)break;switch(l>>>3){case 1:u.data=t.uint32();break;case 2:u.data1=t.uint32();break;default:t.skipType(7&l)}}return u},o.decodeDelimited=function(t){return t instanceof c||(t=new c(t)),this.decode(t,t.uint32())},o.verify=function(t){return typeof t!="object"||t===null?"object expected":t.data!=null&&t.hasOwnProperty("data")&&!s.isInteger(t.data)?"data: integer expected":t.data1!=null&&t.hasOwnProperty("data1")&&!s.isInteger(t.data1)?"data1: integer expected":null},o.fromObject=function(t){if(t instanceof a.NumberNumberPacketDataMessage)return t;var e=new a.NumberNumberPacketDataMessage;return t.data!=null&&(e.data=t.data>>>0),t.data1!=null&&(e.data1=t.data1>>>0),e},o.toObject=function(t,e){e||(e={});var r={};return e.defaults&&(r.data=0,r.data1=0),t.data!=null&&t.hasOwnProperty("data")&&(r.data=t.data),t.data1!=null&&t.hasOwnProperty("data1")&&(r.data1=t.data1),r},o.prototype.toJSON=function(){return this.constructor.toObject(this,_0x19253a.util.toJSONOptions)},o.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/NumberNumberPacketDataMessage"},o})(),a.NumberObjectPacketDataMessage=(function(){function o(t){if(t)for(var e=Object.keys(t),r=0;r<e.length;++r)t[e[r]]!=null&&(this[e[r]]=t[e[r]])}return o.prototype.data=0,o.prototype.data1="",o.create=function(t){return new o(t)},o.encode=function(t,e){return e||(e=n.create()),t.data!=null&&Object.hasOwnProperty.call(t,"data")&&e.uint32(8).uint32(t.data),t.data1!=null&&Object.hasOwnProperty.call(t,"data1")&&e.uint32(18).string(t.data1),e},o.encodeDelimited=function(t,e){return this.encode(t,e).ldelim()},o.decode=function(t,e,r){t instanceof c||(t=c.create(t));for(var d=e===void 0?t.len:t.pos+e,u=new a.NumberObjectPacketDataMessage;t.pos<d;){var l=t.uint32();if(l===r)break;switch(l>>>3){case 1:u.data=t.uint32();break;case 2:u.data1=t.string();break;default:t.skipType(7&l)}}return u},o.decodeDelimited=function(t){return t instanceof c||(t=new c(t)),this.decode(t,t.uint32())},o.verify=function(t){return typeof t!="object"||t===null?"object expected":t.data!=null&&t.hasOwnProperty("data")&&!s.isInteger(t.data)?"data: integer expected":t.data1!=null&&t.hasOwnProperty("data1")&&!s.isString(t.data1)?"data1: string expected":null},o.fromObject=function(t){if(t instanceof a.NumberObjectPacketDataMessage)return t;var e=new a.NumberObjectPacketDataMessage;return t.data!=null&&(e.data=t.data>>>0),t.data1!=null&&(e.data1=String(t.data1)),e},o.toObject=function(t,e){e||(e={});var r={};return e.defaults&&(r.data=0,r.data1=""),t.data!=null&&t.hasOwnProperty("data")&&(r.data=t.data),t.data1!=null&&t.hasOwnProperty("data1")&&(r.data1=t.data1),r},o.prototype.toJSON=function(){return this.constructor.toObject(this,_0x19253a.util.toJSONOptions)},o.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/NumberObjectPacketDataMessage"},o})(),a.NumberStringPacketDataMessage=(function(){function o(t){if(t)for(var e=Object.keys(t),r=0;r<e.length;++r)t[e[r]]!=null&&(this[e[r]]=t[e[r]])}return o.prototype.data=0,o.prototype.data1="",o.create=function(t){return new o(t)},o.encode=function(t,e){return e||(e=n.create()),t.data!=null&&Object.hasOwnProperty.call(t,"data")&&e.uint32(8).uint32(t.data),t.data1!=null&&Object.hasOwnProperty.call(t,"data1")&&e.uint32(18).string(t.data1),e},o.encodeDelimited=function(t,e){return this.encode(t,e).ldelim()},o.decode=function(t,e,r){t instanceof c||(t=c.create(t));for(var d=e===void 0?t.len:t.pos+e,u=new a.NumberStringPacketDataMessage;t.pos<d;){var l=t.uint32();if(l===r)break;switch(l>>>3){case 1:u.data=t.uint32();break;case 2:u.data1=t.string();break;default:t.skipType(7&l)}}return u},o.decodeDelimited=function(t){return t instanceof c||(t=new c(t)),this.decode(t,t.uint32())},o.verify=function(t){return typeof t!="object"||t===null?"object expected":t.data!=null&&t.hasOwnProperty("data")&&!s.isInteger(t.data)?"data: integer expected":t.data1!=null&&t.hasOwnProperty("data1")&&!s.isString(t.data1)?"data1: string expected":null},o.fromObject=function(t){if(t instanceof a.NumberStringPacketDataMessage)return t;var e=new a.NumberStringPacketDataMessage;return t.data!=null&&(e.data=t.data>>>0),t.data1!=null&&(e.data1=String(t.data1)),e},o.toObject=function(t,e){e||(e={});var r={};return e.defaults&&(r.data=0,r.data1=""),t.data!=null&&t.hasOwnProperty("data")&&(r.data=t.data),t.data1!=null&&t.hasOwnProperty("data1")&&(r.data1=t.data1),r},o.prototype.toJSON=function(){return this.constructor.toObject(this,_0x19253a.util.toJSONOptions)},o.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/NumberStringPacketDataMessage"},o})(),a.ObjectBufferPacketDataMessage=(function(){function o(t){if(t)for(var e=Object.keys(t),r=0;r<e.length;++r)t[e[r]]!=null&&(this[e[r]]=t[e[r]])}return o.prototype.data="",o.prototype.data1=s.newBuffer([]),o.create=function(t){return new o(t)},o.encode=function(t,e){return e||(e=n.create()),t.data!=null&&Object.hasOwnProperty.call(t,"data")&&e.uint32(10).string(t.data),t.data1!=null&&Object.hasOwnProperty.call(t,"data1")&&e.uint32(18).bytes(t.data1),e},o.encodeDelimited=function(t,e){return this.encode(t,e).ldelim()},o.decode=function(t,e,r){t instanceof c||(t=c.create(t));for(var d=e===void 0?t.len:t.pos+e,u=new a.ObjectBufferPacketDataMessage;t.pos<d;){var l=t.uint32();if(l===r)break;switch(l>>>3){case 1:u.data=t.string();break;case 2:u.data1=t.bytes();break;default:t.skipType(7&l)}}return u},o.decodeDelimited=function(t){return t instanceof c||(t=new c(t)),this.decode(t,t.uint32())},o.verify=function(t){return typeof t!="object"||t===null?"object expected":t.data!=null&&t.hasOwnProperty("data")&&!s.isString(t.data)?"data: string expected":t.data1!=null&&t.hasOwnProperty("data1")&&!(t.data1&&typeof t.data1.length=="number"||s.isString(t.data1))?"data1: buffer expected":null},o.fromObject=function(t){if(t instanceof a.ObjectBufferPacketDataMessage)return t;var e=new a.ObjectBufferPacketDataMessage;return t.data!=null&&(e.data=String(t.data)),t.data1!=null&&(typeof t.data1=="string"?s.base64.decode(t.data1,e.data1=s.newBuffer(s.base64.length(t.data1)),0):t.data1.length>=0&&(e.data1=t.data1)),e},o.toObject=function(t,e){e||(e={});var r={};return e.defaults&&(r.data="",e.bytes===String?r.data1="":(r.data1=[],e.bytes!==Array&&(r.data1=s.newBuffer(r.data1)))),t.data!=null&&t.hasOwnProperty("data")&&(r.data=t.data),t.data1!=null&&t.hasOwnProperty("data1")&&(r.data1=e.bytes===String?s.base64.encode(t.data1,0,t.data1.length):e.bytes===Array?Array.prototype.slice.call(t.data1):t.data1),r},o.prototype.toJSON=function(){return this.constructor.toObject(this,_0x19253a.util.toJSONOptions)},o.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/ObjectBufferPacketDataMessage"},o})(),a.ObjectObjectPacketDataMessage=(function(){function o(t){if(t)for(var e=Object.keys(t),r=0;r<e.length;++r)t[e[r]]!=null&&(this[e[r]]=t[e[r]])}return o.prototype.data="",o.prototype.data1="",o.create=function(t){return new o(t)},o.encode=function(t,e){return e||(e=n.create()),t.data!=null&&Object.hasOwnProperty.call(t,"data")&&e.uint32(10).string(t.data),t.data1!=null&&Object.hasOwnProperty.call(t,"data1")&&e.uint32(18).string(t.data1),e},o.encodeDelimited=function(t,e){return this.encode(t,e).ldelim()},o.decode=function(t,e,r){t instanceof c||(t=c.create(t));for(var d=e===void 0?t.len:t.pos+e,u=new a.ObjectObjectPacketDataMessage;t.pos<d;){var l=t.uint32();if(l===r)break;switch(l>>>3){case 1:u.data=t.string();break;case 2:u.data1=t.string();break;default:t.skipType(7&l)}}return u},o.decodeDelimited=function(t){return t instanceof c||(t=new c(t)),this.decode(t,t.uint32())},o.verify=function(t){return typeof t!="object"||t===null?"object expected":t.data!=null&&t.hasOwnProperty("data")&&!s.isString(t.data)?"data: string expected":t.data1!=null&&t.hasOwnProperty("data1")&&!s.isString(t.data1)?"data1: string expected":null},o.fromObject=function(t){if(t instanceof a.ObjectObjectPacketDataMessage)return t;var e=new a.ObjectObjectPacketDataMessage;return t.data!=null&&(e.data=String(t.data)),t.data1!=null&&(e.data1=String(t.data1)),e},o.toObject=function(t,e){e||(e={});var r={};return e.defaults&&(r.data="",r.data1=""),t.data!=null&&t.hasOwnProperty("data")&&(r.data=t.data),t.data1!=null&&t.hasOwnProperty("data1")&&(r.data1=t.data1),r},o.prototype.toJSON=function(){return this.constructor.toObject(this,_0x19253a.util.toJSONOptions)},o.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/ObjectObjectPacketDataMessage"},o})(),a.PacketMessage=(function(){function o(t){if(t)for(var e=Object.keys(t),r=0;r<e.length;++r)t[e[r]]!=null&&(this[e[r]]=t[e[r]])}return o.prototype.type=0,o.prototype.id=0,o.prototype.nsp="",o.prototype.data=s.newBuffer([]),o.prototype.options=s.newBuffer([]),o.create=function(t){return new o(t)},o.encode=function(t,e){return e||(e=n.create()),t.type!=null&&Object.hasOwnProperty.call(t,"type")&&e.uint32(8).uint32(t.type),t.id!=null&&Object.hasOwnProperty.call(t,"id")&&e.uint32(16).uint32(t.id),t.nsp!=null&&Object.hasOwnProperty.call(t,"nsp")&&e.uint32(26).string(t.nsp),t.data!=null&&Object.hasOwnProperty.call(t,"data")&&e.uint32(34).bytes(t.data),t.options!=null&&Object.hasOwnProperty.call(t,"options")&&e.uint32(42).bytes(t.options),e},o.encodeDelimited=function(t,e){return this.encode(t,e).ldelim()},o.decode=function(t,e,r){t instanceof c||(t=c.create(t));for(var d=e===void 0?t.len:t.pos+e,u=new a.PacketMessage;t.pos<d;){var l=t.uint32();if(l===r)break;switch(l>>>3){case 1:u.type=t.uint32();break;case 2:u.id=t.uint32();break;case 3:u.nsp=t.string();break;case 4:u.data=t.bytes();break;case 5:u.options=t.bytes();break;default:t.skipType(7&l)}}return u},o.decodeDelimited=function(t){return t instanceof c||(t=new c(t)),this.decode(t,t.uint32())},o.verify=function(t){return typeof t!="object"||t===null?"object expected":t.type!=null&&t.hasOwnProperty("type")&&!s.isInteger(t.type)?"type: integer expected":t.id!=null&&t.hasOwnProperty("id")&&!s.isInteger(t.id)?"id: integer expected":t.nsp!=null&&t.hasOwnProperty("nsp")&&!s.isString(t.nsp)?"nsp: string expected":t.data!=null&&t.hasOwnProperty("data")&&!(t.data&&typeof t.data.length=="number"||s.isString(t.data))?"data: buffer expected":t.options!=null&&t.hasOwnProperty("options")&&!(t.options&&typeof t.options.length=="number"||s.isString(t.options))?"options: buffer expected":null},o.fromObject=function(t){if(t instanceof a.PacketMessage)return t;var e=new a.PacketMessage;return t.type!=null&&(e.type=t.type>>>0),t.id!=null&&(e.id=t.id>>>0),t.nsp!=null&&(e.nsp=String(t.nsp)),t.data!=null&&(typeof t.data=="string"?s.base64.decode(t.data,e.data=s.newBuffer(s.base64.length(t.data)),0):t.data.length>=0&&(e.data=t.data)),t.options!=null&&(typeof t.options=="string"?s.base64.decode(t.options,e.options=s.newBuffer(s.base64.length(t.options)),0):t.options.length>=0&&(e.options=t.options)),e},o.toObject=function(t,e){e||(e={});var r={};return e.defaults&&(r.type=0,r.id=0,r.nsp="",e.bytes===String?r.data="":(r.data=[],e.bytes!==Array&&(r.data=s.newBuffer(r.data))),e.bytes===String?r.options="":(r.options=[],e.bytes!==Array&&(r.options=s.newBuffer(r.options)))),t.type!=null&&t.hasOwnProperty("type")&&(r.type=t.type),t.id!=null&&t.hasOwnProperty("id")&&(r.id=t.id),t.nsp!=null&&t.hasOwnProperty("nsp")&&(r.nsp=t.nsp),t.data!=null&&t.hasOwnProperty("data")&&(r.data=e.bytes===String?s.base64.encode(t.data,0,t.data.length):e.bytes===Array?Array.prototype.slice.call(t.data):t.data),t.options!=null&&t.hasOwnProperty("options")&&(r.options=e.bytes===String?s.base64.encode(t.options,0,t.options.length):e.bytes===Array?Array.prototype.slice.call(t.options):t.options),r},o.prototype.toJSON=function(){return this.constructor.toObject(this,_0x19253a.util.toJSONOptions)},o.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/PacketMessage"},o})(),a.PacketOptionsMessage=(function(){function o(t){if(this.rooms=[],this.except=[],t)for(var e=Object.keys(t),r=0;r<e.length;++r)t[e[r]]!=null&&(this[e[r]]=t[e[r]])}return o.prototype.flags="",o.prototype.rooms=s.emptyArray,o.prototype.except=s.emptyArray,o.create=function(t){return new o(t)},o.encode=function(t,e){if(e||(e=n.create()),t.flags!=null&&Object.hasOwnProperty.call(t,"flags")&&e.uint32(10).string(t.flags),t.rooms!=null&&t.rooms.length)for(var r=0;r<t.rooms.length;++r)e.uint32(18).string(t.rooms[r]);if(t.except!=null&&t.except.length)for(r=0;r<t.except.length;++r)e.uint32(26).string(t.except[r]);return e},o.encodeDelimited=function(t,e){return this.encode(t,e).ldelim()},o.decode=function(t,e,r){t instanceof c||(t=c.create(t));for(var d=e===void 0?t.len:t.pos+e,u=new a.PacketOptionsMessage;t.pos<d;){var l=t.uint32();if(l===r)break;switch(l>>>3){case 1:u.flags=t.string();break;case 2:u.rooms&&u.rooms.length||(u.rooms=[]),u.rooms.push(t.string());break;case 3:u.except&&u.except.length||(u.except=[]),u.except.push(t.string());break;default:t.skipType(7&l)}}return u},o.decodeDelimited=function(t){return t instanceof c||(t=new c(t)),this.decode(t,t.uint32())},o.verify=function(t){if(typeof t!="object"||t===null)return"object expected";if(t.flags!=null&&t.hasOwnProperty("flags")&&!s.isString(t.flags))return"flags: string expected";if(t.rooms!=null&&t.hasOwnProperty("rooms")){if(!Array.isArray(t.rooms))return"rooms: array expected";for(var e=0;e<t.rooms.length;++e)if(!s.isString(t.rooms[e]))return"rooms: string[] expected"}if(t.except!=null&&t.hasOwnProperty("except")){if(!Array.isArray(t.except))return"except: array expected";for(e=0;e<t.except.length;++e)if(!s.isString(t.except[e]))return"except: string[] expected"}return null},o.fromObject=function(t){if(t instanceof a.PacketOptionsMessage)return t;var e=new a.PacketOptionsMessage;if(t.flags!=null&&(e.flags=String(t.flags)),t.rooms){if(!Array.isArray(t.rooms))throw TypeError(".PacketOptionsMessage.rooms: array expected");e.rooms=[];for(var r=0;r<t.rooms.length;++r)e.rooms[r]=String(t.rooms[r])}if(t.except){if(!Array.isArray(t.except))throw TypeError(".PacketOptionsMessage.except: array expected");for(e.except=[],r=0;r<t.except.length;++r)e.except[r]=String(t.except[r])}return e},o.toObject=function(t,e){e||(e={});var r={};if((e.arrays||e.defaults)&&(r.rooms=[],r.except=[]),e.defaults&&(r.flags=""),t.flags!=null&&t.hasOwnProperty("flags")&&(r.flags=t.flags),t.rooms&&t.rooms.length){r.rooms=[];for(var d=0;d<t.rooms.length;++d)r.rooms[d]=t.rooms[d]}if(t.except&&t.except.length)for(r.except=[],d=0;d<t.except.length;++d)r.except[d]=t.except[d];return r},o.prototype.toJSON=function(){return this.constructor.toObject(this,_0x19253a.util.toJSONOptions)},o.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/PacketOptionsMessage"},o})(),a.StringBytesPacketDataMessage=(function(){function o(t){if(t)for(var e=Object.keys(t),r=0;r<e.length;++r)t[e[r]]!=null&&(this[e[r]]=t[e[r]])}return o.prototype.data="",o.prototype.data1=s.newBuffer([]),o.create=function(t){return new o(t)},o.encode=function(t,e){return e||(e=n.create()),t.data!=null&&Object.hasOwnProperty.call(t,"data")&&e.uint32(10).string(t.data),t.data1!=null&&Object.hasOwnProperty.call(t,"data1")&&e.uint32(18).bytes(t.data1),e},o.encodeDelimited=function(t,e){return this.encode(t,e).ldelim()},o.decode=function(t,e,r){t instanceof c||(t=c.create(t));for(var d=e===void 0?t.len:t.pos+e,u=new a.StringBytesPacketDataMessage;t.pos<d;){var l=t.uint32();if(l===r)break;switch(l>>>3){case 1:u.data=t.string();break;case 2:u.data1=t.bytes();break;default:t.skipType(7&l)}}return u},o.decodeDelimited=function(t){return t instanceof c||(t=new c(t)),this.decode(t,t.uint32())},o.verify=function(t){return typeof t!="object"||t===null?"object expected":t.data!=null&&t.hasOwnProperty("data")&&!s.isString(t.data)?"data: string expected":t.data1!=null&&t.hasOwnProperty("data1")&&!(t.data1&&typeof t.data1.length=="number"||s.isString(t.data1))?"data1: buffer expected":null},o.fromObject=function(t){if(t instanceof a.StringBytesPacketDataMessage)return t;var e=new a.StringBytesPacketDataMessage;return t.data!=null&&(e.data=String(t.data)),t.data1!=null&&(typeof t.data1=="string"?s.base64.decode(t.data1,e.data1=s.newBuffer(s.base64.length(t.data1)),0):t.data1.length>=0&&(e.data1=t.data1)),e},o.toObject=function(t,e){e||(e={});var r={};return e.defaults&&(r.data="",e.bytes===String?r.data1="":(r.data1=[],e.bytes!==Array&&(r.data1=s.newBuffer(r.data1)))),t.data!=null&&t.hasOwnProperty("data")&&(r.data=t.data),t.data1!=null&&t.hasOwnProperty("data1")&&(r.data1=e.bytes===String?s.base64.encode(t.data1,0,t.data1.length):e.bytes===Array?Array.prototype.slice.call(t.data1):t.data1),r},o.prototype.toJSON=function(){return this.constructor.toObject(this,_0x19253a.util.toJSONOptions)},o.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/StringBytesPacketDataMessage"},o})(),a.StringNumberPacketDataMessage=(function(){function o(t){if(t)for(var e=Object.keys(t),r=0;r<e.length;++r)t[e[r]]!=null&&(this[e[r]]=t[e[r]])}return o.prototype.data="",o.prototype.data1=0,o.create=function(t){return new o(t)},o.encode=function(t,e){return e||(e=n.create()),t.data!=null&&Object.hasOwnProperty.call(t,"data")&&e.uint32(10).string(t.data),t.data1!=null&&Object.hasOwnProperty.call(t,"data1")&&e.uint32(16).uint32(t.data1),e},o.encodeDelimited=function(t,e){return this.encode(t,e).ldelim()},o.decode=function(t,e,r){t instanceof c||(t=c.create(t));for(var d=e===void 0?t.len:t.pos+e,u=new a.StringNumberPacketDataMessage;t.pos<d;){var l=t.uint32();if(l===r)break;switch(l>>>3){case 1:u.data=t.string();break;case 2:u.data1=t.uint32();break;default:t.skipType(7&l)}}return u},o.decodeDelimited=function(t){return t instanceof c||(t=new c(t)),this.decode(t,t.uint32())},o.verify=function(t){return typeof t!="object"||t===null?"object expected":t.data!=null&&t.hasOwnProperty("data")&&!s.isString(t.data)?"data: string expected":t.data1!=null&&t.hasOwnProperty("data1")&&!s.isInteger(t.data1)?"data1: integer expected":null},o.fromObject=function(t){if(t instanceof a.StringNumberPacketDataMessage)return t;var e=new a.StringNumberPacketDataMessage;return t.data!=null&&(e.data=String(t.data)),t.data1!=null&&(e.data1=t.data1>>>0),e},o.toObject=function(t,e){e||(e={});var r={};return e.defaults&&(r.data="",r.data1=0),t.data!=null&&t.hasOwnProperty("data")&&(r.data=t.data),t.data1!=null&&t.hasOwnProperty("data1")&&(r.data1=t.data1),r},o.prototype.toJSON=function(){return this.constructor.toObject(this,_0x19253a.util.toJSONOptions)},o.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/StringNumberPacketDataMessage"},o})(),a.StringObjectPacketDataMessage=(function(){function o(t){if(t)for(var e=Object.keys(t),r=0;r<e.length;++r)t[e[r]]!=null&&(this[e[r]]=t[e[r]])}return o.prototype.data="",o.prototype.data1="",o.create=function(t){return new o(t)},o.encode=function(t,e){return e||(e=n.create()),t.data!=null&&Object.hasOwnProperty.call(t,"data")&&e.uint32(10).string(t.data),t.data1!=null&&Object.hasOwnProperty.call(t,"data1")&&e.uint32(18).string(t.data1),e},o.encodeDelimited=function(t,e){return this.encode(t,e).ldelim()},o.decode=function(t,e,r){t instanceof c||(t=c.create(t));for(var d=e===void 0?t.len:t.pos+e,u=new a.StringObjectPacketDataMessage;t.pos<d;){var l=t.uint32();if(l===r)break;switch(l>>>3){case 1:u.data=t.string();break;case 2:u.data1=t.string();break;default:t.skipType(7&l)}}return u},o.decodeDelimited=function(t){return t instanceof c||(t=new c(t)),this.decode(t,t.uint32())},o.verify=function(t){return typeof t!="object"||t===null?"object expected":t.data!=null&&t.hasOwnProperty("data")&&!s.isString(t.data)?"data: string expected":t.data1!=null&&t.hasOwnProperty("data1")&&!s.isString(t.data1)?"data1: string expected":null},o.fromObject=function(t){if(t instanceof a.StringObjectPacketDataMessage)return t;var e=new a.StringObjectPacketDataMessage;return t.data!=null&&(e.data=String(t.data)),t.data1!=null&&(e.data1=String(t.data1)),e},o.toObject=function(t,e){e||(e={});var r={};return e.defaults&&(r.data="",r.data1=""),t.data!=null&&t.hasOwnProperty("data")&&(r.data=t.data),t.data1!=null&&t.hasOwnProperty("data1")&&(r.data1=t.data1),r},o.prototype.toJSON=function(){return this.constructor.toObject(this,_0x19253a.util.toJSONOptions)},o.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/StringObjectPacketDataMessage"},o})(),a.StringStringPacketDataMessage=(function(){function o(t){if(t)for(var e=Object.keys(t),r=0;r<e.length;++r)t[e[r]]!=null&&(this[e[r]]=t[e[r]])}return o.prototype.data="",o.prototype.data1="",o.create=function(t){return new o(t)},o.encode=function(t,e){return e||(e=n.create()),t.data!=null&&Object.hasOwnProperty.call(t,"data")&&e.uint32(10).string(t.data),t.data1!=null&&Object.hasOwnProperty.call(t,"data1")&&e.uint32(18).string(t.data1),e},o.encodeDelimited=function(t,e){return this.encode(t,e).ldelim()},o.decode=function(t,e,r){t instanceof c||(t=c.create(t));for(var d=e===void 0?t.len:t.pos+e,u=new a.StringStringPacketDataMessage;t.pos<d;){var l=t.uint32();if(l===r)break;switch(l>>>3){case 1:u.data=t.string();break;case 2:u.data1=t.string();break;default:t.skipType(7&l)}}return u},o.decodeDelimited=function(t){return t instanceof c||(t=new c(t)),this.decode(t,t.uint32())},o.verify=function(t){return typeof t!="object"||t===null?"object expected":t.data!=null&&t.hasOwnProperty("data")&&!s.isString(t.data)?"data: string expected":t.data1!=null&&t.hasOwnProperty("data1")&&!s.isString(t.data1)?"data1: string expected":null},o.fromObject=function(t){if(t instanceof a.StringStringPacketDataMessage)return t;var e=new a.StringStringPacketDataMessage;return t.data!=null&&(e.data=String(t.data)),t.data1!=null&&(e.data1=String(t.data1)),e},o.toObject=function(t,e){e||(e={});var r={};return e.defaults&&(r.data="",r.data1=""),t.data!=null&&t.hasOwnProperty("data")&&(r.data=t.data),t.data1!=null&&t.hasOwnProperty("data1")&&(r.data1=t.data1),r},o.prototype.toJSON=function(){return this.constructor.toObject(this,_0x19253a.util.toJSONOptions)},o.getTypeUrl=function(t){return t===void 0&&(t="type.googleapis.com"),t+"/StringStringPacketDataMessage"},o})(),a})();class MessagesCompressor{static decode(n,s){const a=_getType(s).decode(typeof window>"u"?n:new Uint8Array(n));return s.fromJSON({...a})}static encode(n){const s=_getType(n.constructor),a=n.toJSON(),o=s.verify(a);if(o)throw Error(o);return s.encode(s.create(a)).finish()}}function _getType(c){return messages[c.DESCRIPTOR_NAME]}class GetManyUsersMessage extends Message{ids;static TYPE="22";static READABLE_TYPE_NAME="getManyUsers";static DESCRIPTOR_NAME="GetManyUsersMessage";static DESCRIPTOR={fields:{ids:{id:1,type:"string",rule:"repeated"}}};constructor(n){super(),this.ids=n}toJSON(){return{ids:this.ids}}static fromJSON(n){return new GetManyUsersMessage(n.ids)}}class GetManyUsersResponse extends Message{users;static DESCRIPTOR_NAME="GetManyUsersResponse";static DESCRIPTOR={fields:{users:{rule:"repeated",type:"UserDescriptor",id:1}}};constructor(n){super(),this.users=n}toJSON(){return{users:this.users.map(_userToJson)}}static fromJSON(n){return new GetManyUsersResponse(n.users.map(_userFromJson))}}function _userToJson(c){return{attributes:Object.keys(c).map(n=>({key:n,value:JSON.stringify(c[n])}))}}function _userFromJson(c){return c.attributes.reduce((n,s)=>(n[s.key]=s.value?JSON.parse(s.value):null,n),{})}class User{static _SERVICE=2;constructor(n={}){this._attributes=new Map;for(const s of Object.keys(n))s!=="id"?(this._attributes.set(s,n[s]),Object.defineProperty(this,s,{enumerable:!0,configurable:!1,get:()=>this._attributes.get(s)})):this.id=n.id}static fromData(n){return new User(n)}static async get(n,s){const a=new GetUserMessage(s);try{const o=await n._sendRequest(User._SERVICE,GetUserMessage.TYPE,MessagesCompressor.encode(a)),t=MessagesCompressor.decode(o,GetUserResponse);return new User(t.attributes)}catch{return new User({id:s})}}static async getMany(n,s){const a=new GetManyUsersMessage(s);try{const o=await n._sendRequest(User._SERVICE,GetManyUsersMessage.TYPE,MessagesCompressor.encode(a));return MessagesCompressor.decode(o,GetManyUsersResponse).users.map(t=>new User(t))}catch{return s.map(t=>new User({id:t}))}}}const PACKET_TYPES=Object.create(null);PACKET_TYPES.open="0",PACKET_TYPES.close="1",PACKET_TYPES.ping="2",PACKET_TYPES.pong="3",PACKET_TYPES.message="4",PACKET_TYPES.upgrade="5",PACKET_TYPES.noop="6";const PACKET_TYPES_REVERSE=Object.create(null);Object.keys(PACKET_TYPES).forEach(c=>{PACKET_TYPES_REVERSE[PACKET_TYPES[c]]=c});const ERROR_PACKET={type:"error",data:"parser error"},withNativeBlob$1=typeof Blob=="function"||typeof Blob<"u"&&Object.prototype.toString.call(Blob)==="[object BlobConstructor]",withNativeArrayBuffer$2=typeof ArrayBuffer=="function",isView$1=c=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(c):c&&c.buffer instanceof ArrayBuffer,encodePacket=({type:c,data:n},s,a)=>withNativeBlob$1&&n instanceof Blob?s?a(n):encodeBlobAsBase64(n,a):withNativeArrayBuffer$2&&(n instanceof ArrayBuffer||isView$1(n))?s?a(n):encodeBlobAsBase64(new Blob([n]),a):a(PACKET_TYPES[c]+(n||"")),encodeBlobAsBase64=(c,n)=>{const s=new FileReader;return s.onload=function(){const a=s.result.split(",")[1];n("b"+(a||""))},s.readAsDataURL(c)};function toArray(c){return c instanceof Uint8Array?c:c instanceof ArrayBuffer?new Uint8Array(c):new Uint8Array(c.buffer,c.byteOffset,c.byteLength)}let TEXT_ENCODER;function encodePacketToBinary(c,n){if(withNativeBlob$1&&c.data instanceof Blob)return c.data.arrayBuffer().then(toArray).then(n);if(withNativeArrayBuffer$2&&(c.data instanceof ArrayBuffer||isView$1(c.data)))return n(toArray(c.data));encodePacket(c,!1,s=>{TEXT_ENCODER||(TEXT_ENCODER=new TextEncoder),n(TEXT_ENCODER.encode(s))})}const chars="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",lookup$1=typeof Uint8Array>"u"?[]:new Uint8Array(256);for(let c=0;c<chars.length;c++)lookup$1[chars.charCodeAt(c)]=c;const decode$1=c=>{let n=c.length*.75,s=c.length,a,o=0,t,e,r,d;c[c.length-1]==="="&&(n--,c[c.length-2]==="="&&n--);const u=new ArrayBuffer(n),l=new Uint8Array(u);for(a=0;a<s;a+=4)t=lookup$1[c.charCodeAt(a)],e=lookup$1[c.charCodeAt(a+1)],r=lookup$1[c.charCodeAt(a+2)],d=lookup$1[c.charCodeAt(a+3)],l[o++]=t<<2|e>>4,l[o++]=(e&15)<<4|r>>2,l[o++]=(r&3)<<6|d&63;return u},withNativeArrayBuffer$1=typeof ArrayBuffer=="function",decodePacket=(c,n)=>{if(typeof c!="string")return{type:"message",data:mapBinary(c,n)};const s=c.charAt(0);return s==="b"?{type:"message",data:decodeBase64Packet(c.substring(1),n)}:PACKET_TYPES_REVERSE[s]?c.length>1?{type:PACKET_TYPES_REVERSE[s],data:c.substring(1)}:{type:PACKET_TYPES_REVERSE[s]}:ERROR_PACKET},decodeBase64Packet=(c,n)=>{if(withNativeArrayBuffer$1){const s=decode$1(c);return mapBinary(s,n)}else return{base64:!0,data:c}},mapBinary=(c,n)=>{switch(n){case"blob":return c instanceof Blob?c:new Blob([c]);case"arraybuffer":default:return c instanceof ArrayBuffer?c:c.buffer}},SEPARATOR="",encodePayload=(c,n)=>{const s=c.length,a=new Array(s);let o=0;c.forEach((t,e)=>{encodePacket(t,!1,r=>{a[e]=r,++o===s&&n(a.join(SEPARATOR))})})},decodePayload=(c,n)=>{const s=c.split(SEPARATOR),a=[];for(let o=0;o<s.length;o++){const t=decodePacket(s[o],n);if(a.push(t),t.type==="error")break}return a};function createPacketEncoderStream(){return new TransformStream({transform(c,n){encodePacketToBinary(c,s=>{const a=s.length;let o;if(a<126)o=new Uint8Array(1),new DataView(o.buffer).setUint8(0,a);else if(a<65536){o=new Uint8Array(3);const t=new DataView(o.buffer);t.setUint8(0,126),t.setUint16(1,a)}else{o=new Uint8Array(9);const t=new DataView(o.buffer);t.setUint8(0,127),t.setBigUint64(1,BigInt(a))}c.data&&typeof c.data!="string"&&(o[0]|=128),n.enqueue(o),n.enqueue(s)})}})}let TEXT_DECODER;function totalLength(c){return c.reduce((n,s)=>n+s.length,0)}function concatChunks(c,n){if(c[0].length===n)return c.shift();const s=new Uint8Array(n);let a=0;for(let o=0;o<n;o++)s[o]=c[0][a++],a===c[0].length&&(c.shift(),a=0);return c.length&&a<c[0].length&&(c[0]=c[0].slice(a)),s}function createPacketDecoderStream(c,n){TEXT_DECODER||(TEXT_DECODER=new TextDecoder);const s=[];let a=0,o=-1,t=!1;return new TransformStream({transform(e,r){for(s.push(e);;){if(a===0){if(totalLength(s)<1)break;const d=concatChunks(s,1);t=(d[0]&128)===128,o=d[0]&127,o<126?a=3:o===126?a=1:a=2}else if(a===1){if(totalLength(s)<2)break;const d=concatChunks(s,2);o=new DataView(d.buffer,d.byteOffset,d.length).getUint16(0),a=3}else if(a===2){if(totalLength(s)<8)break;const d=concatChunks(s,8),u=new DataView(d.buffer,d.byteOffset,d.length),l=u.getUint32(0);if(l>Math.pow(2,21)-1){r.enqueue(ERROR_PACKET);break}o=l*Math.pow(2,32)+u.getUint32(4),a=3}else{if(totalLength(s)<o)break;const d=concatChunks(s,o);r.enqueue(decodePacket(t?d:TEXT_DECODER.decode(d),n)),a=0}if(o===0||o>c){r.enqueue(ERROR_PACKET);break}}}})}const protocol$1=4;function Emitter(c){if(c)return mixin(c)}function mixin(c){for(var n in Emitter.prototype)c[n]=Emitter.prototype[n];return c}Emitter.prototype.on=Emitter.prototype.addEventListener=function(c,n){return this._callbacks=this._callbacks||{},(this._callbacks["$"+c]=this._callbacks["$"+c]||[]).push(n),this},Emitter.prototype.once=function(c,n){function s(){this.off(c,s),n.apply(this,arguments)}return s.fn=n,this.on(c,s),this},Emitter.prototype.off=Emitter.prototype.removeListener=Emitter.prototype.removeAllListeners=Emitter.prototype.removeEventListener=function(c,n){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var s=this._callbacks["$"+c];if(!s)return this;if(arguments.length==1)return delete this._callbacks["$"+c],this;for(var a,o=0;o<s.length;o++)if(a=s[o],a===n||a.fn===n){s.splice(o,1);break}return s.length===0&&delete this._callbacks["$"+c],this},Emitter.prototype.emit=function(c){this._callbacks=this._callbacks||{};for(var n=new Array(arguments.length-1),s=this._callbacks["$"+c],a=1;a<arguments.length;a++)n[a-1]=arguments[a];if(s){s=s.slice(0);for(var a=0,o=s.length;a<o;++a)s[a].apply(this,n)}return this},Emitter.prototype.emitReserved=Emitter.prototype.emit,Emitter.prototype.listeners=function(c){return this._callbacks=this._callbacks||{},this._callbacks["$"+c]||[]},Emitter.prototype.hasListeners=function(c){return!!this.listeners(c).length};const globalThisShim=typeof self<"u"?self:typeof window<"u"?window:Function("return this")();function pick(c,...n){return n.reduce((s,a)=>(c.hasOwnProperty(a)&&(s[a]=c[a]),s),{})}const NATIVE_SET_TIMEOUT=globalThisShim.setTimeout,NATIVE_CLEAR_TIMEOUT=globalThisShim.clearTimeout;function installTimerFunctions(c,n){n.useNativeTimers?(c.setTimeoutFn=NATIVE_SET_TIMEOUT.bind(globalThisShim),c.clearTimeoutFn=NATIVE_CLEAR_TIMEOUT.bind(globalThisShim)):(c.setTimeoutFn=globalThisShim.setTimeout.bind(globalThisShim),c.clearTimeoutFn=globalThisShim.clearTimeout.bind(globalThisShim))}const BASE64_OVERHEAD=1.33;function byteLength(c){return typeof c=="string"?utf8Length(c):Math.ceil((c.byteLength||c.size)*BASE64_OVERHEAD)}function utf8Length(c){let n=0,s=0;for(let a=0,o=c.length;a<o;a++)n=c.charCodeAt(a),n<128?s+=1:n<2048?s+=2:n<55296||n>=57344?s+=3:(a++,s+=4);return s}function encode$1(c){let n="";for(let s in c)c.hasOwnProperty(s)&&(n.length&&(n+="&"),n+=encodeURIComponent(s)+"="+encodeURIComponent(c[s]));return n}function decode(c){let n={},s=c.split("&");for(let a=0,o=s.length;a<o;a++){let t=s[a].split("=");n[decodeURIComponent(t[0])]=decodeURIComponent(t[1])}return n}class TransportError extends Error{constructor(n,s,a){super(n),this.description=s,this.context=a,this.type="TransportError"}}class Transport extends Emitter{constructor(n){super(),this.writable=!1,installTimerFunctions(this,n),this.opts=n,this.query=n.query,this.socket=n.socket}onError(n,s,a){return super.emitReserved("error",new TransportError(n,s,a)),this}open(){return this.readyState="opening",this.doOpen(),this}close(){return(this.readyState==="opening"||this.readyState==="open")&&(this.doClose(),this.onClose()),this}send(n){this.readyState==="open"&&this.write(n)}onOpen(){this.readyState="open",this.writable=!0,super.emitReserved("open")}onData(n){const s=decodePacket(n,this.socket.binaryType);this.onPacket(s)}onPacket(n){super.emitReserved("packet",n)}onClose(n){this.readyState="closed",super.emitReserved("close",n)}pause(n){}createUri(n,s={}){return n+"://"+this._hostname()+this._port()+this.opts.path+this._query(s)}_hostname(){const n=this.opts.hostname;return n.indexOf(":")===-1?n:"["+n+"]"}_port(){return this.opts.port&&(this.opts.secure&&+(this.opts.port!==443)||!this.opts.secure&&Number(this.opts.port)!==80)?":"+this.opts.port:""}_query(n){const s=encode$1(n);return s.length?"?"+s:""}}const alphabet="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz-_".split(""),length=64,map={};let seed=0,i=0,prev;function encode(c){let n="";do n=alphabet[c%length]+n,c=Math.floor(c/length);while(c>0);return n}function yeast(){const c=encode(+new Date);return c!==prev?(seed=0,prev=c):c+"."+encode(seed++)}for(;i<length;i++)map[alphabet[i]]=i;let value=!1;try{value=typeof XMLHttpRequest<"u"&&"withCredentials"in new XMLHttpRequest}catch(c){}const hasCORS=value;function XHR(c){const n=c.xdomain;try{if(typeof XMLHttpRequest<"u"&&(!n||hasCORS))return new XMLHttpRequest}catch{}if(!n)try{return new globalThisShim[["Active"].concat("Object").join("X")]("Microsoft.XMLHTTP")}catch{}}function createCookieJar(){}function empty(){}const hasXHR2=(function(){return new XHR({xdomain:!1}).responseType!=null})();class Polling extends Transport{constructor(n){if(super(n),this.polling=!1,typeof location<"u"){const a=location.protocol==="https:";let o=location.port;o||(o=a?"443":"80"),this.xd=typeof location<"u"&&n.hostname!==location.hostname||o!==n.port}const s=n&&n.forceBase64;this.supportsBinary=hasXHR2&&!s,this.opts.withCredentials&&(this.cookieJar=void 0)}get name(){return"polling"}doOpen(){this.poll()}pause(n){this.readyState="pausing";const s=()=>{this.readyState="paused",n()};if(this.polling||!this.writable){let a=0;this.polling&&(a++,this.once("pollComplete",function(){--a||s()})),this.writable||(a++,this.once("drain",function(){--a||s()}))}else s()}poll(){this.polling=!0,this.doPoll(),this.emitReserved("poll")}onData(n){const s=a=>{if(this.readyState==="opening"&&a.type==="open"&&this.onOpen(),a.type==="close")return this.onClose({description:"transport closed by the server"}),!1;this.onPacket(a)};decodePayload(n,this.socket.binaryType).forEach(s),this.readyState!=="closed"&&(this.polling=!1,this.emitReserved("pollComplete"),this.readyState==="open"&&this.poll())}doClose(){const n=()=>{this.write([{type:"close"}])};this.readyState==="open"?n():this.once("open",n)}write(n){this.writable=!1,encodePayload(n,s=>{this.doWrite(s,()=>{this.writable=!0,this.emitReserved("drain")})})}uri(){const n=this.opts.secure?"https":"http",s=this.query||{};return this.opts.timestampRequests!==!1&&(s[this.opts.timestampParam]=yeast()),!this.supportsBinary&&!s.sid&&(s.b64=1),this.createUri(n,s)}request(n={}){return Object.assign(n,{xd:this.xd,cookieJar:this.cookieJar},this.opts),new Request(this.uri(),n)}doWrite(n,s){const a=this.request({method:"POST",data:n});a.on("success",s),a.on("error",(o,t)=>{this.onError("xhr post error",o,t)})}doPoll(){const n=this.request();n.on("data",this.onData.bind(this)),n.on("error",(s,a)=>{this.onError("xhr poll error",s,a)}),this.pollXhr=n}}class Request extends Emitter{constructor(n,s){super(),installTimerFunctions(this,s),this.opts=s,this.method=s.method||"GET",this.uri=n,this.data=s.data!==void 0?s.data:null,this.create()}create(){var n;const s=pick(this.opts,"agent","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","autoUnref");s.xdomain=!!this.opts.xd;const a=this.xhr=new XHR(s);try{a.open(this.method,this.uri,!0);try{if(this.opts.extraHeaders){a.setDisableHeaderCheck&&a.setDisableHeaderCheck(!0);for(let o in this.opts.extraHeaders)this.opts.extraHeaders.hasOwnProperty(o)&&a.setRequestHeader(o,this.opts.extraHeaders[o])}}catch{}if(this.method==="POST")try{a.setRequestHeader("Content-type","text/plain;charset=UTF-8")}catch{}try{a.setRequestHeader("Accept","*/*")}catch{}(n=this.opts.cookieJar)===null||n===void 0||n.addCookies(a),"withCredentials"in a&&(a.withCredentials=this.opts.withCredentials),this.opts.requestTimeout&&(a.timeout=this.opts.requestTimeout),a.onreadystatechange=()=>{var o;a.readyState===3&&((o=this.opts.cookieJar)===null||o===void 0||o.parseCookies(a)),a.readyState===4&&(a.status===200||a.status===1223?this.onLoad():this.setTimeoutFn(()=>{this.onError(typeof a.status=="number"?a.status:0)},0))},a.send(this.data)}catch(o){this.setTimeoutFn(()=>{this.onError(o)},0);return}typeof document<"u"&&(this.index=Request.requestsCount++,Request.requests[this.index]=this)}onError(n){this.emitReserved("error",n,this.xhr),this.cleanup(!0)}cleanup(n){if(!(typeof this.xhr>"u"||this.xhr===null)){if(this.xhr.onreadystatechange=empty,n)try{this.xhr.abort()}catch{}typeof document<"u"&&delete Request.requests[this.index],this.xhr=null}}onLoad(){const n=this.xhr.responseText;n!==null&&(this.emitReserved("data",n),this.emitReserved("success"),this.cleanup())}abort(){this.cleanup()}}if(Request.requestsCount=0,Request.requests={},typeof document<"u"){if(typeof attachEvent=="function")attachEvent("onunload",unloadHandler);else if(typeof addEventListener=="function"){const c="onpagehide"in globalThisShim?"pagehide":"unload";addEventListener(c,unloadHandler,!1)}}function unloadHandler(){for(let c in Request.requests)Request.requests.hasOwnProperty(c)&&Request.requests[c].abort()}const nextTick=typeof Promise=="function"&&typeof Promise.resolve=="function"?n=>Promise.resolve().then(n):(n,s)=>s(n,0),WebSocket=globalThisShim.WebSocket||globalThisShim.MozWebSocket,usingBrowserWebSocket=!0,defaultBinaryType="arraybuffer",isReactNative=typeof navigator<"u"&&typeof navigator.product=="string"&&navigator.product.toLowerCase()==="reactnative";class WS extends Transport{constructor(n){super(n),this.supportsBinary=!n.forceBase64}get name(){return"websocket"}doOpen(){if(!this.check())return;const n=this.uri(),s=this.opts.protocols,a=isReactNative?{}:pick(this.opts,"agent","perMessageDeflate","pfx","key","passphrase","cert","ca","ciphers","rejectUnauthorized","localAddress","protocolVersion","origin","maxPayload","family","checkServerIdentity");this.opts.extraHeaders&&(a.headers=this.opts.extraHeaders);try{this.ws=usingBrowserWebSocket&&!isReactNative?s?new WebSocket(n,s):new WebSocket(n):new WebSocket(n,s,a)}catch(o){return this.emitReserved("error",o)}this.ws.binaryType=this.socket.binaryType,this.addEventListeners()}addEventListeners(){this.ws.onopen=()=>{this.opts.autoUnref&&this.ws._socket.unref(),this.onOpen()},this.ws.onclose=n=>this.onClose({description:"websocket connection closed",context:n}),this.ws.onmessage=n=>this.onData(n.data),this.ws.onerror=n=>this.onError("websocket error",n)}write(n){this.writable=!1;for(let s=0;s<n.length;s++){const a=n[s],o=s===n.length-1;encodePacket(a,this.supportsBinary,t=>{const e={};try{usingBrowserWebSocket&&this.ws.send(t)}catch{}o&&nextTick(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){typeof this.ws<"u"&&(this.ws.close(),this.ws=null)}uri(){const n=this.opts.secure?"wss":"ws",s=this.query||{};return this.opts.timestampRequests&&(s[this.opts.timestampParam]=yeast()),this.supportsBinary||(s.b64=1),this.createUri(n,s)}check(){return!!WebSocket}}class WT extends Transport{get name(){return"webtransport"}doOpen(){typeof WebTransport=="function"&&(this.transport=new WebTransport(this.createUri("https"),this.opts.transportOptions[this.name]),this.transport.closed.then(()=>{this.onClose()}).catch(n=>{this.onError("webtransport error",n)}),this.transport.ready.then(()=>{this.transport.createBidirectionalStream().then(n=>{const s=createPacketDecoderStream(Number.MAX_SAFE_INTEGER,this.socket.binaryType),a=n.readable.pipeThrough(s).getReader(),o=createPacketEncoderStream();o.readable.pipeTo(n.writable),this.writer=o.writable.getWriter();const t=()=>{a.read().then(({done:r,value:d})=>{r||(this.onPacket(d),t())}).catch(r=>{})};t();const e={type:"open"};this.query.sid&&(e.data=`{"sid":"${this.query.sid}"}`),this.writer.write(e).then(()=>this.onOpen())})}))}write(n){this.writable=!1;for(let s=0;s<n.length;s++){const a=n[s],o=s===n.length-1;this.writer.write(a).then(()=>{o&&nextTick(()=>{this.writable=!0,this.emitReserved("drain")},this.setTimeoutFn)})}}doClose(){var n;(n=this.transport)===null||n===void 0||n.close()}}const transports={websocket:WS,webtransport:WT,polling:Polling},re=/^(?:(?![^:@\/?#]+:[^:@\/]*@)(http|https|ws|wss):\/\/)?((?:(([^:@\/?#]*)(?::([^:@\/?#]*))?)?@)?((?:[a-f0-9]{0,4}:){2,7}[a-f0-9]{0,4}|[^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,parts=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];function parse(c){if(c.length>2e3)throw"URI too long";const n=c,s=c.indexOf("["),a=c.indexOf("]");s!=-1&&a!=-1&&(c=c.substring(0,s)+c.substring(s,a).replace(/:/g,";")+c.substring(a,c.length));let o=re.exec(c||""),t={},e=14;for(;e--;)t[parts[e]]=o[e]||"";return s!=-1&&a!=-1&&(t.source=n,t.host=t.host.substring(1,t.host.length-1).replace(/;/g,":"),t.authority=t.authority.replace("[","").replace("]","").replace(/;/g,":"),t.ipv6uri=!0),t.pathNames=pathNames(t,t.path),t.queryKey=queryKey(t,t.query),t}function pathNames(c,n){const s=/\/{2,9}/g,a=n.replace(s,"/").split("/");return(n.slice(0,1)=="/"||n.length===0)&&a.splice(0,1),n.slice(-1)=="/"&&a.splice(a.length-1,1),a}function queryKey(c,n){const s={};return n.replace(/(?:^|&)([^&=]*)=?([^&]*)/g,function(a,o,t){o&&(s[o]=t)}),s}let Socket$1=class j extends Emitter{constructor(n,s={}){super(),this.binaryType=defaultBinaryType,this.writeBuffer=[],n&&typeof n=="object"&&(s=n,n=null),n?(n=parse(n),s.hostname=n.host,s.secure=n.protocol==="https"||n.protocol==="wss",s.port=n.port,n.query&&(s.query=n.query)):s.host&&(s.hostname=parse(s.host).host),installTimerFunctions(this,s),this.secure=s.secure!=null?s.secure:typeof location<"u"&&location.protocol==="https:",s.hostname&&!s.port&&(s.port=this.secure?"443":"80"),this.hostname=s.hostname||(typeof location<"u"?location.hostname:"localhost"),this.port=s.port||(typeof location<"u"&&location.port?location.port:this.secure?"443":"80"),this.transports=s.transports||["polling","websocket","webtransport"],this.writeBuffer=[],this.prevBufferLen=0,this.opts=Object.assign({path:"/engine.io",agent:!1,withCredentials:!1,upgrade:!0,timestampParam:"t",rememberUpgrade:!1,addTrailingSlash:!0,rejectUnauthorized:!0,perMessageDeflate:{threshold:1024},transportOptions:{},closeOnBeforeunload:!1},s),this.opts.path=this.opts.path.replace(/\/$/,"")+(this.opts.addTrailingSlash?"/":""),typeof this.opts.query=="string"&&(this.opts.query=decode(this.opts.query)),this.id=null,this.upgrades=null,this.pingInterval=null,this.pingTimeout=null,this.pingTimeoutTimer=null,typeof addEventListener=="function"&&(this.opts.closeOnBeforeunload&&(this.beforeunloadEventListener=()=>{this.transport&&(this.transport.removeAllListeners(),this.transport.close())},addEventListener("beforeunload",this.beforeunloadEventListener,!1)),this.hostname!=="localhost"&&(this.offlineEventListener=()=>{this.onClose("transport close",{description:"network connection lost"})},addEventListener("offline",this.offlineEventListener,!1))),this.open()}createTransport(n){const s=Object.assign({},this.opts.query);s.EIO=protocol$1,s.transport=n,this.id&&(s.sid=this.id);const a=Object.assign({},this.opts,{query:s,socket:this,hostname:this.hostname,secure:this.secure,port:this.port},this.opts.transportOptions[n]);return new transports[n](a)}open(){let n;if(this.opts.rememberUpgrade&&j.priorWebsocketSuccess&&this.transports.indexOf("websocket")!==-1)n="websocket";else if(this.transports.length===0){this.setTimeoutFn(()=>{this.emitReserved("error","No transports available")},0);return}else n=this.transports[0];this.readyState="opening";try{n=this.createTransport(n)}catch{this.transports.shift(),this.open();return}n.open(),this.setTransport(n)}setTransport(n){this.transport&&this.transport.removeAllListeners(),this.transport=n,n.on("drain",this.onDrain.bind(this)).on("packet",this.onPacket.bind(this)).on("error",this.onError.bind(this)).on("close",s=>this.onClose("transport close",s))}probe(n){let s=this.createTransport(n),a=!1;j.priorWebsocketSuccess=!1;const o=()=>{a||(s.send([{type:"ping",data:"probe"}]),s.once("packet",m=>{if(!a)if(m.type==="pong"&&m.data==="probe"){if(this.upgrading=!0,this.emitReserved("upgrading",s),!s)return;j.priorWebsocketSuccess=s.name==="websocket",this.transport.pause(()=>{a||this.readyState!=="closed"&&(l(),this.setTransport(s),s.send([{type:"upgrade"}]),this.emitReserved("upgrade",s),s=null,this.upgrading=!1,this.flush())})}else{const h=new Error("probe error");h.transport=s.name,this.emitReserved("upgradeError",h)}}))};function t(){a||(a=!0,l(),s.close(),s=null)}const e=m=>{const h=new Error("probe error: "+m);h.transport=s.name,t(),this.emitReserved("upgradeError",h)};function r(){e("transport closed")}function d(){e("socket closed")}function u(m){s&&m.name!==s.name&&t()}const l=()=>{s.removeListener("open",o),s.removeListener("error",e),s.removeListener("close",r),this.off("close",d),this.off("upgrading",u)};s.once("open",o),s.once("error",e),s.once("close",r),this.once("close",d),this.once("upgrading",u),this.upgrades.indexOf("webtransport")!==-1&&n!=="webtransport"?this.setTimeoutFn(()=>{a||s.open()},200):s.open()}onOpen(){if(this.readyState="open",j.priorWebsocketSuccess=this.transport.name==="websocket",this.emitReserved("open"),this.flush(),this.readyState==="open"&&this.opts.upgrade){let n=0;const s=this.upgrades.length;for(;n<s;n++)this.probe(this.upgrades[n])}}onPacket(n){if(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")switch(this.emitReserved("packet",n),this.emitReserved("heartbeat"),this.resetPingTimeout(),n.type){case"open":this.onHandshake(JSON.parse(n.data));break;case"ping":this.sendPacket("pong"),this.emitReserved("ping"),this.emitReserved("pong");break;case"error":const s=new Error("server error");s.code=n.data,this.onError(s);break;case"message":this.emitReserved("data",n.data),this.emitReserved("message",n.data);break}}onHandshake(n){this.emitReserved("handshake",n),this.id=n.sid,this.transport.query.sid=n.sid,this.upgrades=this.filterUpgrades(n.upgrades),this.pingInterval=n.pingInterval,this.pingTimeout=n.pingTimeout,this.maxPayload=n.maxPayload,this.onOpen(),this.readyState!=="closed"&&this.resetPingTimeout()}resetPingTimeout(){this.clearTimeoutFn(this.pingTimeoutTimer),this.pingTimeoutTimer=this.setTimeoutFn(()=>{this.onClose("ping timeout")},this.pingInterval+this.pingTimeout),this.opts.autoUnref&&this.pingTimeoutTimer.unref()}onDrain(){this.writeBuffer.splice(0,this.prevBufferLen),this.prevBufferLen=0,this.writeBuffer.length===0?this.emitReserved("drain"):this.flush()}flush(){if(this.readyState!=="closed"&&this.transport.writable&&!this.upgrading&&this.writeBuffer.length){const n=this.getWritablePackets();this.transport.send(n),this.prevBufferLen=n.length,this.emitReserved("flush")}}getWritablePackets(){if(!(this.maxPayload&&this.transport.name==="polling"&&this.writeBuffer.length>1))return this.writeBuffer;let s=1;for(let a=0;a<this.writeBuffer.length;a++){const o=this.writeBuffer[a].data;if(o&&(s+=byteLength(o)),a>0&&s>this.maxPayload)return this.writeBuffer.slice(0,a);s+=2}return this.writeBuffer}write(n,s,a){return this.sendPacket("message",n,s,a),this}send(n,s,a){return this.sendPacket("message",n,s,a),this}sendPacket(n,s,a,o){if(typeof s=="function"&&(o=s,s=void 0),typeof a=="function"&&(o=a,a=null),this.readyState==="closing"||this.readyState==="closed")return;a=a||{},a.compress=a.compress!==!1;const t={type:n,data:s,options:a};this.emitReserved("packetCreate",t),this.writeBuffer.push(t),o&&this.once("flush",o),this.flush()}close(){const n=()=>{this.onClose("forced close"),this.transport.close()},s=()=>{this.off("upgrade",s),this.off("upgradeError",s),n()},a=()=>{this.once("upgrade",s),this.once("upgradeError",s)};return(this.readyState==="opening"||this.readyState==="open")&&(this.readyState="closing",this.writeBuffer.length?this.once("drain",()=>{this.upgrading?a():n()}):this.upgrading?a():n()),this}onError(n){j.priorWebsocketSuccess=!1,this.emitReserved("error",n),this.onClose("transport error",n)}onClose(n,s){(this.readyState==="opening"||this.readyState==="open"||this.readyState==="closing")&&(this.clearTimeoutFn(this.pingTimeoutTimer),this.transport.removeAllListeners("close"),this.transport.close(),this.transport.removeAllListeners(),typeof removeEventListener=="function"&&(removeEventListener("beforeunload",this.beforeunloadEventListener,!1),removeEventListener("offline",this.offlineEventListener,!1)),this.readyState="closed",this.id=null,this.emitReserved("close",n,s),this.writeBuffer=[],this.prevBufferLen=0)}filterUpgrades(n){const s=[];let a=0;const o=n.length;for(;a<o;a++)~this.transports.indexOf(n[a])&&s.push(n[a]);return s}};Socket$1.protocol=protocol$1;function url(c,n="",s){let a=c;s=s||typeof location<"u"&&location,c==null&&(c=s.protocol+"//"+s.host),typeof c=="string"&&(c.charAt(0)==="/"&&(c.charAt(1)==="/"?c=s.protocol+c:c=s.host+c),/^(https?|wss?):\/\//.test(c)||(typeof s<"u"?c=s.protocol+"//"+c:c="https://"+c),a=parse(c)),a.port||(/^(http|ws)$/.test(a.protocol)?a.port="80":/^(http|ws)s$/.test(a.protocol)&&(a.port="443")),a.path=a.path||"/";const t=a.host.indexOf(":")!==-1?"["+a.host+"]":a.host;return a.id=a.protocol+"://"+t+":"+a.port+n,a.href=a.protocol+"://"+t+(s&&s.port===a.port?"":":"+a.port),a}const withNativeArrayBuffer=typeof ArrayBuffer=="function",isView=c=>typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(c):c.buffer instanceof ArrayBuffer,toString=Object.prototype.toString,withNativeBlob=typeof Blob=="function"||typeof Blob<"u"&&toString.call(Blob)==="[object BlobConstructor]",withNativeFile=typeof File=="function"||typeof File<"u"&&toString.call(File)==="[object FileConstructor]";function isBinary(c){return withNativeArrayBuffer&&(c instanceof ArrayBuffer||isView(c))||withNativeBlob&&c instanceof Blob||withNativeFile&&c instanceof File}function hasBinary(c,n){if(!c||typeof c!="object")return!1;if(Array.isArray(c)){for(let s=0,a=c.length;s<a;s++)if(hasBinary(c[s]))return!0;return!1}if(isBinary(c))return!0;if(c.toJSON&&typeof c.toJSON=="function"&&arguments.length===1)return hasBinary(c.toJSON(),!0);for(const s in c)if(Object.prototype.hasOwnProperty.call(c,s)&&hasBinary(c[s]))return!0;return!1}function deconstructPacket(c){const n=[],s=c.data,a=c;return a.data=_deconstructPacket(s,n),a.attachments=n.length,{packet:a,buffers:n}}function _deconstructPacket(c,n){if(!c)return c;if(isBinary(c)){const s={_placeholder:!0,num:n.length};return n.push(c),s}else if(Array.isArray(c)){const s=new Array(c.length);for(let a=0;a<c.length;a++)s[a]=_deconstructPacket(c[a],n);return s}else if(typeof c=="object"&&!(c instanceof Date)){const s={};for(const a in c)Object.prototype.hasOwnProperty.call(c,a)&&(s[a]=_deconstructPacket(c[a],n));return s}return c}function reconstructPacket(c,n){return c.data=_reconstructPacket(c.data,n),delete c.attachments,c}function _reconstructPacket(c,n){if(!c)return c;if(c&&c._placeholder===!0){if(typeof c.num=="number"&&c.num>=0&&c.num<n.length)return n[c.num];throw new Error("illegal attachments")}else if(Array.isArray(c))for(let s=0;s<c.length;s++)c[s]=_reconstructPacket(c[s],n);else if(typeof c=="object")for(const s in c)Object.prototype.hasOwnProperty.call(c,s)&&(c[s]=_reconstructPacket(c[s],n));return c}const RESERVED_EVENTS$1=["connect","connect_error","disconnect","disconnecting","newListener","removeListener"],protocol=5;var PacketType;(function(c){c[c.CONNECT=0]="CONNECT",c[c.DISCONNECT=1]="DISCONNECT",c[c.EVENT=2]="EVENT",c[c.ACK=3]="ACK",c[c.CONNECT_ERROR=4]="CONNECT_ERROR",c[c.BINARY_EVENT=5]="BINARY_EVENT",c[c.BINARY_ACK=6]="BINARY_ACK"})(PacketType||(PacketType={}));let Encoder$1=class{constructor(n){this.replacer=n}encode(n){return(n.type===PacketType.EVENT||n.type===PacketType.ACK)&&hasBinary(n)?this.encodeAsBinary({type:n.type===PacketType.EVENT?PacketType.BINARY_EVENT:PacketType.BINARY_ACK,nsp:n.nsp,data:n.data,id:n.id}):[this.encodeAsString(n)]}encodeAsString(n){let s=""+n.type;return(n.type===PacketType.BINARY_EVENT||n.type===PacketType.BINARY_ACK)&&(s+=n.attachments+"-"),n.nsp&&n.nsp!=="/"&&(s+=n.nsp+","),n.id!=null&&(s+=n.id),n.data!=null&&(s+=JSON.stringify(n.data,this.replacer)),s}encodeAsBinary(n){const s=deconstructPacket(n),a=this.encodeAsString(s.packet),o=s.buffers;return o.unshift(a),o}};function isObject(c){return Object.prototype.toString.call(c)==="[object Object]"}let Decoder$1=class q extends Emitter{constructor(n){super(),this.reviver=n}add(n){let s;if(typeof n=="string"){if(this.reconstructor)throw new Error("got plaintext data when reconstructing a packet");s=this.decodeString(n);const a=s.type===PacketType.BINARY_EVENT;a||s.type===PacketType.BINARY_ACK?(s.type=a?PacketType.EVENT:PacketType.ACK,this.reconstructor=new BinaryReconstructor(s),s.attachments===0&&super.emitReserved("decoded",s)):super.emitReserved("decoded",s)}else if(isBinary(n)||n.base64)if(this.reconstructor)s=this.reconstructor.takeBinaryData(n),s&&(this.reconstructor=null,super.emitReserved("decoded",s));else throw new Error("got binary data when not reconstructing a packet");else throw new Error("Unknown type: "+n)}decodeString(n){let s=0;const a={type:Number(n.charAt(0))};if(PacketType[a.type]===void 0)throw new Error("unknown packet type "+a.type);if(a.type===PacketType.BINARY_EVENT||a.type===PacketType.BINARY_ACK){const t=s+1;for(;n.charAt(++s)!=="-"&&s!=n.length;);const e=n.substring(t,s);if(e!=Number(e)||n.charAt(s)!=="-")throw new Error("Illegal attachments");a.attachments=Number(e)}if(n.charAt(s+1)==="/"){const t=s+1;for(;++s&&!(n.charAt(s)===","||s===n.length););a.nsp=n.substring(t,s)}else a.nsp="/";const o=n.charAt(s+1);if(o!==""&&Number(o)==o){const t=s+1;for(;++s;){const e=n.charAt(s);if(e==null||Number(e)!=e){--s;break}if(s===n.length)break}a.id=Number(n.substring(t,s+1))}if(n.charAt(++s)){const t=this.tryParse(n.substr(s));if(q.isPayloadValid(a.type,t))a.data=t;else throw new Error("invalid payload")}return a}tryParse(n){try{return JSON.parse(n,this.reviver)}catch{return!1}}static isPayloadValid(n,s){switch(n){case PacketType.CONNECT:return isObject(s);case PacketType.DISCONNECT:return s===void 0;case PacketType.CONNECT_ERROR:return typeof s=="string"||isObject(s);case PacketType.EVENT:case PacketType.BINARY_EVENT:return Array.isArray(s)&&(typeof s[0]=="number"||typeof s[0]=="string"&&RESERVED_EVENTS$1.indexOf(s[0])===-1);case PacketType.ACK:case PacketType.BINARY_ACK:return Array.isArray(s)}}destroy(){this.reconstructor&&(this.reconstructor.finishedReconstruction(),this.reconstructor=null)}};class BinaryReconstructor{constructor(n){this.packet=n,this.buffers=[],this.reconPack=n}takeBinaryData(n){if(this.buffers.push(n),this.buffers.length===this.reconPack.attachments){const s=reconstructPacket(this.reconPack,this.buffers);return this.finishedReconstruction(),s}return null}finishedReconstruction(){this.reconPack=null,this.buffers=[]}}var parser=Object.freeze({__proto__:null,Decoder:Decoder$1,Encoder:Encoder$1,get PacketType(){return PacketType},protocol});function on(c,n,s){return c.on(n,s),function(){c.off(n,s)}}const RESERVED_EVENTS=Object.freeze({connect:1,connect_error:1,disconnect:1,disconnecting:1,newListener:1,removeListener:1});class Socket extends Emitter{constructor(n,s,a){super(),this.connected=!1,this.recovered=!1,this.receiveBuffer=[],this.sendBuffer=[],this._queue=[],this._queueSeq=0,this.ids=0,this.acks={},this.flags={},this.io=n,this.nsp=s,a&&a.auth&&(this.auth=a.auth),this._opts=Object.assign({},a),this.io._autoConnect&&this.open()}get disconnected(){return!this.connected}subEvents(){if(this.subs)return;const n=this.io;this.subs=[on(n,"open",this.onopen.bind(this)),on(n,"packet",this.onpacket.bind(this)),on(n,"error",this.onerror.bind(this)),on(n,"close",this.onclose.bind(this))]}get active(){return!!this.subs}connect(){return this.connected?this:(this.subEvents(),this.io._reconnecting||this.io.open(),this.io._readyState==="open"&&this.onopen(),this)}open(){return this.connect()}send(...n){return n.unshift("message"),this.emit.apply(this,n),this}emit(n,...s){if(RESERVED_EVENTS.hasOwnProperty(n))throw new Error('"'+n.toString()+'" is a reserved event name');if(s.unshift(n),this._opts.retries&&!this.flags.fromQueue&&!this.flags.volatile)return this._addToQueue(s),this;const a={type:PacketType.EVENT,data:s};if(a.options={},a.options.compress=this.flags.compress!==!1,typeof s[s.length-1]=="function"){const e=this.ids++,r=s.pop();this._registerAckCallback(e,r),a.id=e}const o=this.io.engine&&this.io.engine.transport&&this.io.engine.transport.writable;return this.flags.volatile&&(!o||!this.connected)||(this.connected?(this.notifyOutgoingListeners(a),this.packet(a)):this.sendBuffer.push(a)),this.flags={},this}_registerAckCallback(n,s){var a;const o=(a=this.flags.timeout)!==null&&a!==void 0?a:this._opts.ackTimeout;if(o===void 0){this.acks[n]=s;return}const t=this.io.setTimeoutFn(()=>{delete this.acks[n];for(let e=0;e<this.sendBuffer.length;e++)this.sendBuffer[e].id===n&&this.sendBuffer.splice(e,1);s.call(this,new Error("operation has timed out"))},o);this.acks[n]=(...e)=>{this.io.clearTimeoutFn(t),s.apply(this,[null,...e])}}emitWithAck(n,...s){const a=this.flags.timeout!==void 0||this._opts.ackTimeout!==void 0;return new Promise((o,t)=>{s.push((e,r)=>a?e?t(e):o(r):o(e)),this.emit(n,...s)})}_addToQueue(n){let s;typeof n[n.length-1]=="function"&&(s=n.pop());const a={id:this._queueSeq++,tryCount:0,pending:!1,args:n,flags:Object.assign({fromQueue:!0},this.flags)};n.push((o,...t)=>a!==this._queue[0]?void 0:(o!==null?a.tryCount>this._opts.retries&&(this._queue.shift(),s&&s(o)):(this._queue.shift(),s&&s(null,...t)),a.pending=!1,this._drainQueue())),this._queue.push(a),this._drainQueue()}_drainQueue(n=!1){if(!this.connected||this._queue.length===0)return;const s=this._queue[0];s.pending&&!n||(s.pending=!0,s.tryCount++,this.flags=s.flags,this.emit.apply(this,s.args))}packet(n){n.nsp=this.nsp,this.io._packet(n)}onopen(){typeof this.auth=="function"?this.auth(n=>{this._sendConnectPacket(n)}):this._sendConnectPacket(this.auth)}_sendConnectPacket(n){this.packet({type:PacketType.CONNECT,data:this._pid?Object.assign({pid:this._pid,offset:this._lastOffset},n):n})}onerror(n){this.connected||this.emitReserved("connect_error",n)}onclose(n,s){this.connected=!1,delete this.id,this.emitReserved("disconnect",n,s)}onpacket(n){if(n.nsp===this.nsp)switch(n.type){case PacketType.CONNECT:n.data&&n.data.sid?this.onconnect(n.data.sid,n.data.pid):this.emitReserved("connect_error",new Error("It seems you are trying to reach a Socket.IO server in v2.x with a v3.x client, but they are not compatible (more information here: https://socket.io/docs/v3/migrating-from-2-x-to-3-0/)"));break;case PacketType.EVENT:case PacketType.BINARY_EVENT:this.onevent(n);break;case PacketType.ACK:case PacketType.BINARY_ACK:this.onack(n);break;case PacketType.DISCONNECT:this.ondisconnect();break;case PacketType.CONNECT_ERROR:this.destroy();const a=new Error(n.data.message);a.data=n.data.data,this.emitReserved("connect_error",a);break}}onevent(n){const s=n.data||[];n.id!=null&&s.push(this.ack(n.id)),this.connected?this.emitEvent(s):this.receiveBuffer.push(Object.freeze(s))}emitEvent(n){if(this._anyListeners&&this._anyListeners.length){const s=this._anyListeners.slice();for(const a of s)a.apply(this,n)}super.emit.apply(this,n),this._pid&&n.length&&typeof n[n.length-1]=="string"&&(this._lastOffset=n[n.length-1])}ack(n){const s=this;let a=!1;return function(...o){a||(a=!0,s.packet({type:PacketType.ACK,id:n,data:o}))}}onack(n){const s=this.acks[n.id];typeof s=="function"&&(s.apply(this,n.data),delete this.acks[n.id])}onconnect(n,s){this.id=n,this.recovered=s&&this._pid===s,this._pid=s,this.connected=!0,this.emitBuffered(),this.emitReserved("connect"),this._drainQueue(!0)}emitBuffered(){this.receiveBuffer.forEach(n=>this.emitEvent(n)),this.receiveBuffer=[],this.sendBuffer.forEach(n=>{this.notifyOutgoingListeners(n),this.packet(n)}),this.sendBuffer=[]}ondisconnect(){this.destroy(),this.onclose("io server disconnect")}destroy(){this.subs&&(this.subs.forEach(n=>n()),this.subs=void 0),this.io._destroy(this)}disconnect(){return this.connected&&this.packet({type:PacketType.DISCONNECT}),this.destroy(),this.connected&&this.onclose("io client disconnect"),this}close(){return this.disconnect()}compress(n){return this.flags.compress=n,this}get volatile(){return this.flags.volatile=!0,this}timeout(n){return this.flags.timeout=n,this}onAny(n){return this._anyListeners=this._anyListeners||[],this._anyListeners.push(n),this}prependAny(n){return this._anyListeners=this._anyListeners||[],this._anyListeners.unshift(n),this}offAny(n){if(!this._anyListeners)return this;if(n){const s=this._anyListeners;for(let a=0;a<s.length;a++)if(n===s[a])return s.splice(a,1),this}else this._anyListeners=[];return this}listenersAny(){return this._anyListeners||[]}onAnyOutgoing(n){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.push(n),this}prependAnyOutgoing(n){return this._anyOutgoingListeners=this._anyOutgoingListeners||[],this._anyOutgoingListeners.unshift(n),this}offAnyOutgoing(n){if(!this._anyOutgoingListeners)return this;if(n){const s=this._anyOutgoingListeners;for(let a=0;a<s.length;a++)if(n===s[a])return s.splice(a,1),this}else this._anyOutgoingListeners=[];return this}listenersAnyOutgoing(){return this._anyOutgoingListeners||[]}notifyOutgoingListeners(n){if(this._anyOutgoingListeners&&this._anyOutgoingListeners.length){const s=this._anyOutgoingListeners.slice();for(const a of s)a.apply(this,n.data)}}}function Backoff(c){c=c||{},this.ms=c.min||100,this.max=c.max||1e4,this.factor=c.factor||2,this.jitter=c.jitter>0&&c.jitter<=1?c.jitter:0,this.attempts=0}Backoff.prototype.duration=function(){var c=this.ms*Math.pow(this.factor,this.attempts++);if(this.jitter){var n=Math.random(),s=Math.floor(n*this.jitter*c);c=(Math.floor(n*10)&1)==0?c-s:c+s}return Math.min(c,this.max)|0},Backoff.prototype.reset=function(){this.attempts=0},Backoff.prototype.setMin=function(c){this.ms=c},Backoff.prototype.setMax=function(c){this.max=c},Backoff.prototype.setJitter=function(c){this.jitter=c};class Manager extends Emitter{constructor(n,s){var a;super(),this.nsps={},this.subs=[],n&&typeof n=="object"&&(s=n,n=void 0),s=s||{},s.path=s.path||"/socket.io",this.opts=s,installTimerFunctions(this,s),this.reconnection(s.reconnection!==!1),this.reconnectionAttempts(s.reconnectionAttempts||1/0),this.reconnectionDelay(s.reconnectionDelay||1e3),this.reconnectionDelayMax(s.reconnectionDelayMax||5e3),this.randomizationFactor((a=s.randomizationFactor)!==null&&a!==void 0?a:.5),this.backoff=new Backoff({min:this.reconnectionDelay(),max:this.reconnectionDelayMax(),jitter:this.randomizationFactor()}),this.timeout(s.timeout==null?2e4:s.timeout),this._readyState="closed",this.uri=n;const o=s.parser||parser;this.encoder=new o.Encoder,this.decoder=new o.Decoder,this._autoConnect=s.autoConnect!==!1,this._autoConnect&&this.open()}reconnection(n){return arguments.length?(this._reconnection=!!n,this):this._reconnection}reconnectionAttempts(n){return n===void 0?this._reconnectionAttempts:(this._reconnectionAttempts=n,this)}reconnectionDelay(n){var s;return n===void 0?this._reconnectionDelay:(this._reconnectionDelay=n,(s=this.backoff)===null||s===void 0||s.setMin(n),this)}randomizationFactor(n){var s;return n===void 0?this._randomizationFactor:(this._randomizationFactor=n,(s=this.backoff)===null||s===void 0||s.setJitter(n),this)}reconnectionDelayMax(n){var s;return n===void 0?this._reconnectionDelayMax:(this._reconnectionDelayMax=n,(s=this.backoff)===null||s===void 0||s.setMax(n),this)}timeout(n){return arguments.length?(this._timeout=n,this):this._timeout}maybeReconnectOnOpen(){!this._reconnecting&&this._reconnection&&this.backoff.attempts===0&&this.reconnect()}open(n){if(~this._readyState.indexOf("open"))return this;this.engine=new Socket$1(this.uri,this.opts);const s=this.engine,a=this;this._readyState="opening",this.skipReconnect=!1;const o=on(s,"open",function(){a.onopen(),n&&n()}),t=r=>{this.cleanup(),this._readyState="closed",this.emitReserved("error",r),n?n(r):this.maybeReconnectOnOpen()},e=on(s,"error",t);if(this._timeout!==!1){const r=this._timeout,d=this.setTimeoutFn(()=>{o(),t(new Error("timeout")),s.close()},r);this.opts.autoUnref&&d.unref(),this.subs.push(()=>{this.clearTimeoutFn(d)})}return this.subs.push(o),this.subs.push(e),this}connect(n){return this.open(n)}onopen(){this.cleanup(),this._readyState="open",this.emitReserved("open");const n=this.engine;this.subs.push(on(n,"ping",this.onping.bind(this)),on(n,"data",this.ondata.bind(this)),on(n,"error",this.onerror.bind(this)),on(n,"close",this.onclose.bind(this)),on(this.decoder,"decoded",this.ondecoded.bind(this)))}onping(){this.emitReserved("ping")}ondata(n){try{this.decoder.add(n)}catch(s){this.onclose("parse error",s)}}ondecoded(n){nextTick(()=>{this.emitReserved("packet",n)},this.setTimeoutFn)}onerror(n){this.emitReserved("error",n)}socket(n,s){let a=this.nsps[n];return a?this._autoConnect&&!a.active&&a.connect():(a=new Socket(this,n,s),this.nsps[n]=a),a}_destroy(n){const s=Object.keys(this.nsps);for(const a of s)if(this.nsps[a].active)return;this._close()}_packet(n){const s=this.encoder.encode(n);for(let a=0;a<s.length;a++)this.engine.write(s[a],n.options)}cleanup(){this.subs.forEach(n=>n()),this.subs.length=0,this.decoder.destroy()}_close(){this.skipReconnect=!0,this._reconnecting=!1,this.onclose("forced close"),this.engine&&this.engine.close()}disconnect(){return this._close()}onclose(n,s){this.cleanup(),this.backoff.reset(),this._readyState="closed",this.emitReserved("close",n,s),this._reconnection&&!this.skipReconnect&&this.reconnect()}reconnect(){if(this._reconnecting||this.skipReconnect)return this;const n=this;if(this.backoff.attempts>=this._reconnectionAttempts)this.backoff.reset(),this.emitReserved("reconnect_failed"),this._reconnecting=!1;else{const s=this.backoff.duration();this._reconnecting=!0;const a=this.setTimeoutFn(()=>{n.skipReconnect||(this.emitReserved("reconnect_attempt",n.backoff.attempts),!n.skipReconnect&&n.open(o=>{o?(n._reconnecting=!1,n.reconnect(),this.emitReserved("reconnect_error",o)):n.onreconnect()}))},s);this.opts.autoUnref&&a.unref(),this.subs.push(()=>{this.clearTimeoutFn(a)})}}onreconnect(){const n=this.backoff.attempts;this._reconnecting=!1,this.backoff.reset(),this.emitReserved("reconnect",n)}}const cache={};function lookup(c,n){typeof c=="object"&&(n=c,c=void 0),n=n||{};const s=url(c,n.path||"/socket.io"),a=s.source,o=s.id,t=s.path,e=cache[o]&&t in cache[o].nsps,r=n.forceNew||n["force new connection"]||n.multiplex===!1||e;let d;return r?d=new Manager(a,n):(cache[o]||(cache[o]=new Manager(a,n)),d=cache[o]),s.query&&!n.query&&(n.query=s.queryKey),d.socket(s.path,n)}Object.assign(lookup,{Manager,Socket,io:lookup,connect:lookup});var requiresPort,hasRequiredRequiresPort;function requireRequiresPort(){return hasRequiredRequiresPort||(hasRequiredRequiresPort=1,requiresPort=function(n,s){if(s=s.split(":")[0],n=+n,!n)return!1;switch(s){case"http":case"ws":return n!==80;case"https":case"wss":return n!==443;case"ftp":return n!==21;case"gopher":return n!==70;case"file":return!1}return n!==0}),requiresPort}var querystringify={},hasRequiredQuerystringify;function requireQuerystringify(){if(hasRequiredQuerystringify)return querystringify;hasRequiredQuerystringify=1;var c=Object.prototype.hasOwnProperty,n;function s(e){try{return decodeURIComponent(e.replace(/\+/g," "))}catch{return null}}function a(e){try{return encodeURIComponent(e)}catch{return null}}function o(e){for(var r=/([^=?#&]+)=?([^&]*)/g,d={},u;u=r.exec(e);){var l=s(u[1]),m=s(u[2]);l===null||m===null||l in d||(d[l]=m)}return d}function t(e,r){r=r||"";var d=[],u,l;typeof r!="string"&&(r="?");for(l in e)if(c.call(e,l)){if(u=e[l],!u&&(u===null||u===n||isNaN(u))&&(u=""),l=a(l),u=a(u),l===null||u===null)continue;d.push(l+"="+u)}return d.length?r+d.join("&"):""}return querystringify.stringify=t,querystringify.parse=o,querystringify}var urlParse,hasRequiredUrlParse;function requireUrlParse(){if(hasRequiredUrlParse)return urlParse;hasRequiredUrlParse=1;var c=requireRequiresPort(),n=requireQuerystringify(),s=/^[\x00-\x20\u00a0\u1680\u2000-\u200a\u2028\u2029\u202f\u205f\u3000\ufeff]+/,a=/[\n\r\t]/g,o=/^[A-Za-z][A-Za-z0-9+-.]*:\/\//,t=/:\d+$/,e=/^([a-z][a-z0-9.+-]*:)?(\/\/)?([\\/]+)?([\S\s]*)/i,r=/^[a-zA-Z]:/;function d(I){return(I||"").toString().replace(s,"")}var u=[["#","hash"],["?","query"],function(O,C){return h(C.protocol)?O.replace(/\\/g,"/"):O},["/","pathname"],["@","auth",1],[NaN,"host",void 0,1,1],[/:(\d*)$/,"port",void 0,1],[NaN,"hostname",void 0,1,1]],l={hash:1,query:1};function m(I){var O;typeof window<"u"?O=window:typeof commonjsGlobal<"u"?O=commonjsGlobal:typeof self<"u"?O=self:O={};var C=O.location||{};I=I||C;var v={},E=typeof I,P;if(I.protocol==="blob:")v=new S(unescape(I.pathname),{});else if(E==="string"){v=new S(I,{});for(P in l)delete v[P]}else if(E==="object"){for(P in I)P in l||(v[P]=I[P]);v.slashes===void 0&&(v.slashes=o.test(I.href))}return v}function h(I){return I==="file:"||I==="ftp:"||I==="http:"||I==="https:"||I==="ws:"||I==="wss:"}function g(I,O){I=d(I),I=I.replace(a,""),O=O||{};var C=e.exec(I),v=C[1]?C[1].toLowerCase():"",E=!!C[2],P=!!C[3],R=0,k;return E?P?(k=C[2]+C[3]+C[4],R=C[2].length+C[3].length):(k=C[2]+C[4],R=C[2].length):P?(k=C[3]+C[4],R=C[3].length):k=C[4],v==="file:"?R>=2&&(k=k.slice(2)):h(v)?k=C[4]:v?E&&(k=k.slice(2)):R>=2&&h(O.protocol)&&(k=C[4]),{protocol:v,slashes:E||h(v),slashesCount:R,rest:k}}function y(I,O){if(I==="")return O;for(var C=(O||"/").split("/").slice(0,-1).concat(I.split("/")),v=C.length,E=C[v-1],P=!1,R=0;v--;)C[v]==="."?C.splice(v,1):C[v]===".."?(C.splice(v,1),R++):R&&(v===0&&(P=!0),C.splice(v,1),R--);return P&&C.unshift(""),(E==="."||E==="..")&&C.push(""),C.join("/")}function S(I,O,C){if(I=d(I),I=I.replace(a,""),!(this instanceof S))return new S(I,O,C);var v,E,P,R,k,D,N=u.slice(),x=typeof O,b=this,B=0;for(x!=="object"&&x!=="string"&&(C=O,O=null),C&&typeof C!="function"&&(C=n.parse),O=m(O),E=g(I||"",O),v=!E.protocol&&!E.slashes,b.slashes=E.slashes||v&&O.slashes,b.protocol=E.protocol||O.protocol||"",I=E.rest,(E.protocol==="file:"&&(E.slashesCount!==2||r.test(I))||!E.slashes&&(E.protocol||E.slashesCount<2||!h(b.protocol)))&&(N[3]=[/(.*)/,"pathname"]);B<N.length;B++){if(R=N[B],typeof R=="function"){I=R(I,b);continue}P=R[0],D=R[1],P!==P?b[D]=I:typeof P=="string"?(k=P==="@"?I.lastIndexOf(P):I.indexOf(P),~k&&(typeof R[2]=="number"?(b[D]=I.slice(0,k),I=I.slice(k+R[2])):(b[D]=I.slice(k),I=I.slice(0,k)))):(k=P.exec(I))&&(b[D]=k[1],I=I.slice(0,k.index)),b[D]=b[D]||v&&R[3]&&O[D]||"",R[4]&&(b[D]=b[D].toLowerCase())}C&&(b.query=C(b.query)),v&&O.slashes&&b.pathname.charAt(0)!=="/"&&(b.pathname!==""||O.pathname!=="")&&(b.pathname=y(b.pathname,O.pathname)),b.pathname.charAt(0)!=="/"&&h(b.protocol)&&(b.pathname="/"+b.pathname),c(b.port,b.protocol)||(b.host=b.hostname,b.port=""),b.username=b.password="",b.auth&&(k=b.auth.indexOf(":"),~k?(b.username=b.auth.slice(0,k),b.username=encodeURIComponent(decodeURIComponent(b.username)),b.password=b.auth.slice(k+1),b.password=encodeURIComponent(decodeURIComponent(b.password))):b.username=encodeURIComponent(decodeURIComponent(b.auth)),b.auth=b.password?b.username+":"+b.password:b.username),b.origin=b.protocol!=="file:"&&h(b.protocol)&&b.host?b.protocol+"//"+b.host:"null",b.href=b.toString()}function T(I,O,C){var v=this;switch(I){case"query":typeof O=="string"&&O.length&&(O=(C||n.parse)(O)),v[I]=O;break;case"port":v[I]=O,c(O,v.protocol)?O&&(v.host=v.hostname+":"+O):(v.host=v.hostname,v[I]="");break;case"hostname":v[I]=O,v.port&&(O+=":"+v.port),v.host=O;break;case"host":v[I]=O,t.test(O)?(O=O.split(":"),v.port=O.pop(),v.hostname=O.join(":")):(v.hostname=O,v.port="");break;case"protocol":v.protocol=O.toLowerCase(),v.slashes=!C;break;case"pathname":case"hash":if(O){var E=I==="pathname"?"/":"#";v[I]=O.charAt(0)!==E?E+O:O}else v[I]=O;break;case"username":case"password":v[I]=encodeURIComponent(O);break;case"auth":var P=O.indexOf(":");~P?(v.username=O.slice(0,P),v.username=encodeURIComponent(decodeURIComponent(v.username)),v.password=O.slice(P+1),v.password=encodeURIComponent(decodeURIComponent(v.password))):v.username=encodeURIComponent(decodeURIComponent(O))}for(var R=0;R<u.length;R++){var k=u[R];k[4]&&(v[k[1]]=v[k[1]].toLowerCase())}return v.auth=v.password?v.username+":"+v.password:v.username,v.origin=v.protocol!=="file:"&&h(v.protocol)&&v.host?v.protocol+"//"+v.host:"null",v.href=v.toString(),v}function w(I){(!I||typeof I!="function")&&(I=n.stringify);var O,C=this,v=C.host,E=C.protocol;E&&E.charAt(E.length-1)!==":"&&(E+=":");var P=E+(C.protocol&&C.slashes||h(C.protocol)?"//":"");return C.username?(P+=C.username,C.password&&(P+=":"+C.password),P+="@"):C.password?(P+=":"+C.password,P+="@"):C.protocol!=="file:"&&h(C.protocol)&&!v&&C.pathname!=="/"&&(P+="@"),(v[v.length-1]===":"||t.test(C.hostname)&&!C.port)&&(v+=":"),P+=v+C.pathname,O=typeof C.query=="object"?I(C.query):C.query,O&&(P+=O.charAt(0)!=="?"?"?"+O:O),C.hash&&(P+=C.hash),P}return S.prototype={set:T,toString:w},S.extractProtocol=g,S.location=m,S.trimLeft=d,S.qs=n,urlParse=S,urlParse}var urlParseExports=requireUrlParse(),_0x4304c=getDefaultExportFromCjs(urlParseExports);class ChannelMessage extends Message{type;socketId;data;static DESCRIPTOR_NAME="ChannelMessage";static DESCRIPTOR={fields:{type:{type:"uint32",id:1},socketId:{type:"string",id:2},data:{type:"bytes",id:3}}};constructor(n,s,a){super(),this.type=n,this.socketId=s,this.data=a}toJSON(){return{type:this.type,socketId:this.socketId,data:this.data}}static fromJSON(n){return new ChannelMessage(n.type,n.socketId,n.data)}}class _0x5b0b27 extends EmitterMixin(){_channelName;_wsGateway;_socket;constructor(n,s,a){super(),this._channelName=n,this._wsGateway=s,this._socket=a,this._subscribeToChannel()}remove(){this._socket.off(this._channelName)}getEventName(n,s=!1){let a="";return s&&(a+="all:"),a+="event",n&&(a+=":"+n),a}_subscribeToChannel(){this._socket.on(this._channelName,n=>{const s=MessagesCompressor.decode(n,ChannelMessage);this.fire(this.getEventName(s.type,!0),s.data,s.socketId),s.socketId!==this._wsGateway.socketId&&this.fire(this.getEventName(s.type),s.data,s.socketId)})}}var _0x536af9="53.0.1";class CKEditorCloudServicesError extends Error{context;code;data;constructor(n,s,a=null,o={}){super("cloud-services-internal-error: "+n),this.context=s,this.code=a,this.data=o,this.name="CKEditorError"}static fromPublicError(n){return new CKEditorCloudServicesError((function(s){let a="cloud-services-error: "+s.message;return s.data&&(a+=`
Error data: `+JSON.stringify(s.data)),s.explanation&&(a+=`
Explanation: `+s.explanation),s.action&&(a+=`
Action: `+s.action),s.traceId&&(a+=`
TraceId: `+s.traceId),s.code&&(a+=`
Code: `+s.code),a})(n),n)}}class CKEditorCloudServicesServerError extends Error{code;traceId;data;constructor(n,s){super(),this.name="CKEditorCloudServicesServerError",this.stack=void 0,this.message=n,this.code=s.code,this.traceId=s.traceId,this.data=s.data}static fromPublicError(n){return new CKEditorCloudServicesServerError((function(s){let a="cloud-services-server-error: "+s.message;return s.explanation&&(a+=`
Explanation: `+s.explanation),s.action&&(a+=`
Action: `+s.action),s.traceId&&(a+=`
TraceId: `+s.traceId),s.code&&(a+=`
Code: `+s.code),a})(n),n)}}class PacketOptionsMessage extends Message{flags;rooms;except;static TYPE=11;static DESCRIPTOR_NAME="PacketOptionsMessage";static DESCRIPTOR={fields:{flags:{type:"string",id:1},rooms:{type:"string",id:2,rule:"repeated"},except:{type:"string",id:3,rule:"repeated"}}};constructor(n,s=[],a=[]){super(),this.flags=n,this.rooms=s,this.except=a}toJSON(){return{flags:this.flags?JSON.stringify(this.flags):void 0,rooms:this.rooms?.length?this.rooms:void 0,except:this.except?.length?this.except:void 0}}static fromJSON(n){return new PacketOptionsMessage(n.flags&&JSON.parse(n.flags),n.rooms,n.except)}}const IS_NODE=!(typeof process>"u"||!process.versions?.node),MessageDataTypes={BUFFER:1,STRING:2,NUMBER:3,OBJECT:4};class ParserUtils{static getPacketType(...n){let s=0;for(let a=0;a<n.length;a++)s+=n[a]*Math.pow(10,n.length-a-1);return s}static getType(n){if(ParserUtils.isBuffer(n))return MessageDataTypes.BUFFER;const s=typeof n;return s==="string"?MessageDataTypes.STRING:s==="number"?MessageDataTypes.NUMBER:MessageDataTypes.OBJECT}static isBuffer(n){return IS_NODE&&Buffer.isBuffer(n)||n instanceof ArrayBuffer||n instanceof Uint8Array||this._isBufferView(n)}static _isBufferView(n){return typeof ArrayBuffer.isView=="function"?ArrayBuffer.isView(n):n.buffer instanceof ArrayBuffer}}class PackageDataMessage extends Message{data;data1;static create(n,s){throw new TypeError("Must be implemented in a child class!")}}class NumberBytesPacketDataMessage extends PackageDataMessage{data;data1;static TYPE=ParserUtils.getPacketType(MessageDataTypes.NUMBER,MessageDataTypes.BUFFER);static DESCRIPTOR_NAME="NumberBytesPacketDataMessage";static DESCRIPTOR={fields:{data:{type:"uint32",id:1},data1:{type:"bytes",id:2}}};constructor(n,s){super(),this.data=n,this.data1=s}toJSON(){return{data:this.data,data1:this.data1}}static fromJSON(n){return new NumberBytesPacketDataMessage(n.data,n.data1)}static create(n,s){return new NumberBytesPacketDataMessage(n,s)}}class StringBytesPacketDataMessage extends PackageDataMessage{data;data1;static TYPE=ParserUtils.getPacketType(MessageDataTypes.STRING,MessageDataTypes.BUFFER);static DESCRIPTOR_NAME="StringBytesPacketDataMessage";static DESCRIPTOR={fields:{data:{type:"string",id:1},data1:{type:"bytes",id:2}}};constructor(n,s){super(),this.data=n,this.data1=s}toJSON(){return{data:this.data,data1:this.data1}}static fromJSON(n){return new StringBytesPacketDataMessage(n.data,n.data1)}static create(n,s){return new StringBytesPacketDataMessage(n,s)}}class BytesBytesPacketDataMessage extends PackageDataMessage{data;data1;static TYPE=ParserUtils.getPacketType(MessageDataTypes.BUFFER,MessageDataTypes.BUFFER);static DESCRIPTOR_NAME="BytesBytesPacketDataMessage";static DESCRIPTOR={fields:{data:{type:"bytes",id:1},data1:{type:"bytes",id:2}}};constructor(n,s){super(),this.data=n,this.data1=s}toJSON(){return{data:this.data,data1:this.data1}}static fromJSON(n){return new BytesBytesPacketDataMessage(n.data,n.data1)}static create(n,s){return new BytesBytesPacketDataMessage(n,s)}}class StringObjectPacketDataMessage extends PackageDataMessage{data;data1;static TYPE=ParserUtils.getPacketType(MessageDataTypes.STRING,MessageDataTypes.OBJECT);static DESCRIPTOR_NAME="StringObjectPacketDataMessage";static DESCRIPTOR={fields:{data:{type:"string",id:1},data1:{type:"string",id:2}}};constructor(n,s){super(),this.data=n,this.data1=s}toJSON(){return{data:this.data,data1:this.data1?JSON.stringify(this.data1):void 0}}static fromJSON(n){return new StringObjectPacketDataMessage(n.data,n.data1&&JSON.parse(n.data1))}static create(n,s){return new StringObjectPacketDataMessage(n,s)}}class NumberObjectPacketDataMessage extends PackageDataMessage{data;data1;static TYPE=ParserUtils.getPacketType(MessageDataTypes.NUMBER,MessageDataTypes.OBJECT);static DESCRIPTOR_NAME="NumberObjectPacketDataMessage";static DESCRIPTOR={fields:{data:{type:"uint32",id:1},data1:{type:"string",id:2}}};constructor(n,s){super(),this.data=n,this.data1=s}toJSON(){return{data:this.data,data1:this.data1?JSON.stringify(this.data1):void 0}}static fromJSON(n){return new NumberObjectPacketDataMessage(n.data,n.data1&&JSON.parse(n.data1))}static create(n,s){return new NumberObjectPacketDataMessage(n,s)}}class ObjectObjectPacketDataMessage extends PackageDataMessage{data;data1;static TYPE=ParserUtils.getPacketType(MessageDataTypes.OBJECT,MessageDataTypes.OBJECT);static DESCRIPTOR_NAME="ObjectObjectPacketDataMessage";static DESCRIPTOR={fields:{data:{type:"string",id:1},data1:{type:"string",id:2}}};constructor(n,s){super(),this.data=n,this.data1=s}toJSON(){return{data:this.data?JSON.stringify(this.data):void 0,data1:this.data1?JSON.stringify(this.data1):void 0}}static fromJSON(n){return new ObjectObjectPacketDataMessage(n.data&&JSON.parse(n.data),n.data1&&JSON.parse(n.data1))}static create(n,s){return new ObjectObjectPacketDataMessage(n,s)}}class ObjectBufferPacketDataMessage extends PackageDataMessage{data;data1;static TYPE=ParserUtils.getPacketType(MessageDataTypes.OBJECT,MessageDataTypes.BUFFER);static DESCRIPTOR_NAME="ObjectBufferPacketDataMessage";static DESCRIPTOR={fields:{data:{type:"string",id:1},data1:{type:"bytes",id:2}}};constructor(n,s){super(),this.data=n,this.data1=s}toJSON(){return{data:this.data?JSON.stringify(this.data):void 0,data1:this.data1}}static fromJSON(n){return new ObjectBufferPacketDataMessage(n.data&&JSON.parse(n.data),n.data1)}static create(n,s){return new ObjectBufferPacketDataMessage(n,s)}}class StringStringPacketDataMessage extends PackageDataMessage{data;data1;static TYPE=ParserUtils.getPacketType(MessageDataTypes.STRING,MessageDataTypes.STRING);static DESCRIPTOR_NAME="StringStringPacketDataMessage";static DESCRIPTOR={fields:{data:{type:"string",id:1},data1:{type:"string",id:2}}};constructor(n,s){super(),this.data=n,this.data1=s}toJSON(){return{data:this.data,data1:this.data1}}static fromJSON(n){return new StringStringPacketDataMessage(n.data,n.data1)}static create(n,s){return new StringStringPacketDataMessage(n,s)}}class StringNumberPacketDataMessage extends PackageDataMessage{data;data1;static TYPE=ParserUtils.getPacketType(MessageDataTypes.STRING,MessageDataTypes.NUMBER);static DESCRIPTOR_NAME="StringNumberPacketDataMessage";static DESCRIPTOR={fields:{data:{type:"string",id:1},data1:{type:"uint32",id:2}}};constructor(n,s){super(),this.data=n,this.data1=s}toJSON(){return{data:this.data,data1:this.data1}}static fromJSON(n){return new StringNumberPacketDataMessage(n.data,n.data1)}static create(n,s){return new StringNumberPacketDataMessage(n,s)}}class NumberNumberPacketDataMessage extends PackageDataMessage{data;data1;static TYPE=ParserUtils.getPacketType(MessageDataTypes.NUMBER,MessageDataTypes.NUMBER);static DESCRIPTOR_NAME="NumberNumberPacketDataMessage";static DESCRIPTOR={fields:{data:{type:"uint32",id:1},data1:{type:"uint32",id:2}}};constructor(n,s){super(),this.data=n,this.data1=s}toJSON(){return{data:this.data,data1:this.data1}}static fromJSON(n){return new NumberNumberPacketDataMessage(n.data,n.data1)}static create(n,s){return new NumberNumberPacketDataMessage(n,s)}}class NumberStringPacketDataMessage extends PackageDataMessage{data;data1;static TYPE=ParserUtils.getPacketType(MessageDataTypes.NUMBER,MessageDataTypes.STRING);static DESCRIPTOR_NAME="NumberStringPacketDataMessage";static DESCRIPTOR={fields:{data:{type:"uint32",id:1},data1:{type:"string",id:2}}};constructor(n,s){super(),this.data=n,this.data1=s}toJSON(){return{data:this.data,data1:this.data1}}static fromJSON(n){return new NumberStringPacketDataMessage(n.data,n.data1)}static create(n,s){return new NumberStringPacketDataMessage(n,s)}}const PACKET_DATA_MESSAGES=[NumberBytesPacketDataMessage,StringBytesPacketDataMessage,BytesBytesPacketDataMessage,StringObjectPacketDataMessage,NumberObjectPacketDataMessage,ObjectObjectPacketDataMessage,ObjectBufferPacketDataMessage,StringStringPacketDataMessage,StringNumberPacketDataMessage,NumberNumberPacketDataMessage,NumberStringPacketDataMessage].reduce((c,n)=>(c[n.TYPE]=n,c),{});class PacketMessage extends Message{type;data;id;nsp;options;static TYPE=10;static DESCRIPTOR_NAME="PacketMessage";static DESCRIPTOR={fields:{type:{type:"uint32",id:1},id:{type:"uint32",id:2},nsp:{type:"string",id:3},data:{type:"bytes",id:4},options:{type:"bytes",id:5}}};constructor(n,s,a,o="/",t){super(),this.type=n,this.data=s,this.id=a,this.nsp=o,this.options=t??new PacketOptionsMessage}get packetData(){return this.data.data===void 0&&this.data.data1===void 0?[]:this.data.data&&this.data.data1===void 0?[this.data.data]:[this.data.data,this.data.data1]}toJSON(){const n=MessagesCompressor.encode(this.options),s=MessagesCompressor.encode(this.data);return{type:this.type+10*this.data.constructor.TYPE,id:this.id,nsp:this.nsp==="/"?void 0:this.nsp,data:s,options:n}}static fromJSON(n){const s=Math.floor(n.type/10);return new PacketMessage(n.type-10*s,MessagesCompressor.decode(n.data,PACKET_DATA_MESSAGES[s]),n.id,n.nsp,n.options?MessagesCompressor.decode(n.options,PacketOptionsMessage):new PacketOptionsMessage)}static create(n,s={}){const a=ParserUtils.getPacketType(ParserUtils.getType(n.data[0]),ParserUtils.getType(n.data[1]??n.data[0]));return new PacketMessage(n.type,PACKET_DATA_MESSAGES[a].create(n.data[0],n.data[1]),n.id,n.nsp,new PacketOptionsMessage(s.flags,s.rooms,s.except))}}class PacketParser{encode(n,s,a,o="/",t={}){if(s.length>2)throw new Error("PacketParser supports only 2 elements in data");const e={type:n,data:s,id:a,nsp:o};return MessagesCompressor.encode(PacketMessage.create(e,t))}decode(n){const s=MessagesCompressor.decode(n,PacketMessage);return{packet:{id:s.id,type:s.type,data:s.packetData,nsp:s.nsp},options:{flags:s.options.flags,rooms:s.options.rooms,except:s.options.except}}}}const ENCODED_TYPES=[PacketType.EVENT,PacketType.ACK,PacketType.BINARY_ACK,PacketType.BINARY_EVENT];class Encoder extends Encoder$1{_packetParser;constructor(n){super(),this._packetParser=n??new PacketParser}encode(n){if(ENCODED_TYPES.includes(n.type))try{return[this._packetParser.encode(n.type,n.data,n.id,n.nsp)]}catch(s){console.error("Can not properly serialize or deserialize messages. Check the original error.",{originalError:{message:s.message}})}return super.encode(n)}}class Decoder extends Decoder$1{_packetParser;constructor(n){super(),this._packetParser=n??new PacketParser}add(n){if(!ParserUtils.isBuffer(n))return super.add(n);let s;try{s=this._packetParser.decode(n).packet}catch{return super.add(n)}super.emitReserved("decoded",s)}}class WebSocketRequest{_context;_deferredPromise=(function(){let n,s;const a=new Promise((o,t)=>{n=o,s=t});return{resolve:n,reject:s,promise:a}})();timeout;constructor(n,s){this._context=n,this.timeout=setTimeout(()=>this.error(new CKEditorCloudServicesError("Request timeout.",this._context)),s)}get promise(){return this._deferredPromise.promise}response(n){this._deferredPromise.resolve(n)}error(n){this._deferredPromise.reject(n)}}class WebSocketGatewayRequestsManager{_context;_requests=new Set;constructor(n){this._context=n}async send(n,s=45e3){const a=this._createRequest(s);try{return n(a),await a.promise}finally{this._finishRequest(a)}}errorAll(n){for(const s of this._requests)s.error(n)}waitForAllRequests(n=45e3){return this._waitForRequests(n)}_createRequest(n){const s=new WebSocketRequest(this._context,n);return this._requests.add(s),s}_finishRequest(n){this._requests.delete(n),clearTimeout(n.timeout)}async _waitForRequests(n=5e3,s=0){return!this._requests.size||s>=n/500?Promise.resolve():(await new Promise(a=>{setTimeout(a,500)}),this._waitForRequests(n,s++))}}const WEB_SOCKET_GATEWAY_STATES={DISCONNECTED:"disconnected",CONNECTING:"connecting",CONNECTED:"connected"};let WebSocketGateway$1=class V extends ObservableMixin(){_requestsManager;_url;_socket;_socketAuth;_channels;_connectionAttempt=0;_token;_options;_connectionProvider;_userFactory;static STATE_DISCONNECTED=WEB_SOCKET_GATEWAY_STATES.DISCONNECTED;static STATE_CONNECTING=WEB_SOCKET_GATEWAY_STATES.CONNECTING;static STATE_CONNECTED=WEB_SOCKET_GATEWAY_STATES.CONNECTED;static _CHANGE_STATE_EVENT_PRIORITY=priorities.get("highest")+999999;constructor(n,s,a,o,t){if(super(),this._token=s,this._options=a??{},this._connectionProvider=o??lookup,this._userFactory=t??User.get,this._requestsManager=new WebSocketGatewayRequestsManager(this),this._channels=new Map,!n)throw new TypeError("Api address must be provided.");if(!this._token)throw new TypeError("Token must be provided.");this._options.requestTimeout||(this._options.requestTimeout=2e4),this._url=_0x4304c(n.replace(/^(?!(?:\w+:)?\/\/)/,"https://")),this.set("state",WEB_SOCKET_GATEWAY_STATES.DISCONNECTED),this.set("socketId",void 0),this.set("me",void 0),this.on("change:state",async(e,r,d)=>{if(this._debugEvent("ws-gw:change:state",d),d!==V.STATE_CONNECTED){if(d===V.STATE_DISCONNECTED)return this._requestsManager.errorAll(new CKEditorCloudServicesError("Not connected.",this))}else try{this.me=await this._userFactory.call(User,this,this._socketAuth?.userId)}catch{}},{priority:V._CHANGE_STATE_EVENT_PRIORITY}),this.on("error",(e,r)=>{this._options.onError?this._options.onError(r):console.error(r)})}get sessionId(){return this.socketId}waitForAllRequests(n){return this._requestsManager.waitForAllRequests(n)}disconnect(){this.state!==WEB_SOCKET_GATEWAY_STATES.DISCONNECTED&&(this._socket?.disconnect(),this._socket=void 0,this.state=WEB_SOCKET_GATEWAY_STATES.DISCONNECTED)}async reconnect(){this._socket||this.state!==WEB_SOCKET_GATEWAY_STATES.DISCONNECTED||(await this._token.refreshToken(),await this._connect())}static async connect(n,s="local.cs.dev:443/ws-v2",a={},o=lookup,t=User.get){const e=new V(s,n,a,o,t);return await e._connect(),e}_sendRequest(n,s,a){if(!n)throw new CKEditorCloudServicesError("`serviceName` must be provided.",this);if(this.state!==V.STATE_CONNECTED)throw new CKEditorCloudServicesError("Not connected.",this);if(!this._socketAuth||!this._socketAuth.isAuthenticated)throw new CKEditorCloudServicesError("Not authenticated.",this);const o=new ArrayBuffer(a.length+2),t=new Uint8Array(o);return t[0]=n,t[1]=parseInt(s),t.set(a,2),this._emit(1,t)}_getChannel(n,s){const a=""+n+s;return!this._channels.has(a)&&this._socket&&this._channels.set(a,new _0x5b0b27(a,this,this._socket)),this._channels.get(a)}_connect(){return new Promise((n,s)=>{const a=this._setupSocket();!this.socketId&&a.io.on("reconnect_error",()=>{this._debugEvent("reconnect_error"),this._reconnectionAttemptError(s)}),a.once("connect",async()=>{this._debugEvent("once-connect");try{await this._onConnect(),n()}catch(o){s(o)}}),a.connect()})}_getPortByProtocol(n){return["http:","ws:"].includes(n)?80:443}_setupSocket(){if(this._socket)return this._socket;const n=this._url.port||this._getPortByProtocol(this._url.protocol),s=(this._url.protocol||"https:")+"//"+this._url.hostname+":"+n,a=this._url.pathname.match(/^\/.*\/ws/)?this._url.pathname.split("/ws")[0]:"",o=this._connectionProvider(s,{parser:{Encoder,Decoder},path:a+"/ws-v2/ws",transports:["websocket"],timeout:this._options.timeout!==void 0?this._options.timeout:5e3,reconnection:this._options.autoReconnect===void 0||this._options.autoReconnect,reconnectionDelay:1e3,reconnectionDelayMax:5e3,rejectUnauthorized:this._options.rejectUnauthorized===void 0||this._options.rejectUnauthorized,query:{version:_0x536af9},agent:this._options.agent??!1,closeOnBeforeunload:!1});return this.state=WEB_SOCKET_GATEWAY_STATES.CONNECTING,o.on("connect",()=>{this._debugEvent("connect"),this.socketId=o.id}),o.on("connect_error",t=>{this._debugEvent("connect_error",t)}),o.on("disconnect",()=>{this._debugEvent("disconnect"),this._onDisconnect()}),o.io.on("reconnect",async()=>{this._debugEvent("reconnect"),await this._onReconnect()}),o.io.on("reconnect_attempt",t=>{this._debugEvent("reconnect_attempt",t),this.state=WEB_SOCKET_GATEWAY_STATES.CONNECTING,this._connectionAttempt=t}),o.on("unauthorized",t=>{this._debugEvent("unauthorized"),this._onUnauthorized(t)}),o.on("authenticationRequest",async t=>{this._debugEvent("authenticationRequest",t.attempt),await this._onReconnect()}),this._socket=o,o}_emit(n,s){const a=this._socket;return this._requestsManager.send(o=>{a.emit(n,s,(t,e)=>{if(t)return o.error(CKEditorCloudServicesServerError.fromPublicError(t));o.response(e)})},this._options.requestTimeout)}_addAuthData(n,s){this._socketAuth={environmentId:n,userId:s,isAuthenticated:!0}}_removeAuthData(){this._socketAuth=void 0}async _onConnect(){await this._authenticate(this._token.value),this.state=WEB_SOCKET_GATEWAY_STATES.CONNECTED;const n=async(s,a,o)=>{this._debugEvent("token:value:change");try{await this._authenticate(o)}catch{}};this._token.on("change:value",n),this._socket.io.off("reconnect_error"),this.on("disconnect",()=>{this._token.off("change:value",n)})}async _onReconnect(){await this._token.refreshToken(),await this._onConnect()}_onDisconnect(){this.state=WEB_SOCKET_GATEWAY_STATES.DISCONNECTED,this._connectionAttempt=0,this.fire("disconnect");for(const n of this._channels.values())n.remove();this._channels.clear(),this._options.autoReconnect===void 0||this._options.autoReconnect||(this._socket=void 0)}_debugEvent(n,s){if(!this._isDebugModeEnabled())return;const a=s!==void 0?", data: "+s:"";console.info(new Date().toLocaleString()+" "+n+a)}_reconnectionAttemptError(n){this._connectionAttempt>=2&&(this.disconnect(),n(CKEditorCloudServicesError.fromPublicError({message:"The number of initial connection attempts exceeded.",explanation:"Three initial connection attempts failed. It can be caused by a slow, unstable, missing or blocked Internet connection.",action:"Please verify the stability of your Internet connection and ensure that no antivirus or firewall software blocks the Web Socket protocol connections."})))}_onUnauthorized({error:n}){this._removeAuthData(),this.fire("error",CKEditorCloudServicesServerError.fromPublicError(n))}async _authenticate(n){try{this._debugEvent("authenticate:start");const s=await this._emit(2,{token:n});this._debugEvent("authenticate:success","envId: "+s.environmentId+", userId: "+s.userId),this._addAuthData(s.environmentId,s.userId)}catch(s){throw this._debugEvent("authenticate:error",s.message),this._removeAuthData(),s}}_isDebugModeEnabled(){return global$1.window.localStorage?(global$1.window.localStorage.getItem("csClientDebugMode")??"false").toLowerCase()==="true":!1}};class IsEditorBundleUploadedMessage extends Message{bundleVersion;static TYPE="131";static READABLE_TYPE_NAME="isEditorBundleUploaded";static DESCRIPTOR_NAME="IsEditorBundleUploadedMessage";static DESCRIPTOR={fields:{bundleVersion:{type:"string",id:1}}};constructor(n){super(),this.bundleVersion=n}toJSON(){return{bundleVersion:this.bundleVersion}}static fromJSON(n){return new IsEditorBundleUploadedMessage(n.bundleVersion)}}class IsEditorBundleUploadedResponse extends Message{isUploaded;static DESCRIPTOR_NAME="IsEditorBundleUploadedResponse";static DESCRIPTOR={fields:{isUploaded:{type:"bool",id:1}}};constructor(n){super(),this.isUploaded=n}toJSON(){return{isUploaded:this.isUploaded}}static fromJSON(n){return new IsEditorBundleUploadedResponse(n.isUploaded)}}class EditorService extends EmitterMixin(){static _SERVICE=13;static async isBundleUploaded(n,s){const a=new IsEditorBundleUploadedMessage(s);if(n.state!==WEB_SOCKET_GATEWAY_STATES.CONNECTED)throw new CKEditorCloudServicesError("WebSocket Gateway is not connected.",n);const o=await n._sendRequest(EditorService._SERVICE,IsEditorBundleUploadedMessage.TYPE,MessagesCompressor.encode(a));return MessagesCompressor.decode(o,IsEditorBundleUploadedResponse).isUploaded}}class RevisionHistoryGetRevisionMessage extends Message{documentId;revisionId;static TYPE="123";static READABLE_TYPE_NAME="getRevision";static DESCRIPTOR_NAME="RevisionHistoryGetRevisionMessage";static DESCRIPTOR={fields:{documentId:{type:"string",id:1},revisionId:{type:"string",id:2}}};constructor(n,s){super(),this.documentId=n,this.revisionId=s}toJSON(){return{documentId:this.documentId,revisionId:this.revisionId}}static fromJSON(n){return new RevisionHistoryGetRevisionMessage(n.documentId,n.revisionId)}}class RevisionDescriptor extends Descriptor{static DESCRIPTOR_NAME="RevisionDescriptor";static DESCRIPTOR={fields:{revisionId:{type:"string",id:1},name:{type:"string",id:2},creatorId:{type:"string",id:3},authorsIds:{type:"string",id:4},diffData:{type:"string",id:5},createdAt:{type:"string",id:6},attributes:{type:"string",id:7},toVersion:{type:"uint32",id:8},fromVersion:{type:"uint32",id:9},isEmptyCurrent:{type:"bool",id:10}}};static create(n){return{revisionId:n.id,name:n.name,creatorId:n.creatorId,createdAt:n.createdAt,fromVersion:n.fromVersion,toVersion:n.toVersion,isEmptyCurrent:n.isEmptyCurrent,diffData:n.diffData?JSON.stringify(n.diffData):void 0,attributes:n.attributes,authorsIds:n.authorsIds}}static toJSON(n){return{revisionId:n.revisionId,name:n.name,creatorId:n.creatorId,authorsIds:n.authorsIds?JSON.stringify(n.authorsIds):void 0,diffData:n.diffData,createdAt:n.createdAt?.toISOString(),attributes:n.attributes?JSON.stringify(n.attributes):void 0,toVersion:n.toVersion,fromVersion:n.fromVersion,isEmptyCurrent:n.isEmptyCurrent}}static fromJSON(n){return{revisionId:(n={...n}).revisionId,name:n.name,creatorId:n.creatorId,authorsIds:n.authorsIds?JSON.parse(n.authorsIds):void 0,diffData:n.diffData,createdAt:n.createdAt?new Date(n.createdAt):void 0,attributes:n.attributes?JSON.parse(n.attributes):void 0,toVersion:n.toVersion,fromVersion:n.fromVersion,isEmptyCurrent:n.isEmptyCurrent}}static toObject(n){return(function(s){for(const[a,o]of Object.entries(s))o===void 0&&delete s[a];return s})({id:n.revisionId,name:n.name,creatorId:n.creatorId,createdAt:n.createdAt,fromVersion:n.fromVersion,toVersion:n.toVersion,isEmptyCurrent:n.isEmptyCurrent,diffData:n.diffData?JSON.parse(n.diffData):void 0,attributes:n.attributes,authorsIds:n.authorsIds})}}class RevisionHistoryGetRevisionResponse extends Message{revisionId;name;creatorId;authorsIds;createdAt;diffData;attributes;fromVersion;toVersion;isEmptyCurrent;static DESCRIPTOR_NAME="RevisionHistoryGetRevisionResponse";static DESCRIPTOR=RevisionDescriptor.DESCRIPTOR;constructor(n,s,a,o,t,e,r,d,u,l){super(),this.revisionId=n,this.name=s,this.creatorId=a,this.authorsIds=o,this.createdAt=t,this.diffData=e,this.attributes=r,this.fromVersion=d,this.toVersion=u,this.isEmptyCurrent=l}toJSON(){return RevisionDescriptor.toJSON(this)}toObject(){return RevisionDescriptor.toObject(this)}static create(n){return new RevisionHistoryGetRevisionResponse(n.revisionId,n.name,n.creatorId,n.authorsIds,n.createdAt,n.diffData,n.attributes,n.fromVersion,n.toVersion,n.isEmptyCurrent)}static fromJSON(n){return new RevisionHistoryGetRevisionResponse(n.revisionId,n.name,n.creatorId,n.authorsIds?JSON.parse(n.authorsIds):void 0,n.createdAt?new Date(n.createdAt):void 0,n.diffData,n.attributes?JSON.parse(n.attributes):void 0,n.fromVersion,n.toVersion,n.isEmptyCurrent)}}class RevisionHistoryUpdateRevisionsMessage extends Message{documentId;requestId;revisions;static TYPE="124";static READABLE_TYPE_NAME="updateRevisions";static DESCRIPTOR_NAME="RevisionHistoryUpdateRevisionsMessage";static DESCRIPTOR={fields:{documentId:{type:"string",id:1},requestId:{type:"uint32",id:2},revisions:{type:"RevisionDescriptor",id:3,rule:"repeated"}}};constructor(n,s,a){super(),this.documentId=n,this.requestId=s,this.revisions=a}toJSON(){return{documentId:this.documentId,requestId:this.requestId,revisions:this.revisions.map(RevisionDescriptor.toJSON)}}toObject(){return{documentId:this.documentId,requestId:this.requestId,revisions:this.revisions.map(RevisionDescriptor.toObject)}}static create(n){return new RevisionHistoryUpdateRevisionsMessage(n.documentId,n.requestId,n.revisions.map(RevisionDescriptor.create))}static fromJSON(n){return new RevisionHistoryUpdateRevisionsMessage(n.documentId,n.requestId,n.revisions.map(RevisionDescriptor.fromJSON))}}class RevisionHistoryUpdateRevisionsResponse extends Message{requestId;static DESCRIPTOR_NAME="RevisionHistoryUpdateRevisionsResponse";static DESCRIPTOR={fields:{requestId:{type:"uint32",id:1}}};constructor(n){super(),this.requestId=n}toJSON(){return{requestId:this.requestId}}static fromJSON(n){return new RevisionHistoryUpdateRevisionsResponse(n.requestId)}}class RevisionHistoryConnectMessage extends Message{documentId;static TYPE="121";static READABLE_TYPE_NAME="connectToRevisionHistory";static DESCRIPTOR_NAME="RevisionHistoryConnectMessage";static DESCRIPTOR={fields:{documentId:{type:"string",id:1}}};constructor(n){super(),this.documentId=n}toJSON(){return{documentId:this.documentId}}static fromJSON(n){return new RevisionHistoryConnectMessage(n.documentId)}}class RevisionHistoryConnectResponse extends Message{channel;requestId;revisions;static DESCRIPTOR_NAME="RevisionHistoryConnectResponse";static DESCRIPTOR={fields:{channel:{type:"string",id:1},requestId:{type:"uint32",id:2},revisions:{type:"RevisionDescriptor",id:3,rule:"repeated"}}};constructor(n,s,a){super(),this.channel=n,this.requestId=s,this.revisions=a}toJSON(){return{channel:this.channel,requestId:this.requestId,revisions:this.revisions.map(RevisionDescriptor.toJSON)}}toObject(){return{channel:this.channel,requestId:this.requestId,revisions:this.revisions.map(RevisionDescriptor.toObject)}}static fromJSON(n){return new RevisionHistoryConnectResponse(n.channel,n.requestId,n.revisions.map(RevisionDescriptor.fromJSON))}}class RevisionHistoryReconnectMessage extends Message{documentId;requestId;static TYPE="122";static READABLE_TYPE_NAME="reconnectToRevisionHistory";static DESCRIPTOR_NAME="RevisionHistoryReconnectMessage";static DESCRIPTOR={fields:{documentId:{type:"string",id:1},requestId:{type:"uint32",id:2}}};constructor(n,s){super(),this.documentId=n,this.requestId=s}toJSON(){return{documentId:this.documentId,requestId:this.requestId}}static fromJSON(n){return new RevisionHistoryReconnectMessage(n.documentId,n.requestId)}}class ServiceNotConnectedError extends CKEditorCloudServicesError{constructor(n,s){super(n+" Service is not connected.",s)}}class RevisionHistoryService extends EmitterMixin(){_documentId;_isConnected=!1;_wsGateway;_channel;static _SERVICE=12;constructor(n){super(),this._documentId=n}get isConnected(){return this._isConnected}connect(n){return this._isConnected?Promise.resolve():this._connect(n,new RevisionHistoryConnectMessage(this._documentId))}disconnect(){this._isConnected&&(this._isConnected=!1,this._wsGateway&&(this.stopListening(this._wsGateway),this._wsGateway=void 0),this._channel&&(this.stopListening(this._channel),this._channel=void 0),this.fire("disconnected"),this.stopListening())}reconnect(n,s){if(this.isConnected)throw new CKEditorCloudServicesError("Cannot reconnect to already connected service.",n);return this._connect(n,new RevisionHistoryReconnectMessage(this._documentId,s))}async updateRevisions(n,s){const a=RevisionHistoryUpdateRevisionsMessage.create({documentId:this._documentId,requestId:s,revisions:n}),o=await this._sendRequest(RevisionHistoryUpdateRevisionsMessage.TYPE,a),{requestId:t}=MessagesCompressor.decode(o,RevisionHistoryUpdateRevisionsResponse);return t}async getRevision(n){const s=new RevisionHistoryGetRevisionMessage(this._documentId,n),a=await this._sendRequest(RevisionHistoryGetRevisionMessage.TYPE,s);return MessagesCompressor.decode(a,RevisionHistoryGetRevisionResponse).toObject()}async _connect(n,s){if(n.state!==WEB_SOCKET_GATEWAY_STATES.CONNECTED)throw new CKEditorCloudServicesError("WebSocket Gateway is not connected.",n);this._wsGateway=n,this.stopListening(n,"change:state");const a=await n._sendRequest(12,s.constructor.TYPE,MessagesCompressor.encode(s)),{channel:o,requestId:t,revisions:e}=MessagesCompressor.decode(a,RevisionHistoryConnectResponse).toObject();return this.listenTo(n,"change:state",(r,d,u)=>this._onWsGatewayStateChange(u),{priority:WebSocketGateway$1._CHANGE_STATE_EVENT_PRIORITY}),this._connectToChannel(n,o),this._isConnected=!0,this.fire("connected"),{revisions:e,requestId:t}}_connectToChannel(n,s){this._channel=n._getChannel(RevisionHistoryService._SERVICE,s),this._channel&&this.listenTo(this._channel,this._channel.getEventName(RevisionHistoryUpdateRevisionsMessage.TYPE),(a,o)=>{const{documentId:t,requestId:e,revisions:r}=MessagesCompressor.decode(o,RevisionHistoryUpdateRevisionsMessage).toObject();this.fire("revisionsUpdated",{documentId:t,requestId:e,revisionsData:r})})}_onWsGatewayStateChange(n){n===WEB_SOCKET_GATEWAY_STATES.DISCONNECTED&&this.disconnect()}_sendRequest(n,s){if(!this._wsGateway||!this._isConnected)throw new ServiceNotConnectedError("Revision History",this);return this._wsGateway._sendRequest(12,n,MessagesCompressor.encode(s))}}class AddSuggestionMessage extends Message{id;documentId;type;data;originalSuggestionId;attributes;static TYPE="101";static READABLE_TYPE_NAME="addSuggestion";static DESCRIPTOR_NAME="TrackChangesAddSuggestionMessage";static DESCRIPTOR={fields:{id:{type:"string",id:1},documentId:{type:"string",id:2},type:{type:"string",id:3},data:{type:"string",id:4},originalSuggestionId:{type:"string",id:5},attributes:{type:"string",id:6}}};constructor(n,s,a,o={},t=null,e=null){super(),this.id=n,this.documentId=s,this.type=a,this.data=o,this.originalSuggestionId=t,this.attributes=e}toJSON(){return{id:this.id,documentId:this.documentId,type:this.type,data:JSON.stringify(this.data),originalSuggestionId:this.originalSuggestionId,attributes:JSON.stringify(this.attributes)}}static fromJSON(n){return new AddSuggestionMessage(n.id,n.documentId,n.type,JSON.parse(n.data),n.originalSuggestionId??null,n.attributes?JSON.parse(n.attributes):null)}}class AddSuggestionResponse extends Message{id;authorId;type;hasComments;state;data;attributes;createdAt;static DESCRIPTOR_NAME="TrackChangesAddSuggestionResponse";static DESCRIPTOR={fields:{id:{type:"string",id:1},authorId:{type:"string",id:2},type:{type:"string",id:3},createdAt:{type:"string",id:4},data:{type:"string",id:5},hasComments:{type:"bool",id:6},state:{type:"string",id:7},attributes:{type:"string",id:8}}};constructor(n,s,a,o,t,e,r={},d=null){super(),this.id=n,this.authorId=s,this.type=a,this.hasComments=t,this.state=e,this.data=r,this.attributes=d,this.createdAt=o?new Date(o):void 0}toJSON(){return{id:this.id,authorId:this.authorId,type:this.type,createdAt:this.createdAt?.toISOString(),data:JSON.stringify(this.data),hasComments:this.hasComments,state:this.state,attributes:JSON.stringify(this.attributes)}}static fromJSON(n){return new AddSuggestionResponse(n.id,n.authorId,n.type,n.createdAt,n.hasComments,n.state,JSON.parse(n.data),n.attributes?JSON.parse(n.attributes):null)}}class GetSuggestionMessage extends Message{id;documentId;static TYPE="103";static READABLE_TYPE_NAME="getSuggestion";static DESCRIPTOR_NAME="TrackChangesGetSuggestionMessage";static DESCRIPTOR={fields:{id:{type:"string",id:1},documentId:{type:"string",id:2}}};constructor(n,s){super(),this.id=n,this.documentId=s}toJSON(){return{id:this.id,documentId:this.documentId}}static fromJSON(n){return new GetSuggestionMessage(n.id,n.documentId)}}class GetSuggestionResponse extends Message{id;authorId;type;hasComments;state;data;attributes;createdAt;static DESCRIPTOR_NAME="TrackChangesGetSuggestionResponse";static DESCRIPTOR={fields:{id:{type:"string",id:1},authorId:{type:"string",id:2},type:{type:"string",id:3},createdAt:{type:"string",id:4},data:{type:"string",id:5},hasComments:{type:"bool",id:6},state:{type:"string",id:7},attributes:{type:"string",id:8}}};constructor(n,s,a,o,t,e,r={},d=null){super(),this.id=n,this.authorId=s,this.type=a,this.hasComments=t,this.state=e,this.data=r,this.attributes=d,this.createdAt=new Date(o)}toJSON(){return{id:this.id,authorId:this.authorId,type:this.type,createdAt:this.createdAt.toISOString(),data:JSON.stringify(this.data),hasComments:this.hasComments,state:this.state,attributes:JSON.stringify(this.attributes)}}static fromJSON(n){return new GetSuggestionResponse(n.id,n.authorId,n.type,n.createdAt,n.hasComments,n.state,JSON.parse(n.data),n.attributes?JSON.parse(n.attributes):null)}}class GetAllSuggestionsMessage extends Message{documentId;static TYPE="102";static READABLE_TYPE_NAME="getAllSuggestions";static DESCRIPTOR_NAME="TrackChangesGetAllSuggestionMessage";static DESCRIPTOR={fields:{documentId:{type:"string",id:1}}};constructor(n){super(),this.documentId=n}toJSON(){return{documentId:this.documentId}}static fromJSON(n){return new GetAllSuggestionsMessage(n.documentId)}}class SuggestionDescriptor extends Descriptor{static DESCRIPTOR_NAME="SuggestionDescriptor";static DESCRIPTOR={fields:{id:{id:1,type:"string"},authorId:{id:2,type:"string"},type:{id:3,type:"string"},createdAt:{id:4,type:"string"},data:{id:5,type:"string"},hasComments:{id:6,type:"bool"},state:{id:7,type:"string"},attributes:{id:8,type:"string"}}};static toJSON(n){return{...n,data:n.data?JSON.stringify(n.data):n.data,attributes:n.attributes?JSON.stringify(n.attributes):n.attributes,createdAt:n.createdAt?.toISOString()}}static fromJSON(n){return{...n,data:n.data?JSON.parse(n.data):n.data,attributes:n.attributes?JSON.parse(n.attributes):n.attributes,createdAt:n.createdAt?new Date(n.createdAt):void 0}}}class GetAllSuggestionResponse extends Message{_suggestions;_suggestionsV2;suggestions;static DESCRIPTOR_NAME="TrackChangesGetAllSuggestionsResponse";static DESCRIPTOR={fields:{suggestions:{type:"string",rule:"repeated",id:1},suggestionsV2:{type:"SuggestionDescriptor",rule:"repeated",id:2}}};constructor(n,s){super(),this._suggestions=n,this._suggestionsV2=s,this.suggestions=s?.length?s:n}toJSON(){return{suggestions:this._suggestions?.map(n=>JSON.stringify(n)),suggestionsV2:this._suggestionsV2?.map(SuggestionDescriptor.toJSON)}}static fromJSON(n){return new GetAllSuggestionResponse(n.suggestions?.map(_suggestionFromString),n.suggestionsV2?.map(SuggestionDescriptor.fromJSON))}}function _suggestionFromString(c){const n=JSON.parse(c);return n.createdAt=n.createdAt?new Date(n.createdAt):void 0,n}class UpdateSuggestionMessage extends Message{id;documentId;hasComments;isHasCommentsModified;state;attributes;static TYPE="104";static READABLE_TYPE_NAME="updateSuggestion";static DESCRIPTOR_NAME="TrackChangesUpdateSuggestionMessage";static DESCRIPTOR={fields:{id:{type:"string",id:1},documentId:{type:"string",id:2},hasComments:{type:"bool",id:3},isHasCommentsModified:{type:"bool",id:4},state:{type:"string",id:5},attributes:{type:"string",id:6}}};constructor(n,s,a,o,t,e=null){super(),this.id=n,this.documentId=s,this.hasComments=a,this.isHasCommentsModified=o,this.state=t,this.attributes=e}toJSON(){return{id:this.id,documentId:this.documentId,hasComments:this.hasComments,isHasCommentsModified:this.isHasCommentsModified,state:this.state,attributes:JSON.stringify(this.attributes)}}static fromJSON(n){return new UpdateSuggestionMessage(n.id,n.documentId,n.hasComments,n.isHasCommentsModified,n.state,n.attributes?JSON.parse(n.attributes):null)}}let ConnectMessage$1=class J extends Message{documentId;static TYPE="105";static READABLE_TYPE_NAME="connectToSuggestions";static DESCRIPTOR_NAME="TrackChangesConnectMessage";static DESCRIPTOR={fields:{documentId:{type:"string",id:1}}};constructor(n){super(),this.documentId=n}toJSON(){return{documentId:this.documentId}}static fromJSON(n){return new J(n.documentId)}},ConnectResponse$1=class G extends Message{channel;_suggestions;_suggestionsV2;suggestions;static DESCRIPTOR_NAME="TrackChangesConnectResponse";static DESCRIPTOR={fields:{channel:{type:"string",id:1},suggestions:{type:"string",rule:"repeated",id:2},suggestionsV2:{type:"SuggestionDescriptor",rule:"repeated",id:3}}};constructor(n,s,a){super(),this.channel=n,this._suggestions=s,this._suggestionsV2=a,this.suggestions=a?.length?a:s}toJSON(){return{channel:this.channel,suggestions:this._suggestions?.map(n=>JSON.stringify(n)),suggestionsV2:this._suggestionsV2?.map(SuggestionDescriptor.toJSON)}}static fromJSON(n){return new G(n.channel,n.suggestions?.map(s=>JSON.parse(s)),n.suggestionsV2?.map(SuggestionDescriptor.fromJSON))}};class BatchUpdateSuggestionsStateMessage extends Message{ids;documentId;state;static TYPE="106";static READABLE_TYPE_NAME="batchUpdateSuggestionsState";static DESCRIPTOR_NAME="TrackChangesBatchUpdateSuggestionsStateMessage";static DESCRIPTOR={fields:{ids:{type:"string",rule:"repeated",id:1},documentId:{type:"string",id:2},state:{type:"string",id:3}}};constructor(n,s,a){super(),this.ids=n,this.documentId=s,this.state=a}toJSON(){return{ids:this.ids,documentId:this.documentId,state:this.state}}static fromJSON(n){return new BatchUpdateSuggestionsStateMessage(n.ids,n.documentId,n.state)}}class TrackChangesService extends EmitterMixin(){_documentId;_isConnected=!1;_wsGateway;_channel;static _SERVICE=10;constructor(n){super(),this._documentId=n}get isConnected(){return this._isConnected}async connect(n){if(this._isConnected)return;if(n.state!==WEB_SOCKET_GATEWAY_STATES.CONNECTED)throw new CKEditorCloudServicesError("WebSocket Gateway is not connected.",n);const s=new ConnectMessage$1(this._documentId);this._wsGateway=n,this.stopListening(n,"change:state");const a=await n._sendRequest(10,ConnectMessage$1.TYPE,MessagesCompressor.encode(s)),o=MessagesCompressor.decode(a,ConnectResponse$1);return this.listenTo(n,"change:state",(t,e,r)=>this._onWsGatewayStateChange(r),{priority:WebSocketGateway$1._CHANGE_STATE_EVENT_PRIORITY}),this._connectToChannel(n,o.channel),this._isConnected=!0,this.fire("connected"),o.suggestions}disconnect(){this._isConnected&&(this._isConnected=!1,this._wsGateway&&(this.stopListening(this._wsGateway),this._wsGateway=void 0),this._channel&&(this.stopListening(this._channel),this._channel=void 0),this.fire("disconnected"),this.stopListening())}async add(n,s,a,o=null,t){const e=new AddSuggestionMessage(n,this._documentId,s,a,o,t),r=await this._sendRequest(AddSuggestionMessage.TYPE,e);return MessagesCompressor.decode(r,AddSuggestionResponse)}async get(n,s=1){const a=new GetSuggestionMessage(n,this._documentId);try{const t=await this._sendRequest(GetSuggestionMessage.TYPE,a);return MessagesCompressor.decode(t,GetSuggestionResponse)}catch(t){if(t.name==="CKEditorCloudServicesServerError"&&t.code==="404"&&s<5)return await(o=100*s,new Promise(e=>{setTimeout(e,o)})),this.get(n,s+1);throw t.name==="CKEditorCloudServicesServerError"?t:CKEditorCloudServicesServerError.fromPublicError(t)}var o}async getAll(){const n=new GetAllSuggestionsMessage(this._documentId),s=await this._sendRequest(GetAllSuggestionsMessage.TYPE,n),{suggestions:a}=MessagesCompressor.decode(s,GetAllSuggestionResponse);return a}async update(n,s={}){const{hasComments:a,state:o,attributes:t}=s,e=a!==void 0,r=new UpdateSuggestionMessage(n,this._documentId,a,e,o,t);await this._sendRequest(UpdateSuggestionMessage.TYPE,r)}async batchUpdateState(n){const s=new BatchUpdateSuggestionsStateMessage(n.ids,this._documentId,n.state);await this._sendRequest(BatchUpdateSuggestionsStateMessage.TYPE,s)}_connectToChannel(n,s){this._channel=n._getChannel(TrackChangesService._SERVICE,s),this._channel&&this.listenTo(this._channel,this._channel.getEventName(UpdateSuggestionMessage.TYPE),(a,o)=>{const t=MessagesCompressor.decode(o,UpdateSuggestionMessage);this.fire("suggestionUpdated",t)})}_onWsGatewayStateChange(n){n===WEB_SOCKET_GATEWAY_STATES.DISCONNECTED&&this.disconnect()}_sendRequest(n,s){if(!this._wsGateway||!this._isConnected)throw new ServiceNotConnectedError("Track Changes",this);return this._wsGateway._sendRequest(10,n,MessagesCompressor.encode(s))}}let getRandomValues;const rnds8=new Uint8Array(16);function rng(){if(!getRandomValues&&(getRandomValues=typeof crypto<"u"&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto),!getRandomValues))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return getRandomValues(rnds8)}const byteToHex=[];for(let c=0;c<256;++c)byteToHex.push((c+256).toString(16).slice(1));function unsafeStringify(c,n=0){return byteToHex[c[n+0]]+byteToHex[c[n+1]]+byteToHex[c[n+2]]+byteToHex[c[n+3]]+"-"+byteToHex[c[n+4]]+byteToHex[c[n+5]]+"-"+byteToHex[c[n+6]]+byteToHex[c[n+7]]+"-"+byteToHex[c[n+8]]+byteToHex[c[n+9]]+"-"+byteToHex[c[n+10]]+byteToHex[c[n+11]]+byteToHex[c[n+12]]+byteToHex[c[n+13]]+byteToHex[c[n+14]]+byteToHex[c[n+15]]}const randomUUID=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto);var native={randomUUID};function v4(c,n,s){if(native.randomUUID&&!c)return native.randomUUID();c=c||{};const a=c.random||(c.rng||rng)();return a[6]=a[6]&15|64,a[8]=a[8]&63|128,unsafeStringify(a)}class SessionsConnectResponse extends Message{channel;sockets;static DESCRIPTOR_NAME="SessionsConnectResponse";static DESCRIPTOR={fields:{channel:{type:"string",id:1},sockets:{rule:"repeated",type:"SessionsSocketDescriptor",id:2}}};constructor(n,s=[]){super(),this.channel=n,this.sockets=s}toJSON(){return{channel:this.channel,sockets:this.sockets.map(n=>({user:n.userId,session:n.id,role:n.role,permissions:n.permissions}))}}static fromJSON(n){return new SessionsConnectResponse(n.channel,n.sockets.map(s=>({id:s.session,userId:s.user,role:s.role,permissions:s.permissions})))}}class SessionsConnectMessage extends Message{id;sessionType;static TYPE="31";static READABLE_TYPE_NAME="getConnectedSockets";static DESCRIPTOR_NAME="SessionsConnectMessage";static DESCRIPTOR={fields:{id:{type:"string",id:1},sessionType:{type:"uint32",id:2}}};constructor(n,s){super(),this.id=n,this.sessionType=s}toJSON(){return{id:this.id,sessionType:this.sessionType}}static fromJSON(n){return new SessionsConnectMessage(n.id,n.sessionType)}}class SocketConnectMessage extends Message{id;userId;role;permissions;static TYPE="32";static READABLE_TYPE_NAME="connectSocket";static DESCRIPTOR_NAME="SocketConnectMessage";static DESCRIPTOR={fields:{id:{type:"string",id:1},userId:{type:"string",id:2},role:{type:"string",id:3},permissions:{rule:"repeated",type:"string",id:4}}};constructor(n,s,a,o){super(),this.id=n,this.userId=s,this.role=a,this.permissions=o}toJSON(){return{id:this.id,userId:this.userId??void 0,role:this.role??void 0,permissions:this.permissions??void 0}}static fromJSON(n){return new SocketConnectMessage(n.id,n.userId,n.role,n.permissions)}}class SocketDisconnectMessage extends Message{id;static TYPE="33";static READABLE_TYPE_NAME="disconnectSocket";static DESCRIPTOR_NAME="SocketDisconnectMessage";static DESCRIPTOR={fields:{id:{type:"string",id:1}}};constructor(n){super(),this.id=n}toJSON(){return{id:this.id}}static fromJSON(n){return new SocketDisconnectMessage(n.id)}}class _0xe631fc extends Collection{_id;_sessionType;_handlers=new Map;_channel;_wsGateway;_connected;_eventsQueue=[];_isRunning=!1;constructor(n,s){super({idProperty:"id"}),this._id=n,this._sessionType=s}async connect(n){this._wsGateway=n,this.stopListening(n,"change:state");const s=new SessionsConnectMessage(this._id,this._sessionType);let a;try{const t=await this._wsGateway._sendRequest(3,SessionsConnectMessage.TYPE,MessagesCompressor.encode(s));a=MessagesCompressor.decode(t,SessionsConnectResponse)}catch{a=new SessionsConnectResponse(this._id,[])}this._connectToChannel(this._wsGateway,a.channel,this._sessionType);const o=await(async function(t,e){const r=e.map(u=>u.userId),d=r.length?await User.getMany(t,r):[];return e.map(u=>{const l={id:u.id,role:u.role,permissions:u.permissions};return l.user=u.userId&&d.find(m=>m.id===u.userId)||new User,l})})(this._wsGateway,a.sockets);for(const t of o)super.add(t);this._connected=!0,this.fire("connected"),this.listenTo(this._wsGateway,"change:state",(t,e,r)=>this._onWsGatewayStateChange(r),{priority:WebSocketGateway$1._CHANGE_STATE_EVENT_PRIORITY}),await this._runQueue()}disconnect(n=!0){if(this._connected){for(this._connected=!1,this._eventsQueue=[];this.length;)super.remove(0);this._channel&&(this.stopListening(this._channel),this._channel=void 0),this._wsGateway&&n&&(this.stopListening(this._wsGateway),this._wsGateway=void 0),this.fire("disconnected"),n&&this.stopListening()}}add(n,s){throw new TypeError("The collection is read-only.")}remove(n){throw new TypeError("The collection is read-only.")}_connectToChannel(n,s,a){this._channel=n._getChannel(a,s),this._channel&&(this._addHandler(this._channel,SocketConnectMessage.TYPE,async o=>{const t=MessagesCompressor.decode(o,SocketConnectMessage);if(this.getIndex(t.id)===-1){const e={id:t.id,role:t.role,permissions:t.permissions};t.userId&&(e.user=await User.get(n,t.userId)),super.add(e)}}),this._addHandler(this._channel,SocketDisconnectMessage.TYPE,o=>{const t=MessagesCompressor.decode(o,SocketDisconnectMessage);this.getIndex(t.id)!==-1&&super.remove(t.id)}))}async _onWsGatewayStateChange(n){n===WebSocketGateway$1.STATE_DISCONNECTED&&this.disconnect(!1),n===WebSocketGateway$1.STATE_CONNECTED&&await this.connect(this._wsGateway)}async _runQueue(){if(this._isRunning||!this._connected)return;let n;for(this._isRunning=!0;n=this._eventsQueue.shift();){const s=this._handlers.get(n.eventName);s&&await s(n.data)}this._isRunning=!1}_addHandler(n,s,a){const o=n.getEventName(s,!0);this.listenTo(n,o,async(t,e)=>{const r=t.name;this._eventsQueue.push({eventName:r,data:e}),await this._runQueue()}),this._handlers.set(o,a)}}let Sessions$1=class{static async getConnectedSessions(n,s,a){const o=new _0xe631fc(s,a);return await o.connect(n),o}};class CollaborativeEditingConnectMessage extends Message{id;buffers;types;bundleVersion;lastOperationId;static TYPE="11";static READABLE_TYPE_NAME="connectToDocument";static DESCRIPTOR_NAME="CollaborativeEditingConnectMessage";static DESCRIPTOR={fields:{id:{type:"string",id:1},bundleVersion:{type:"string",id:2},buffers:{rule:"repeated",type:"bytes",id:3},types:{rule:"repeated",type:"uint32",id:4},lastOperationId:{type:"string",id:5}}};constructor(n,s,a,o,t=""){super(),this.id=n,this.buffers=s,this.types=a,this.bundleVersion=o,this.lastOperationId=t}toJSON(){return{id:this.id,buffers:this.buffers,types:this.types,bundleVersion:this.bundleVersion,lastOperationId:this.lastOperationId}}static fromJSON(n){return new CollaborativeEditingConnectMessage(n.id,n.buffers,n.types,n.bundleVersion,n.lastOperationId)}}class OperationMetadataHelpers{static prepareMetadataForOperations(n,s){if(!n?.length||!s?.length)return[];const a=[];let o=0;for(const t of n)if(t!==0){if(!s[o])throw new Error("Missing metadata for a operation");a.push(s[o]),o++}else a.push(a[a.length-1]);return a}static removeUnnecessaryMetadata(n,s){if(!n?.length||!s?.length)return[];const a=[];for(let o=0;o<n.length;o++)if(n[o]!==0){if(!s[o])throw new Error("Missing metadata for a operation");a.push(s[o])}return a}}class OperationMetadataDescriptor extends Descriptor{static DESCRIPTOR_NAME="OperationMetadataDescriptor";static DESCRIPTOR={fields:{userId:{type:"string",id:1},type:{type:"string",id:2},createdAt:{type:"string",id:3}}};static toJSON({createdAt:n,...s}){const a={...s};return n?.toISOString&&(a.createdAt=n.toISOString()),a}static fromJSON({createdAt:n,...s}){const a={...s};return n&&(a.createdAt=new Date(n)),a}}class CollaborativeEditingUpdateMessage extends Message{id;buffers;types;baseVersion;metadata;lastOperationId;static TYPE="13";static READABLE_TYPE_NAME="updateDocument";static DESCRIPTOR_NAME="CollaborativeEditingUpdateMessage";static DESCRIPTOR={fields:{id:{type:"string",id:1},baseVersion:{type:"uint32",id:2},buffers:{rule:"repeated",type:"bytes",id:3},types:{rule:"repeated",type:"uint32",id:4},metadata:{rule:"repeated",type:"OperationMetadataDescriptor",id:6},lastOperationId:{type:"string",id:7}}};constructor(n,s,a,o,t=[],e=""){super(),this.id=n,this.buffers=s,this.types=a,this.baseVersion=o,this.metadata=t,this.lastOperationId=e}get data(){return{buffers:this.buffers,types:this.types,baseVersion:this.baseVersion,lastOperationId:this.lastOperationId}}toJSON(){return{id:this.id,buffers:this.buffers,types:this.types,baseVersion:this.baseVersion,metadata:OperationMetadataHelpers.removeUnnecessaryMetadata(this.types,this.metadata).map(OperationMetadataDescriptor.toJSON),lastOperationId:this.lastOperationId}}static fromJSON(n){return new CollaborativeEditingUpdateMessage(n.id,n.buffers,n.types,n.baseVersion,OperationMetadataHelpers.prepareMetadataForOperations(n.types,n.metadata).map(OperationMetadataDescriptor.fromJSON),n.lastOperationId)}}class CollaborativeEditingReconnectMessage extends Message{id;lastKnowVersion;bundleVersion;static TYPE="12";static READABLE_TYPE_NAME="reconnectToDocument";static DESCRIPTOR_NAME="CollaborativeEditingReconnectMessage";static DESCRIPTOR={fields:{id:{type:"string",id:1},bundleVersion:{type:"string",id:2},lastKnowVersion:{type:"uint32",id:3}}};constructor(n,s,a){super(),this.id=n,this.lastKnowVersion=s,this.bundleVersion=a}toJSON(){return{id:this.id,bundleVersion:this.bundleVersion,lastKnowVersion:this.lastKnowVersion}}static fromJSON(n){return new CollaborativeEditingReconnectMessage(n.id,n.lastKnowVersion,n.bundleVersion)}}class CollaborativeEditingResponse extends Message{version;buffers;types;metadata;lastOperationId;lastOperationAcceptedAt;static DESCRIPTOR_NAME="CollaborativeEditingResponse";static DESCRIPTOR={fields:{version:{type:"uint32",id:1},buffers:{rule:"repeated",type:"bytes",id:2},types:{rule:"repeated",type:"uint32",id:3},metadata:{rule:"repeated",type:"OperationMetadataDescriptor",id:5},lastOperationId:{type:"string",id:6},lastOperationAcceptedAt:{type:"string",id:7}}};constructor(n,s=[],a=[],o=[],t="",e=null){super(),this.version=n,this.buffers=s,this.types=a,this.metadata=o,this.lastOperationId=t,this.lastOperationAcceptedAt=e}get data(){return{buffers:this.buffers,types:this.types,baseVersion:this.version-this.types.length,lastOperationId:this.lastOperationId,lastOperationAcceptedAt:this.lastOperationAcceptedAt}}get wereChangesApplied(){return!this.types?.length}toJSON(){return{version:this.version,buffers:this.buffers,types:this.types,metadata:OperationMetadataHelpers.removeUnnecessaryMetadata(this.types,this.metadata).map(OperationMetadataDescriptor.toJSON),lastOperationId:this.lastOperationId,lastOperationAcceptedAt:this.lastOperationAcceptedAt instanceof Date?this.lastOperationAcceptedAt.toISOString():this.lastOperationAcceptedAt}}static fromJSON(n){return new CollaborativeEditingResponse(n.version,n.buffers,n.types,OperationMetadataHelpers.prepareMetadataForOperations(n.types,n.metadata).map(OperationMetadataDescriptor.fromJSON),n.lastOperationId,n.lastOperationAcceptedAt?new Date(n.lastOperationAcceptedAt):null)}static create(n){return new CollaborativeEditingResponse(n.version,n.buffers,n.types,n.metadata,n.lastOperationId,n.lastOperationAcceptedAt?new Date(n.lastOperationAcceptedAt):null)}}class CollaborativeEditingConnectResponse extends Message{channel;version;buffers;types;offset;metadata;initData;sessionId;lastOperationId;sessionCreatedAt;static DESCRIPTOR_NAME="CollaborativeEditingConnectResponse";static DESCRIPTOR={fields:{channel:{type:"string",id:1},offset:{type:"uint32",id:2},version:{type:"uint32",id:3},buffers:{rule:"repeated",type:"bytes",id:4},types:{rule:"repeated",type:"uint32",id:5},metadata:{rule:"repeated",type:OperationMetadataDescriptor.DESCRIPTOR_NAME,id:7},initData:{type:"string",id:8},isInitialized:{type:"bool",id:9},sessionId:{type:"string",id:10},lastOperationId:{type:"string",id:11},sessionCreatedAt:{type:"string",id:12}}};constructor(n,s,a=[],o=[],t=0,e=[],r=null,d="",u="",l=null){super(),this.channel=n,this.version=s,this.buffers=a,this.types=o,this.offset=t,this.metadata=e,this.initData=r,this.sessionId=d,this.lastOperationId=u,this.sessionCreatedAt=l}get data(){return{buffers:this.buffers,types:this.types,baseVersion:this.version-this.types.length,lastOperationId:this.lastOperationId,sessionCreatedAt:this.sessionCreatedAt}}get wereChangesApplied(){return!this.types?.length&&this.initData===null}toJSON(){return{channel:this.channel,version:this.version,sessionId:this.sessionId,buffers:this.buffers,types:this.types,offset:this.offset,metadata:OperationMetadataHelpers.removeUnnecessaryMetadata(this.types,this.metadata).map(OperationMetadataDescriptor.toJSON),initData:this.initData??"",isInitialized:typeof this.initData=="string",lastOperationId:this.lastOperationId,sessionCreatedAt:this.sessionCreatedAt?this.sessionCreatedAt.toISOString():null}}static create(n){return new CollaborativeEditingConnectResponse(n.channel,n.version,n.buffers,n.types,n.offset,n.metadata,n.initData,n.sessionId,n.lastOperationId,n.sessionCreatedAt)}static fromJSON(n){let s=null;return n.isInitialized===!0?s=n.initData??"":typeof n.isInitialized!="boolean"&&n.initData&&(s=n.initData),CollaborativeEditingConnectResponse.create({channel:n.channel,version:n.version,buffers:n.buffers,types:n.types,offset:n.offset,metadata:OperationMetadataHelpers.prepareMetadataForOperations(n.types,n.metadata).map(OperationMetadataDescriptor.fromJSON),initData:s,sessionId:n.sessionId,lastOperationId:n.lastOperationId,sessionCreatedAt:n.sessionCreatedAt?new Date(n.sessionCreatedAt):null})}}class GetDocumentDetailsResponse extends Message{lastDocumentSession;currentDocumentSession;static DESCRIPTOR_NAME="GetDocumentDetailsResponse";static DESCRIPTOR={fields:{lastDocumentSessionId:{type:"string",id:1},lastDocumentSessionOperationId:{type:"string",id:2},currentDocumentSessionId:{type:"string",id:3},currentDocumentSessionVersion:{type:"uint32",id:4},currentDocumentSessionOperationId:{type:"string",id:5}}};constructor(n,s){super(),this.lastDocumentSession=n,this.currentDocumentSession=s}get data(){return{lastDocumentSessionId:this.lastDocumentSession?.id,lastDocumentSessionOperationId:this.lastDocumentSession?.lastOperationId,currentDocumentSessionId:this.currentDocumentSession?.id,currentDocumentSessionVersion:this.currentDocumentSession?.version,currentDocumentSessionOperationId:this.currentDocumentSession?.lastOperationId}}toJSON(){return{lastDocumentSessionId:this.lastDocumentSession?.id,lastDocumentSessionOperationId:this.lastDocumentSession?.lastOperationId,currentDocumentSessionId:this.currentDocumentSession?.id,currentDocumentSessionVersion:this.currentDocumentSession?.version,currentDocumentSessionOperationId:this.currentDocumentSession?.lastOperationId}}static fromJSON(n){const s=n.lastDocumentSessionId?{id:n.lastDocumentSessionId,lastOperationId:n.lastDocumentSessionOperationId}:void 0,a=n.currentDocumentSessionId?{lastOperationId:n.currentDocumentSessionOperationId,version:n.currentDocumentSessionVersion,id:n.currentDocumentSessionId}:void 0;return new GetDocumentDetailsResponse(s,a)}}class GetDocumentDetailsMessage extends Message{documentId;static TYPE="14";static READABLE_TYPE_NAME="getDocumentDetails";static DESCRIPTOR_NAME="GetDocumentDetailsMessage";static DESCRIPTOR={fields:{documentId:{type:"string",id:1},environmentId:{type:"string",id:2}}};constructor(n){super(),this.documentId=n}get data(){return{documentId:this.documentId}}toJSON(){return{documentId:this.documentId}}static fromJSON(n){return new GetDocumentDetailsMessage(n.documentId)}}class _0x5d4658 extends EmitterMixin(){static _SERVICE=1;_bundleVersion;_id;_isConnected;_wsGateway;_channel;_connectedSessions;constructor(n,s){if(super(),!n)throw new TypeError('Param "bundleVersion" must be provided.');this._id=s??v4(),this._isConnected=!1,this._bundleVersion=n}getId(){return this._id}isConnected(){return this._isConnected}connect(n,s={buffers:[],types:[]},a){const o=new CollaborativeEditingConnectMessage(this.getId(),s.buffers,s.types,this._bundleVersion,a);return this._connect(n,o)}reconnect(n,s){if(this.isConnected())throw new CKEditorCloudServicesError("Cannot reconnect to already connected service.",n);return this._connect(n,new CollaborativeEditingReconnectMessage(this.getId(),s,this._bundleVersion))}disconnect(){this._isConnected&&(this._isConnected=!1,this._wsGateway&&(this.stopListening(this._wsGateway),this._wsGateway=void 0),this._channel&&(this.stopListening(this._channel),this._channel=void 0),this._connectedSessions&&(this._connectedSessions.disconnect(),this._connectedSessions=void 0),this.fire("disconnected"),this.stopListening())}async getDocumentDetails(){const n=new GetDocumentDetailsMessage(this.getId());if(!this._wsGateway)throw new ServiceNotConnectedError("Collaborative Editing",this);const s=await this._wsGateway._sendRequest(1,GetDocumentDetailsMessage.TYPE,MessagesCompressor.encode(n));return MessagesCompressor.decode(s,GetDocumentDetailsResponse)}async sendOperations(n,s,a){if(!n?.types?.length)throw new CKEditorCloudServicesError("Cannot send empty update.",this._wsGateway);const o=typeof s=="number"?s:parseInt(s);if(!Number.isInteger(o)||o<0)throw new CKEditorCloudServicesError("Base version not provided.",this._wsGateway);const t=new CollaborativeEditingUpdateMessage(this.getId(),n.buffers,n.types,o,[],a);if(!this._wsGateway||!this._isConnected)throw new ServiceNotConnectedError("Collaborative Editing",this);const e=await this._wsGateway._sendRequest(1,CollaborativeEditingUpdateMessage.TYPE,MessagesCompressor.encode(t));return MessagesCompressor.decode(e,CollaborativeEditingResponse)}async getConnectedSessions(){if(!this._isConnected)throw new ServiceNotConnectedError("Collaborative Editing",this);return this._connectedSessions||(this._connectedSessions=await Sessions$1.getConnectedSessions(this._wsGateway,this._id,1)),this._connectedSessions}static getConnectedSessions(n,s){return Sessions$1.getConnectedSessions(n,s,1)}async _connect(n,s){if(this.isConnected())return;if(n.state!==WebSocketGateway$1.STATE_CONNECTED)throw new CKEditorCloudServicesError("WebSocket Gateway is not connected.",n);this._wsGateway=n,this.stopListening(n,"change:state");const a=await n._sendRequest(1,s.constructor.TYPE,MessagesCompressor.encode(s)),o=MessagesCompressor.decode(a,CollaborativeEditingConnectResponse);return this.listenTo(n,"change:state",(t,e,r)=>this._onWsGatewayStateChange(r),{priority:WebSocketGateway$1._CHANGE_STATE_EVENT_PRIORITY}),this._connectToChannel(n,o.channel),this._isConnected=!0,this.fire("connected"),o}_connectToChannel(n,s){this._channel=n._getChannel(1,s),this.listenTo(this._channel,this._channel.getEventName(CollaborativeEditingUpdateMessage.TYPE),(a,o)=>{const t=MessagesCompressor.decode(o,CollaborativeEditingUpdateMessage);this.fire("operationsReceived",t.baseVersion,t.data,t.metadata)})}_onWsGatewayStateChange(n){n===WebSocketGateway$1.STATE_DISCONNECTED&&this.disconnect()}}class CommentDescriptor extends Descriptor{static DESCRIPTOR_NAME="CommentDescriptor";static DESCRIPTOR={fields:{commentId:{id:1,type:"string"},commentThreadId:{id:2,type:"string"},userId:{id:3,type:"string"},content:{id:4,type:"string"},documentId:{id:5,type:"string"},createdAt:{id:6,type:"string"},attributes:{id:7,type:"string"}}};static toJSON(n){return{...n,createdAt:n.createdAt?.toISOString(),attributes:n.attributes?JSON.stringify(n.attributes):null}}static fromJSON(n){return{...n,createdAt:new Date(n.createdAt),attributes:n.attributes?JSON.parse(n.attributes):null}}}class CommentsThreadDescriptor extends Descriptor{static DESCRIPTOR_NAME="CommentsThreadDescriptor";static DESCRIPTOR={fields:{commentThreadId:{type:"string",id:1},comments:{type:"CommentDescriptor",rule:"repeated",id:2},resolvedAt:{type:"string",id:3},resolvedBy:{type:"string",id:4},context:{type:"string",id:5},createdAt:{type:"string",id:6},deletedAt:{type:"string",id:7},attributes:{type:"string",id:8},unlinkedAt:{type:"string",id:9}}};static toJSON(n){return{...n,createdAt:n.createdAt?.toISOString(),deletedAt:n.deletedAt?.toISOString(),resolvedAt:n.resolvedAt?.toISOString(),attributes:n.attributes?JSON.stringify(n.attributes):null,context:n.context?JSON.stringify(n.context):n.context,comments:n.comments?.map(CommentDescriptor.toJSON),unlinkedAt:n.unlinkedAt?.toISOString()}}static fromJSON(n){return{...n,createdAt:n.createdAt?new Date(n.createdAt):void 0,deletedAt:n.deletedAt?new Date(n.deletedAt):void 0,resolvedAt:n.resolvedAt?new Date(n.resolvedAt):void 0,attributes:n.attributes?JSON.parse(n.attributes):null,context:n.context?JSON.parse(n.context):void 0,comments:n.comments?.map(CommentDescriptor.fromJSON),unlinkedAt:n.unlinkedAt?new Date(n.unlinkedAt):void 0}}}class AddCommentMessage extends Message{documentId;commentThreadId;content;commentId;userId;attributes;commentThread;createdAt;static TYPE="91";static READABLE_TYPE_NAME="addComment";static DESCRIPTOR_NAME="CommentsV2AddCommentMessage";static DESCRIPTOR={fields:{commentThreadId:{type:"string",id:1},content:{type:"string",id:2},documentId:{type:"string",id:3},commentId:{type:"string",id:4},createdAt:{type:"string",id:5},userId:{type:"string",id:6},attributes:{type:"string",id:7},commentThread:{type:"CommentsThreadDescriptor",id:8}}};constructor(n,s,a,o="",t,e="",r=null,d){super(),this.documentId=n,this.commentThreadId=s,this.content=a,this.commentId=o,this.userId=e,this.attributes=r,this.commentThread=d,this.createdAt=t?new Date(t):""}toJSON(){return{commentThreadId:this.commentThreadId,content:this.content,documentId:this.documentId,commentId:this.commentId,createdAt:this.createdAt instanceof Date?this.createdAt.toISOString():this.createdAt,userId:this.userId,attributes:JSON.stringify(this.attributes),commentThread:this.commentThread?CommentsThreadDescriptor.toJSON(this.commentThread):void 0}}static fromJSON(n){return new AddCommentMessage(n.documentId,n.commentThreadId,n.content,n.commentId?n.commentId:void 0,n.createdAt?new Date(n.createdAt):void 0,n.userId?n.userId:void 0,n.attributes?JSON.parse(n.attributes):{},n.commentThread?CommentsThreadDescriptor.fromJSON(n.commentThread):void 0)}}class AddCommentResponse extends Message{commentThreadId;commentId;createdAt;static DESCRIPTOR_NAME="CommentsV2AddCommentResponse";static DESCRIPTOR={fields:{commentThreadId:{type:"string",id:1},commentId:{type:"string",id:2},createdAt:{type:"string",id:3}}};constructor(n,s,a){super(),this.commentThreadId=n,this.commentId=s,this.createdAt=new Date(a)}toJSON(){return{commentThreadId:this.commentThreadId,commentId:this.commentId,createdAt:this.createdAt.toISOString()}}static fromJSON(n){return new AddCommentResponse(n.commentThreadId,n.commentId,n.createdAt)}}class ConnectMessage extends Message{documentId;static TYPE="92";static READABLE_TYPE_NAME="connectToComment";static DESCRIPTOR_NAME="CommentsV2ConnectMessage";static DESCRIPTOR={fields:{documentId:{type:"string",id:1}}};constructor(n){super(),this.documentId=n}toJSON(){return{documentId:this.documentId}}static fromJSON(n){return new ConnectMessage(n.documentId)}}class ConnectResponse extends Message{channel;_threads;_threadsV2;threads;static DESCRIPTOR_NAME="CommentsV2ConnectResponse";static DESCRIPTOR={fields:{channel:{type:"string",id:1},threads:{type:"string",rule:"repeated",id:2},threadsV2:{type:"CommentsThreadDescriptor",rule:"repeated",id:3}}};constructor(n,s,a){super(),this.channel=n,this._threads=s,this._threadsV2=a,this.threads=a?.length?a:s}toJSON(){return{channel:this.channel,threads:this._threads?.map(n=>JSON.stringify(n)),threadsV2:this._threadsV2?.map(CommentsThreadDescriptor.toJSON)}}static fromJSON(n){return new ConnectResponse(n.channel,n.threads?.map(s=>JSON.parse(s)),n.threadsV2?.map(CommentsThreadDescriptor.fromJSON))}}class RemoveCommentMessage extends Message{documentId;commentThreadId;commentId;static TYPE="95";static READABLE_TYPE_NAME="removeComment";static DESCRIPTOR_NAME="CommentsV2RemoveCommentMessage";static DESCRIPTOR={fields:{commentThreadId:{type:"string",id:1},commentId:{type:"string",id:2},documentId:{type:"string",id:3}}};constructor(n,s,a){super(),this.documentId=n,this.commentThreadId=s,this.commentId=a}toJSON(){return{documentId:this.documentId,commentThreadId:this.commentThreadId,commentId:this.commentId}}static fromJSON(n){return new RemoveCommentMessage(n.documentId,n.commentThreadId,n.commentId)}}class RemoveCommentThreadMessage extends Message{documentId;commentThreadId;static TYPE="97";static READABLE_TYPE_NAME="removeCommentThread";static DESCRIPTOR_NAME="CommentsV2RemoveCommentThreadMessage";static DESCRIPTOR={fields:{commentThreadId:{type:"string",id:1},documentId:{type:"string",id:2}}};constructor(n,s){super(),this.documentId=n,this.commentThreadId=s}toJSON(){return{documentId:this.documentId,commentThreadId:this.commentThreadId}}static fromJSON(n){return new RemoveCommentThreadMessage(n.documentId,n.commentThreadId)}}class UpdateCommentMessage extends Message{documentId;commentThreadId;commentId;content;attributes;isAttributesUpdated;commentThread;static TYPE="96";static READABLE_TYPE_NAME="updateComment";static DESCRIPTOR_NAME="CommentsV2UpdateCommentMessage";static DESCRIPTOR={fields:{commentThreadId:{type:"string",id:1},commentId:{type:"string",id:2},content:{type:"string",id:3},documentId:{type:"string",id:4},attributes:{type:"string",id:5},isAttributesUpdated:{type:"bool",id:6},commentThread:{type:"CommentsThreadDescriptor",id:7}}};constructor(n,s,a,o,t=null,e=!1,r){super(),this.documentId=n,this.commentThreadId=s,this.commentId=a,this.content=o,this.attributes=t,this.isAttributesUpdated=e,this.commentThread=r}toJSON(){return{documentId:this.documentId,commentThreadId:this.commentThreadId,commentId:this.commentId,content:this.content,attributes:this.attributes?JSON.stringify(this.attributes):null,isAttributesUpdated:this.isAttributesUpdated,commentThread:this.commentThread?CommentsThreadDescriptor.toJSON(this.commentThread):void 0}}static fromJSON(n){return new UpdateCommentMessage(n.documentId,n.commentThreadId,n.commentId,n.content,n.attributes?JSON.parse(n.attributes):null,n.isAttributesUpdated,n.commentThread?CommentsThreadDescriptor.fromJSON(n.commentThread):void 0)}}class GetCommentThreadMessage extends Message{commentThreadId;documentId;static TYPE="93";static READABLE_TYPE_NAME="getComment";static DESCRIPTOR_NAME="CommentsV2GetCommentThreadMessage";static DESCRIPTOR={fields:{commentThreadId:{type:"string",id:1},documentId:{type:"string",id:2}}};constructor(n,s){super(),this.commentThreadId=n,this.documentId=s}toJSON(){return{commentThreadId:this.commentThreadId,documentId:this.documentId}}static fromJSON(n){return new GetCommentThreadMessage(n.commentThreadId,n.documentId)}}class GetCommentThreadResponse extends Message{commentThreadId;_comments;_commentsV2;resolvedBy;comments;createdAt;deletedAt;resolvedAt;attributes;context;unlinkedAt;static DESCRIPTOR_NAME="CommentsV2GetCommentThreadResponse";static DESCRIPTOR={fields:{commentThreadId:{type:"string",id:1},comments:{type:"string",rule:"repeated",id:2},commentsV2:{type:"CommentDescriptor",rule:"repeated",id:3},resolvedAt:{type:"string",id:4},resolvedBy:{type:"string",id:5},context:{type:"string",id:6},createdAt:{type:"string",id:7},deletedAt:{type:"string",id:8},attributes:{type:"string",id:9},unlinkedAt:{type:"string",id:10}}};constructor(n,s,a,o,t,e,r,d,u,l){super(),this.commentThreadId=n,this._comments=s,this._commentsV2=a,this.resolvedBy=t,this.comments=a?.length?a:s,this.createdAt=r?new Date(r):void 0,this.deletedAt=typeof d=="string"?new Date(d):d,this.resolvedAt=typeof u=="string"?new Date(u):u,this.unlinkedAt=typeof l=="string"?new Date(l):l,this.attributes=typeof o=="string"?JSON.parse(o):o,this.context=typeof e=="string"?JSON.parse(e):e}toJSON(){return{commentThreadId:this.commentThreadId,comments:this._comments?.map(n=>JSON.stringify(n)),commentsV2:this._commentsV2?.map(CommentDescriptor.toJSON),attributes:this.attributes?JSON.stringify(this.attributes):this.attributes,context:this.context?JSON.stringify(this.context):this.context,resolvedBy:this.resolvedBy,createdAt:this.createdAt?.toISOString(),deletedAt:this.deletedAt?.toISOString(),resolvedAt:this.resolvedAt?.toISOString(),unlinkedAt:this.unlinkedAt?.toISOString()}}static fromJSON(n){return new GetCommentThreadResponse(n.commentThreadId,n.comments?.map(s=>(function(a){const o=JSON.parse(a);return{...o,createdAt:new Date(o.createdAt)}})(s)),n.commentsV2?.map(CommentDescriptor.fromJSON),n.attributes?JSON.parse(n.attributes):n.attributes,n.resolvedBy,n.context?JSON.parse(n.context):n.context,n.createdAt,n.deletedAt,n.resolvedAt,n.unlinkedAt)}}class GetDocumentThreadsMessage extends Message{documentId;static TYPE="94";static READABLE_TYPE_NAME="getDocumentThreads";static DESCRIPTOR_NAME="CommentsV2GetDocumentThreadsMessage";static DESCRIPTOR={fields:{documentId:{type:"string",id:1}}};constructor(n){super(),this.documentId=n}toJSON(){return{documentId:this.documentId}}static fromJSON(n){return new GetDocumentThreadsMessage(n.documentId)}}class GetDocumentThreadsResponse extends Message{_threads;_threadsV2;threads;static DESCRIPTOR_NAME="CommentsV2GetDocumentThreadsResponse";static DESCRIPTOR={fields:{threads:{type:"string",rule:"repeated",id:1},threadsV2:{type:"CommentsThreadDescriptor",rule:"repeated",id:2}}};constructor(n,s){super(),this._threads=n,this._threadsV2=s,this.threads=s?.length?s:n}toJSON(){return{threads:this._threads?.map(n=>JSON.stringify(n)),threadsV2:this._threadsV2?.map(CommentsThreadDescriptor.toJSON)}}static fromJSON(n){return new GetDocumentThreadsResponse(n.threads?.map(s=>(function(a){const o=JSON.parse(a),t={...o};return o.comments&&(t.comments=o.comments?.map(e=>({...e,createdAt:new Date(e.createdAt)}))),t})(s)),n.threadsV2?.map(CommentsThreadDescriptor.fromJSON))}}class CommentThreadAddedCommentDescriptor extends Descriptor{static DESCRIPTOR_NAME="CommentThreadAddedCommentDescriptor";static DESCRIPTOR={fields:{commentId:{id:1,type:"string"},createdAt:{id:2,type:"string"}}};static toJSON(n){return{commentId:n.commentId,createdAt:n.createdAt?.toISOString()}}static fromJSON(n){return{commentId:n.commentId,createdAt:new Date(n.createdAt)}}}class AddCommentThreadResponse extends Message{commentThreadId;comments;createdAt;static DESCRIPTOR_NAME="CommentsV2AddCommentThreadResponse";static DESCRIPTOR={fields:{commentThreadId:{type:"string",id:1},createdAt:{type:"string",id:2},comments:{type:"CommentThreadAddedCommentDescriptor",rule:"repeated",id:3}}};constructor(n,s,a=[]){super(),this.commentThreadId=n,this.comments=a,this.createdAt=new Date(s)}toJSON(){return{commentThreadId:this.commentThreadId,createdAt:this.createdAt.toISOString(),comments:this.comments.map(n=>CommentThreadAddedCommentDescriptor.toJSON(n))}}static fromJSON(n){return new AddCommentThreadResponse(n.commentThreadId,n.createdAt,n.comments.map(s=>CommentThreadAddedCommentDescriptor.fromJSON(s)))}}class AddCommentThreadMessage extends Message{documentId;commentThreadId;comments;context;resolvedBy;attributes;createdAt;resolvedAt;deletedAt;static TYPE="140";static READABLE_TYPE_NAME="addCommentThread";static DESCRIPTOR_NAME="CommentsV2AddCommentThreadMessage";static DESCRIPTOR={fields:{documentId:{type:"string",id:1},commentThreadId:{type:"string",id:2},context:{type:"string",id:3},createdAt:{type:"string",id:4},resolvedAt:{type:"string",id:5},resolvedBy:{type:"string",id:6},attributes:{type:"string",id:7},deletedAt:{type:"string",id:8},comments:{type:"CommentDescriptor",rule:"repeated",id:9}}};constructor(n,s,a=[],o,t=null,e=null,r=null,d=null,u=null){super(),this.documentId=n,this.commentThreadId=s,this.comments=a,this.context=o,this.resolvedBy=t,this.attributes=u,this.createdAt=e?new Date(e):"",this.resolvedAt=r?new Date(r):"",this.deletedAt=d?new Date(d):""}toJSON(){return{commentThreadId:this.commentThreadId,context:this.context?JSON.stringify(this.context):this.context,documentId:this.documentId,resolvedBy:this.resolvedBy,resolvedAt:this.resolvedAt instanceof Date?this.resolvedAt.toISOString():this.resolvedAt,deletedAt:this.deletedAt instanceof Date?this.deletedAt.toISOString():this.deletedAt,createdAt:this.createdAt instanceof Date?this.createdAt.toISOString():this.createdAt,attributes:this.attributes?JSON.stringify(this.attributes):this.attributes,comments:this.comments?.map(n=>CommentDescriptor.toJSON(n))}}static fromJSON(n){return new AddCommentThreadMessage(n.documentId,n.commentThreadId,n.comments?.map(s=>CommentDescriptor.fromJSON({...s,documentId:n.documentId,commentThreadId:n.commentThreadId})),n.context?JSON.parse(n.context):n.context,n.resolvedBy,n.createdAt?new Date(n.createdAt):void 0,n.resolvedAt?new Date(n.resolvedAt):void 0,n.deletedAt?new Date(n.deletedAt):void 0,n.attributes?JSON.parse(n.attributes):n.attributes)}}class ResolveCommentThreadMessage extends Message{commentThreadId;documentId;resolvedBy;resolvedAt;static TYPE="142";static READABLE_TYPE_NAME="resolveCommentThread";static DESCRIPTOR_NAME="CommentsV2ResolveCommentThreadMessage";static DESCRIPTOR={fields:{commentThreadId:{type:"string",id:1},documentId:{type:"string",id:2},resolvedBy:{type:"string",id:3},resolvedAt:{type:"string",id:4}}};constructor(n,s,a,o){super(),this.commentThreadId=n,this.documentId=s,this.resolvedBy=a,this.resolvedAt=o?new Date(o):void 0}toJSON(){return{documentId:this.documentId,commentThreadId:this.commentThreadId,resolvedBy:this.resolvedBy,resolvedAt:this.resolvedAt?.toISOString()}}static fromJSON(n){return new ResolveCommentThreadMessage(n.commentThreadId,n.documentId,n.resolvedBy,n.resolvedAt)}}class ReopenCommentThreadMessage extends Message{commentThreadId;documentId;static TYPE="141";static READABLE_TYPE_NAME="reopenCommentThread";static DESCRIPTOR_NAME="CommentsV2ReopenCommentThreadMessage";static DESCRIPTOR={fields:{commentThreadId:{type:"string",id:1},documentId:{type:"string",id:2}}};constructor(n,s){super(),this.commentThreadId=n,this.documentId=s}toJSON(){return{documentId:this.documentId,commentThreadId:this.commentThreadId}}static fromJSON(n){return new ReopenCommentThreadMessage(n.commentThreadId,n.documentId)}}class UpdateCommentThreadMessage extends Message{commentThreadId;documentId;context;attributes;unlinkedAt;static TYPE="143";static READABLE_TYPE_NAME="updateCommentThread";static DESCRIPTOR_NAME="CommentsV2UpdateCommentThreadMessage";static DESCRIPTOR={fields:{commentThreadId:{type:"string",id:1},documentId:{type:"string",id:2},context:{type:"string",id:3},attributes:{type:"string",id:4},unlinkedAt:{type:"string",id:5}}};constructor(n,s,a,o=null,t=null){super(),this.commentThreadId=n,this.documentId=s,this.context=a,this.attributes=o,this.unlinkedAt=t?new Date(t):""}toJSON(){return{documentId:this.documentId,commentThreadId:this.commentThreadId,context:this.context?JSON.stringify(this.context):this.context,attributes:this.attributes?JSON.stringify(this.attributes):null,unlinkedAt:this.unlinkedAt instanceof Date?this.unlinkedAt.toISOString():this.unlinkedAt}}static fromJSON(n){return new UpdateCommentThreadMessage(n.commentThreadId,n.documentId,n.context?JSON.parse(n.context):n.context,n.attributes?JSON.parse(n.attributes):null,n.unlinkedAt?new Date(n.unlinkedAt):null)}}class ResolveCommentThreadResponse extends Message{commentThreadId;documentId;resolvedBy;resolvedAt;static DESCRIPTOR_NAME="CommentsV2ResolveCommentThreadResponse";static DESCRIPTOR={fields:{commentThreadId:{type:"string",id:1},documentId:{type:"string",id:2},resolvedAt:{type:"string",id:3},resolvedBy:{type:"string",id:4}}};constructor(n,s,a,o){super(),this.commentThreadId=n,this.documentId=s,this.resolvedBy=a,this.resolvedAt=new Date(o)}toJSON(){return{commentThreadId:this.commentThreadId,documentId:this.documentId,resolvedBy:this.resolvedBy,resolvedAt:this.resolvedAt.toISOString()}}static fromJSON(n){return new ResolveCommentThreadResponse(n.commentThreadId,n.documentId,n.resolvedBy,n.resolvedAt)}}class CommentsService extends EmitterMixin(){_documentId;_isConnected=!1;_wsGateway;_channel;_connectedSessions;static _SERVICE=9;constructor(n){super(),this._documentId=n}get isConnected(){return this._isConnected}async connect(n){if(this._isConnected)return;if(n.state!==WEB_SOCKET_GATEWAY_STATES.CONNECTED)throw new CKEditorCloudServicesError("WebSocket Gateway is not connected.",n);const s=new ConnectMessage(this._documentId);this._wsGateway=n,this.stopListening(n,"change:state");const a=await n._sendRequest(9,ConnectMessage.TYPE,MessagesCompressor.encode(s)),{channel:o,threads:t}=MessagesCompressor.decode(a,ConnectResponse);return this.listenTo(n,"change:state",(e,r,d)=>this._onWsGatewayStateChange(d),{priority:WebSocketGateway$1._CHANGE_STATE_EVENT_PRIORITY}),this._connectToChannel(n,o),this._isConnected=!0,this.fire("connected"),t}disconnect(){this._isConnected&&(this._isConnected=!1,this._wsGateway&&(this.stopListening(this._wsGateway),this._wsGateway=void 0),this._channel&&(this.stopListening(this._channel),this._channel=void 0),this._connectedSessions&&(this._connectedSessions.disconnect(),this._connectedSessions=void 0),this.fire("disconnected"),this.stopListening())}async addComment(n,s,a,o){const t=new AddCommentMessage(this._documentId,n,a,s,void 0,void 0,o),e=await this._sendRequest(AddCommentMessage.TYPE,t);return MessagesCompressor.decode(e,AddCommentResponse)}async updateComment(n,s,a,o){const t=o!==void 0,e=new UpdateCommentMessage(this._documentId,n,s,a,o,t);await this._sendRequest(UpdateCommentMessage.TYPE,e)}async removeComment(n,s){const a=new RemoveCommentMessage(this._documentId,n,s);await this._sendRequest(RemoveCommentMessage.TYPE,a)}async removeCommentThread(n){const s=new RemoveCommentThreadMessage(this._documentId,n);await this._sendRequest(RemoveCommentThreadMessage.TYPE,s)}async addCommentThread(n){const s=new AddCommentThreadMessage(this._documentId,n.commentThreadId,n.comments?.map(o=>({...o,documentId:this._documentId,commentThreadId:n.commentThreadId})),n.context,n.resolvedBy,n.createdAt,n.resolvedAt,n.deletedAt,n.attributes),a=await this._sendRequest(AddCommentThreadMessage.TYPE,s);return MessagesCompressor.decode(a,AddCommentThreadResponse)}async resolveCommentThread(n){const s=new ResolveCommentThreadMessage(n,this._documentId),a=await this._sendRequest(ResolveCommentThreadMessage.TYPE,s);return MessagesCompressor.decode(a,ResolveCommentThreadResponse)}async reopenCommentThread(n){const s=new ReopenCommentThreadMessage(n,this._documentId);await this._sendRequest(ReopenCommentThreadMessage.TYPE,s)}async updateCommentThread(n){const s=new UpdateCommentThreadMessage(n.commentThreadId,this._documentId,n.context,n.attributes,n.unlinkedAt);await this._sendRequest(UpdateCommentThreadMessage.TYPE,s)}async getCommentThread(n,s=1){const a=new GetCommentThreadMessage(n,this._documentId);try{const t=await this._sendRequest(GetCommentThreadMessage.TYPE,a),e=MessagesCompressor.decode(t,GetCommentThreadResponse);return{commentThreadId:e.commentThreadId,comments:e.comments,attributes:e.attributes,context:e.context,resolvedAt:e.resolvedAt,resolvedBy:e.resolvedBy,deletedAt:e.deletedAt,unlinkedAt:e.unlinkedAt}}catch(t){if(t.name==="CKEditorCloudServicesServerError"&&t.code==="404"&&s<5)return await(o=100*s,new Promise(e=>{setTimeout(e,o)})),this.getCommentThread(n,s+1);throw t.name==="CKEditorCloudServicesServerError"?t:CKEditorCloudServicesServerError.fromPublicError(t)}var o}async getDocumentThreads(){const n=new GetDocumentThreadsMessage(this._documentId),s=await this._sendRequest(GetDocumentThreadsMessage.TYPE,n),{threads:a}=MessagesCompressor.decode(s,GetDocumentThreadsResponse);return{threads:a}}async getConnectedSessions(){if(!this._isConnected)throw new ServiceNotConnectedError("Comments",this);return this._connectedSessions||(this._connectedSessions=await Sessions$1.getConnectedSessions(this._wsGateway,this._documentId,9)),this._connectedSessions}_connectToChannel(n,s){this._channel=n._getChannel(CommentsService._SERVICE,s),this._channel&&(this.listenTo(this._channel,this._channel.getEventName(AddCommentMessage.TYPE),(a,o)=>{const t=MessagesCompressor.decode(o,AddCommentMessage);this.fire("commentAdded",t)}),this.listenTo(this._channel,this._channel.getEventName(RemoveCommentMessage.TYPE),(a,o)=>{const t=MessagesCompressor.decode(o,RemoveCommentMessage);this.fire("commentRemoved",t)}),this.listenTo(this._channel,this._channel.getEventName(UpdateCommentMessage.TYPE),(a,o)=>{const t=MessagesCompressor.decode(o,UpdateCommentMessage);this.fire("commentUpdated",t)}),this.listenTo(this._channel,this._channel.getEventName(RemoveCommentThreadMessage.TYPE),(a,o)=>{const t=MessagesCompressor.decode(o,RemoveCommentThreadMessage);this.fire("commentThreadRemoved",t)}),this.listenTo(this._channel,this._channel.getEventName(AddCommentThreadMessage.TYPE),(a,o)=>{const t=MessagesCompressor.decode(o,AddCommentThreadMessage);this.fire("commentThreadAdded",t)}),this.listenTo(this._channel,this._channel.getEventName(UpdateCommentThreadMessage.TYPE),(a,o)=>{const t=MessagesCompressor.decode(o,UpdateCommentThreadMessage);this.fire("commentThreadUpdated",t)}),this.listenTo(this._channel,this._channel.getEventName(ResolveCommentThreadMessage.TYPE),(a,o)=>{const t=MessagesCompressor.decode(o,ResolveCommentThreadMessage);this.fire("commentThreadResolved",t)}),this.listenTo(this._channel,this._channel.getEventName(ReopenCommentThreadMessage.TYPE),(a,o)=>{const t=MessagesCompressor.decode(o,ReopenCommentThreadMessage);this.fire("commentThreadReopened",t)}))}_onWsGatewayStateChange(n){n===WEB_SOCKET_GATEWAY_STATES.DISCONNECTED&&this.disconnect()}_sendRequest(n,s){if(!this._wsGateway||!this._isConnected)throw new ServiceNotConnectedError("Comments",this);return this._wsGateway._sendRequest(9,n,MessagesCompressor.encode(s))}}const _0x3f0cef=_0x3571;function _0x29ed(){const c=["token","plugins","websocketgateway-missing-token","CONNECTED","_isBrowserOffline","error","1896aziQPS","websocketgateway-invalid-plugin-interface","state","cloudServices.connectionTimeout","1873044LyMJqm","19313dBoqED","connect","WebSocketGateway","4332456Husdcj","577424yptxCl","constructor","cloudservices-reconnection-error","CONNECTING","bind","websocketgateway-plugin-already-registered","DISCONNECTED","pluginName","224RQtyOI","CloudServices","listenTo","context","reconnect","offline","then","showWarning","init","delete","2447JMbeBU","real-time-collaboration","define","isPremiumPlugin","disconnect","limitExceeded","connection","code","webSocketUrl","isInReconnectionStack","connected","cloudServices.requestTimeout","stopListening","config","Connected users limit exceeded","isOfficialPlugin","from","change:me","_domEmitter","cloudservices-init","get","_reconnect","function","The limit of maximum concurrent connections that the collaboration server can handle has been reached. Try opening the document again in a few minutes. Please contact your system administrator if the problem persists.","online","2265295ktdAzp","websocketgateway-missing-websocket-url","catch","_shouldPluginsReconnect","_reconnectionStack","has","requires","1581804GigZBv","initialReconnectionInterval","all","addToReconnectionStack","destroy","add","removeFromReconnectionStack","set"];return _0x29ed=function(){return c},_0x29ed()}(function(c,n){const s=_0x3571,a=c();for(;;)try{if(-parseInt(s(239))/1*(-parseInt(s(229))/2)+-parseInt(s(216))/3+-parseInt(s(221))/4+-parseInt(s(264))/5+parseInt(s(271))/6+parseInt(s(217))/7*(parseInt(s(285))/8)+parseInt(s(220))/9===n)break;a.push(a.shift())}catch{a.push(a.shift())}})(_0x29ed,451202);function _0x3571(c,n){const s=_0x29ed();return _0x3571=function(a,o){return a=a-214,s[a]},_0x3571(c,n)}class WebSocketGateway extends ContextPlugin{static[_0x3f0cef(219)]=WebSocketGateway$1;static[_0x3f0cef(272)]=1e3;[_0x3f0cef(245)];[_0x3f0cef(268)];[_0x3f0cef(267)];[_0x3f0cef(257)];static get[_0x3f0cef(270)](){return[_0x3f0cef(230),Notification]}static get[_0x3f0cef(228)](){return _0x3f0cef(219)}static get[_0x3f0cef(254)](){return!0}static get[_0x3f0cef(242)](){return!0}constructor(n){const s=_0x3f0cef;super(n),this[s(278)](s(214),WEB_SOCKET_GATEWAY_STATES[s(282)]),this[s(278)](s(283),!1),this[s(268)]=new Set,this[s(267)]=!1,this[s(257)]=new(DomEmitterMixin())}[_0x3f0cef(237)](){const n=_0x3f0cef,s=this[n(232)],a=s[n(280)][n(259)](n(230)),o=s[n(280)][n(259)](Notification);if(!a[n(279)])throw new CKEditorError(n(281),this);if(!a[n(247)])throw new CKEditorError(n(265),this);return this[n(257)][n(231)](window,n(234),()=>this[n(283)]=!0),this[n(257)][n(231)](window,n(263),()=>this[n(283)]=!1),this[n(232)][n(252)][n(241)](n(215),10),this[n(232)][n(252)][n(241)](n(250),20),WebSocketGateway[n(219)][n(218)](a[n(279)],a[n(247)],{timeout:1e3*this[n(232)][n(252)][n(259)](n(215)),requestTimeout:1e3*this[n(232)][n(252)][n(259)](n(250))})[n(235)](t=>{const e=n;if(this[e(245)]=t,this[e(225)](e(214)).to(t,e(214),this,e(283),(r,d)=>(e(249)!==r&&(this[e(267)]=!0),d||r!==WEB_SOCKET_GATEWAY_STATES[e(282)]?WEB_SOCKET_GATEWAY_STATES[e(227)]:this[e(214)]==WEB_SOCKET_GATEWAY_STATES[e(227)]&&this[e(267)]?(this[e(267)]=!1,this[e(260)](),WEB_SOCKET_GATEWAY_STATES[e(224)]):WEB_SOCKET_GATEWAY_STATES[e(282)])),this[e(245)].on(e(284),(r,d)=>{const u=e;if(u(244)!==d[u(246)])throw console[u(284)](d),new CKEditorError(u(258),null,{originalError:d});o[u(236)](u(262),{title:u(253),namespace:u(240)})}),!t.me)return new Promise(r=>t.on(e(256),r))})[n(266)](t=>{const e=n;throw console[e(284)](t),new CKEditorError(e(258),null,{originalError:t})})}[_0x3f0cef(274)](n){const s=_0x3f0cef;if(s(261)!=typeof n[s(233)])throw new CKEditorError(s(286),this);if(this[s(248)](n))throw new CKEditorError(s(226),this,{name:n[s(222)][s(228)]});this[s(268)][s(276)](n)}[_0x3f0cef(277)](n){const s=_0x3f0cef;this[s(268)][s(238)](n)}[_0x3f0cef(248)](n){const s=_0x3f0cef;return this[s(268)][s(269)](n)}[_0x3f0cef(260)](){const n=_0x3f0cef;return this[n(245)][n(233)]()[n(235)](()=>Promise[n(273)](Array[n(255)](this[n(268)],s=>s[n(233)]())))[n(235)](()=>this[n(214)]=WEB_SOCKET_GATEWAY_STATES[n(282)])[n(266)](s=>{const a=n;throw console[a(284)](s),new CKEditorError(a(223),this[a(232)])})}[_0x3f0cef(243)](){const n=_0x3f0cef;this[n(245)]&&this[n(245)][n(243)](),this[n(214)]=WEB_SOCKET_GATEWAY_STATES[n(227)],this[n(257)][n(251)]()}[_0x3f0cef(275)](){const n=_0x3f0cef;this[n(243)](),super[n(275)]()}}(function(c,n){for(var s=_0x13ef,a=c();;)try{var o=parseInt(s(499))/1*(parseInt(s(495))/2)+parseInt(s(493))/3*(parseInt(s(492))/4)+-parseInt(s(494))/5*(-parseInt(s(498))/6)+-parseInt(s(496))/7+parseInt(s(501))/8*(parseInt(s(500))/9)+-parseInt(s(491))/10*(parseInt(s(497))/11)+-parseInt(s(490))/12;if(o===n)break;a.push(a.shift())}catch{a.push(a.shift())}})(_0x4705,572022);function _0x4705(){var c=["484QIJWEL","4995214gSrjvL","71522XKCOhK","34098CrvIlf","601VRZHBW","9xuSmcC","2510152OJduqq","3251316FqvITA","770CdNjBT","132ZTNsAi","53829DmHPoB","885jhLeqX"];return _0x4705=function(){return c},_0x4705()}function _0x13ef(c,n){var s=_0x4705();return _0x13ef=function(a,o){a=a-490;var t=s[a];return t},_0x13ef(c,n)}const _0xe3c558=_0x10a4;(function(c,n){const s=_0x10a4,a=c();for(;;)try{if(parseInt(s(276))/1+-parseInt(s(250))/2+-parseInt(s(241))/3*(parseInt(s(218))/4)+-parseInt(s(217))/5+-parseInt(s(225))/6+-parseInt(s(274))/7*(parseInt(s(245))/8)+parseInt(s(257))/9===n)break;a.push(a.shift())}catch{a.push(a.shift())}})(_0x4e43,126242);function _0x10a4(c,n){const s=_0x4e43();return _0x10a4=function(a,o){return a=a-216,s[a]},_0x10a4(c,n)}function _0x4e43(){const c=["orderNumber","isPremiumPlugin","plugins","channelConnectedUsers","register","70203Sxoath","isMe","138116qMDBNi","_uniqueUsersCount","hiddenInPresenceList","1118165gNefLK","53860dtdkCU","has","get","_createUser","_handleSessionAdd","context","getUserSessions","530586BWWbUy","defineMe","channelSessions","connection","sessions-unregister-not-exist","fire","role","getUserRole","delete","values","isOfficialPlugin","allConnectedUsers","init","_handleSessionRemove","add","Sessions","6kWHirC","pluginName","forEach","_registeredSessions","72GGHjZu","state","getUserBySessionId","change:state","assign","67440rgyuKs","listenTo","remove","clear","sessionAdd:","_users","unregister","4059909nyFIji","mySessionId","set","requires","addUser","user","connected","size","sessionId","stopListening","sessions-register-already-registered","getUser"];return _0x4e43=function(){return c},_0x4e43()}class Sessions extends ContextPlugin{[_0xe3c558(227)];[_0xe3c558(272)];[_0xe3c558(236)];[_0xe3c558(244)];[_0xe3c558(277)];[_0xe3c558(255)];static get[_0xe3c558(242)](){return _0xe3c558(240)}static get[_0xe3c558(235)](){return!0}static get[_0xe3c558(270)](){return!0}static get[_0xe3c558(260)](){return[WebSocketGateway,Users]}constructor(n){const s=_0xe3c558;super(n),this[s(227)]=new Map,this[s(272)]=new Map,this[s(236)]=new Collection,this[s(244)]=new Map,this[s(277)]=0,this[s(255)]=this[s(223)][s(271)][s(220)](Users)}[_0xe3c558(237)](){const n=_0xe3c558,s=this[n(223)][n(271)][n(220)](WebSocketGateway);this[n(251)](s,n(248),(a,o,t)=>{const e=n;if(e(263)!==t)this[e(227)][e(243)](r=>r[e(253)]()),this[e(272)][e(243)](r=>r[e(253)]()),this[e(236)][e(253)]();else for(const[r,d]of this[e(244)])for(const u of d)this[e(222)](r,u)}),this[n(221)](s[n(228)].me,!0)}[_0xe3c558(273)](n,s){const a=_0xe3c558;if(this[a(244)][a(219)](n))throw new CKEditorError(a(267),null,{channelId:n});this[a(244)][a(259)](n,s),this[a(227)][a(259)](n,new Collection),this[a(272)][a(259)](n,new Collection),this[a(251)](s,a(239),(o,t)=>this[a(222)](n,t)),this[a(251)](s,a(252),(o,t)=>this[a(238)](n,t));for(const o of s)this[a(222)](n,o)}[_0xe3c558(256)](n){const s=_0xe3c558;if(!this[s(244)][s(219)](n))throw new CKEditorError(s(229),null,{channelId:n});const a=this[s(244)][s(220)](n);this[s(266)](a);for(const o of a)s(263)===this[s(223)][s(271)][s(220)](WebSocketGateway)[s(246)]&&this[s(238)](n,o);this[s(244)][s(233)](n),this[s(227)][s(233)](n),this[s(272)][s(233)](n)}get[_0xe3c558(258)](){const n=_0xe3c558;return this[n(223)][n(271)][n(220)](WebSocketGateway)[n(228)][n(265)]}[_0xe3c558(247)](n){const s=_0xe3c558;for(const a of this[s(227)][s(234)]())for(const o of a)if(o.id===n)return o[s(262)]}[_0xe3c558(224)](n,s){const a=_0xe3c558,o=s?[this[a(227)][a(220)](s)]:this[a(227)][a(234)](),t=new Set;for(const e of o)for(const r of e)r[a(262)].id===n.id&&t[a(239)](r.id);return t}[_0xe3c558(232)](n){const s=_0xe3c558;for(const a of this[s(227)][s(234)]())for(const o of a)if(o[s(262)]===n)return o[s(231)]}[_0xe3c558(222)](n,s){const a=_0xe3c558;if(a(263)!==this[a(223)][a(271)][a(220)](WebSocketGateway)[a(246)])return;const o=s[a(262)],t=this[a(255)][a(268)](o.id)||this[a(221)](o),e=Object[a(249)]({},s,{user:t});if(this[a(227)][a(220)](n)[a(239)](e),!o[a(216)]){const r=this[a(272)][a(220)](n);r[a(219)](t.id)||r[a(239)](t),this[a(236)][a(219)](t.id)||o[a(216)]||this[a(236)][a(239)](t,t[a(275)]?0:void 0)}this[a(230)](a(254)+n,{channelId:n,session:e})}[_0xe3c558(238)](n,s){const a=_0xe3c558;if(a(263)!==this[a(223)][a(271)][a(220)](WebSocketGateway)[a(246)])return;const o=this[a(272)][a(220)](n),t=s[a(262)];t.id&&(this[a(227)][a(220)](n)[a(252)](s.id),o[a(219)](t.id)&&!this[a(224)](t,n)[a(264)]&&o[a(252)](t.id),this[a(236)][a(220)](t.id)&&!this[a(224)](t)[a(264)]&&this[a(236)][a(252)](t.id))}[_0xe3c558(221)](n,s){const a=_0xe3c558,o=this[a(255)][a(261)](n);return s&&this[a(255)][a(226)](n.id),o[a(269)]=this[a(277)]++,o}}function styleInject(c,{insertAt:n}={}){if(!c||typeof document>"u")return;const s=document.head||document.getElementsByTagName("head")[0],a=document.createElement("style");a.type="text/css",window.litNonce&&a.setAttribute("nonce",window.litNonce),n==="top"&&s.firstChild?s.insertBefore(a,s.firstChild):s.appendChild(a),a.styleSheet?a.styleSheet.cssText=c:a.appendChild(document.createTextNode(c))}styleInject(".ck .ck-user__marker-dot{border-radius:50%;cursor:default;display:block;height:var(--ck-user-dot-size);left:50%;position:absolute;top:calc((var(--ck-user-dot-size)/2)*-1);transform:translate(-50%,-50%);width:var(--ck-user-dot-size)}.ck .ck-user__marker-tooltip{color:#fff;display:none;font-family:Georgia,sans-serif;font-size:var(--ck-font-size-base);font-style:normal;font-weight:400;left:0;line-height:1;opacity:0;padding:var(--ck-spacing-small);position:absolute;top:-20px;transition:opacity .2s linear,transform .3s ease-in-out;white-space:nowrap;z-index:99999}@media (prefers-reduced-motion:reduce){.ck .ck-user__marker-tooltip{transition:none}}.ck .ck-user__marker-line{bottom:0;height:100%;position:absolute;width:0}.ck .ck-user__marker{cursor:default;display:inline;position:relative}.ck .ck-user__marker.ck-user__marker_hovered .ck-user__marker-dot{width:0}.ck .ck-user__marker.ck-user__marker_hovered .ck-user__marker-tooltip{animation:fadeInLeft .3s ease-in-out;display:block;opacity:1}.ck .ck-placeholder .ck-user__marker{display:none}@media (prefers-reduced-motion:reduce){.ck .ck-user__marker,.ck .ck-user__marker *,.ck .ck-user__marker:after{animation:none!important}}@keyframes fadeInLeft{0%{opacity:0;transform:translateX(-10px)}to{opacity:1;transform:translateX(0)}}");const _0x45b43e=_0x3d0c;(function(c,n){const s=_0x3d0c,a=c();for(;;)try{if(parseInt(s(196))/1+parseInt(s(235))/2+-parseInt(s(192))/3+-parseInt(s(136))/4+-parseInt(s(138))/5*(parseInt(s(210))/6)+parseInt(s(166))/7+parseInt(s(172))/8===n)break;a.push(a.shift())}catch{a.push(a.shift())}})(_0x4e18,867855);function _0x4e18(){const c=["2681928bCeGns","user:","enqueueChange","oldRange","isOfficialPlugin","tableCell","editor","change","commands","nodeAfter","start","markerToElement","model","createRange","getContainedElement","toRange","_domEmitter","textContent","removeClass","user:range","5174235kpbGkq","userPositionMarker","clear","stopListening","459299yCrCth","markerName","span","mouseleave","selection","mySessionId","parent","mapper","setCustomProperty","$text","removeMarker","UserMarkers","isPremiumPlugin","reconvertMarker","229926cLmdrG","batch","requires","newRange","ck-user__marker-tooltip","document","update:user:range","color","editing","undo","createUserMarkerOperations","pluginName","size","set","deletionPosition","$graveyard","mouseenter","isInline","marker","getMarkerClass","toDomElement","markerRange","contenteditable","data-session-id","rootName","3015560bWaZKg","root","keydown","has","getCustomProperty","_createdBatches","spellcheck","hasContent","change:range","setAttribute","add","isObject","isDocumentOperation","view","markers","getFirstRange","remove",'\u2060<span class="ck-user__marker-line" contenteditable="false"><span class="ck-user__marker-dot"></span></span>',"conversion","destroy","isLimit","detach","split","getUserBySessionId","highest","isCollapsed","classList","orderNumber","delete","ck-user__marker_hovered","editingDowncast","getStart","end","startsWith","user:position","updateMarker","createUIElement","getSelectionClass","2899300xHhSIv","afterInit","85EOcHkW","ck-user__marker ","hasDomSelection","addEventListener","getAttribute","type","user:position:","createElement","schema","markerNameToElements","addMarker","user:range:","innerHTML","for","ck-user__selection","render","name","element","isSimilar","getRange","checkChild","init","applyOperation","plugins","false","getNearestSelectionRange","markerToHighlight","getPositions","11665934DZCOIz","outerHTML","Escape","fromRange","get","listenTo"];return _0x4e18=function(){return c},_0x4e18()}function _0x3d0c(c,n){const s=_0x4e18();return _0x3d0c=function(a,o){return a=a-128,s[a]},_0x3d0c(c,n)}class UserMarkers extends Plugin{[_0x45b43e(188)]=new(DomEmitterMixin());static get[_0x45b43e(212)](){return[Sessions]}static get[_0x45b43e(221)](){return _0x45b43e(207)}static get[_0x45b43e(176)](){return!0}static get[_0x45b43e(208)](){return!0}[_0x45b43e(159)](){const n=_0x45b43e,s=this[n(178)],a=s[n(161)][n(170)](Sessions);s[n(253)][n(151)](n(128))[n(183)]({model:n(132),view:(o,{writer:t})=>(function(e,r,d,u){const l=n,m=e[l(197)][l(257)](":")[2],h=d[l(258)](m);if(!h||m===d[l(201)]||!u[l(184)][l(146)][l(158)](e[l(231)][l(182)],l(205)))return;const g={class:l(139)+h[l(217)][l(229)](),"data-name":h[l(154)],"data-session-id":m},y=u[l(184)][l(249)][l(170)](e[l(197)]),S=y[l(129)](),T=S[l(181)],w=u[l(184)][l(146)];if(T&&w[l(246)](T)&&w[l(227)](T)&&!u[l(184)][l(249)][l(170)](l(149)+m)[l(157)]()[l(260)])return;const I=S[l(202)];return u[l(184)][l(146)][l(255)](I)&&!u[l(184)][l(242)](I)&&(g[l(232)]=!1),(function(O,C,v){const E=l,P=O[E(134)](E(198),C);return O[E(204)](E(193),!0,P),P[E(153)]=function(R){const k=E,D=this[k(230)](R),N=document[k(145)](k(198));return N[k(261)][k(245)](k(214)),N[k(244)](k(232),k(162)),N[k(244)](k(241),k(162)),N[k(189)]=v[k(154)],D[k(150)]=k(252)+N[k(167)]+"\u2060",D[k(141)](k(226),()=>{const x=k;D[x(261)][x(245)](x(264))}),D[k(141)](k(199),()=>{const x=k;D[x(261)][x(251)](x(264))}),D},P[E(156)]=function(R){const k=E;return!(!this[k(239)](k(193))||!R[k(239)](k(193))||this[k(142)](k(233))!=R[k(142)](k(233)))},P})(r,g,h)})(o,t,a,s)}),s[n(253)][n(151)](n(128))[n(164)]({model:n(191),view:o=>(function(t,e){const r=n,d=t[r(197)][r(257)](":")[2];if(d===e[r(201)])return null;const u=e[r(258)](d);return u?{id:d,classes:[r(152),u[r(217)][r(135)]()],attributes:{"data-session-id":d},priority:2e3+u[r(262)]}:{id:d,classes:[]}})(o,a)}),(function(o){const t=n,e=o[t(184)],r=new Map,d=o[t(161)][t(170)](Sessions);e[t(249)].on(t(216),(u,l,m,h)=>{const g=t;if(!h&&r[g(170)](l[g(154)]))return r[g(170)](l[g(154)])[g(256)](),void r[g(263)](l[g(154)]);const y=l[g(154)][g(257)](":")[2];if(y===d[g(201)])return;const S=g(144)+y;e[g(249)][g(238)](S)&&o[g(218)][g(209)](S),l.on(g(243),(T,w,I)=>{const O=g;if(O(225)!=w[O(236)][O(234)]&&O(225)==l[O(157)]()[O(236)][O(234)]&&!r[O(238)](l[O(154)])){const C=e[O(146)][O(163)](I[O(224)]);if(C){const v=ModelLiveRange[O(169)](C);r[O(223)](l[O(154)],v),v.on(O(243),(E,P,R)=>{const k=O;if(k(225)==v[k(236)][k(234)]){const D=e[k(146)][k(163)](R[k(224)]);D?(v[k(182)]=D[k(182)],v[k(130)]=D[k(130)]):(r[k(263)](l[k(154)]),v[k(256)]())}})}}})}),e[t(215)].on(t(179),()=>{const u=t;r[u(222)]>0&&e[u(174)]({isUndoable:!1},l=>{const m=u;for(const[h,g]of r)m(225)==e[m(249)][m(170)](h)[m(157)]()[m(236)][m(234)]&&(te(h[m(257)](":")[2],g[m(187)](),e,l),g[m(256)]());r[m(194)]()})})})(s),this[n(188)][n(171)](global$1[n(215)],n(237),(o,{key:t})=>{const e=n;e(168)===t&&(function(r){const d=e;r[d(218)][d(248)][d(179)](u=>{const l=d;for(const m of r[l(184)][l(249)]){if(!m[l(154)][l(131)](l(132)))continue;const h=r[l(218)][l(203)][l(147)](m[l(154)]);if(h)for(const g of h)u[l(190)](l(264),g)}})})(s)},{useCapture:!0})}[_0x45b43e(137)](){const n=_0x45b43e,s=this[n(178)],a=s[n(180)][n(170)](n(219));a&&s[n(184)].on(n(160),(o,t)=>{const e=n,r=t[0];if(!r[e(247)]||e(228)!=r[e(143)]||!r[e(154)][e(131)](e(173)))return;const d=r[e(211)];a[e(240)][e(238)](d)&&(r[e(213)]=r[e(175)]?s[e(184)][e(185)](r[e(175)][e(182)],r[e(175)][e(130)]):null)},{priority:n(259)})}[_0x45b43e(254)](){const n=_0x45b43e;return this[n(188)][n(195)](),super[n(254)]()}[_0x45b43e(220)](){const n=_0x45b43e,s=this[n(178)],a=s[n(184)][n(215)],o=s[n(161)][n(170)](Sessions);s[n(184)][n(174)]({isUndoable:!1},t=>{const e=n,r=e(149)+o[e(201)],d=e(144)+o[e(201)],u=s[e(184)][e(249)][e(238)](r);s[e(218)][e(248)][e(140)]?te(o[e(201)],a[e(200)][e(250)](),s[e(184)],t):u&&(t[e(206)](r),t[e(206)](d))})}}function te(c,n,s,a){const o=_0x45b43e,t=o(149)+c,e=o(144)+c,r=n[o(186)]();let d=n[o(182)];if(r&&r.is(o(155),o(177))){const l=(function(m,h){const g=o;for(const y of m[g(165)]())if(h[g(146)][g(158)](y,g(205)))return y})(n,s);l&&(d=l,n=a[o(185)](d))}const u=a[o(185)](d);s[o(249)][o(238)](t)?(a[o(133)](t,{range:n}),a[o(133)](e,{range:u})):(a[o(148)](t,{range:n,usingOperation:!0}),a[o(148)](e,{range:u,usingOperation:!0}))}function getTranslation(c,n,s){const a=c.t,o=c.t;switch(n){case"PENDING_ACTION_SENDING_DATA":return o({string:"Sending data to the server.",id:"PENDING_ACTION_SENDING_DATA"});case"The local document and server document differ and merging them can cause unexpected behavior. To not lose your content save it locally and refresh the editor.":return o("The local document and server document differ and merging them can cause unexpected behavior. To not lose your content save it locally and refresh the editor.");case"The document cannot be connected back to the server. To not lose your content save it locally and refresh the editor.":return o("The document cannot be connected back to the server. To not lose your content save it locally and refresh the editor.");case"The document details could not be taken during the reconnection. To not lose your content save it locally and refresh the editor.":return o("The document details could not be taken during the reconnection. To not lose your content save it locally and refresh the editor.");case"The last saved version of the document does not match the local version. To not lose your content save it locally and refresh the editor.":return o("The last saved version of the document does not match the local version. To not lose your content save it locally and refresh the editor.");case"Synchronization issue":return o("Synchronization issue");case"Connected users list dropdown menu":return o("Connected users list dropdown menu");case"Collapsed connected users list (press ENTER to open it)":return o("Collapsed connected users list (press ENTER to open it)");case"Connected users list":return o("Connected users list");case"PENDING_ACTION_REVISION_HISTORY":return a({string:"Unsaved change in revision history.",id:"PENDING_ACTION_REVISION_HISTORY"});case"CONNECTED_USERS":return o({string:"1 connected user (me)",plural:"%0 connected users",id:"CONNECTED_USERS"},s);default:return""}}const _0x38e931=_0x381c;(function(c,n){const s=_0x381c,a=c();for(;;)try{if(-parseInt(s(241))/1*(-parseInt(s(345))/2)+parseInt(s(197))/3+-parseInt(s(354))/4*(-parseInt(s(127))/5)+parseInt(s(107))/6*(parseInt(s(194))/7)+-parseInt(s(159))/8*(-parseInt(s(235))/9)+-parseInt(s(128))/10*(parseInt(s(262))/11)+-parseInt(s(122))/12*(parseInt(s(113))/13)===n)break;a.push(a.shift())}catch{a.push(a.shift())}})(_0x3547,626422);function _0x381c(c,n){const s=_0x3547();return _0x381c=function(a,o){return a=a-101,s[a]},_0x381c(c,n)}let Q=1;function _0x3547(){const c=["_isPendingUpdate","listenTo","_isAttached","connection","keys","editor","fromJSON","unregister","high","add","_loadRoot","_sendBufferedOperationsDelayed","size","suppressErrorInCollaboration","656aVMsmV","_operationIdentifier","return","rootsAttributes","data","start","baseVersion","round","directChange","from","applyOperation","mySessionId","differ","offset","realtimecollaborationclient-init-non-existent-root","clone","catch","_shouldSendSelectionUpdate","isEnabled","document","sessionId","push","isOfficialPlugin","change:_isPendingUpdate","define","Notification","$root","_getAffectedRoot","getUser","position","change:_isEditingAllowed","_lastSyncedOperationId","initData","isDocumentOperation","channelSessions","28zgOiuE","_offset","_disconnectService","2040645qqlXaD","change:hasDomSelection","_lastServerVersion","rootName","error","selection","document:write","The document details could not be taken during the reconnection. To not lose your content save it locally and refresh the editor.","_connectAfterSessionHasBeenFlushed","permissions","404","plugins","remove","_refreshUserSelectionMarkers","metadata","realtimecollaborationclient-editor-setdata-and-editor-data-set-are-forbidden-in-real-time-collaboration","_sendBufferedOperationsDelayId","reconnection: flushed session","cloud-services-internal-error: Request timeout.","_applyOperationsSet","loadRoot","addUser","addToReconnectionStack","sessionAdd:","then","PENDING_ACTION_SENDING_DATA","operationsReceived","length","parse","serverHistory","get","getOperationAuthor","markers","end","ready","_knownOperations","stopListening","The local document and server document differ and merging them can cause unexpected behavior. To not lose your content save it locally and refresh the editor.","21132OZIQln","isReadOnly","enqueueChange","wasUndone","move","sendOperations","8656jSxQlK","type","createdAt","_hasSynchronizationProblem","realtimecollaborationclient-init-connection-failed","path","InsertOperation","cloudServices.bundleVersion","realtimecollaborationclient-init-service-incorrect-server-operation","_pendingAction","getRoot","filter","init","realtimecollaborationclient","_fetchMissingUsers","history","409","lastOperationId","reset","_getOperationsFromInitData","multi-root-editor-root-attributes-no-root","27764OdZjzS","_initThrowingOnDataSet","insert","roots","collaboration-missing-channelid","realtimecollaborationclient-init-document-already-initialized","state","rtc-offline","realtimecollaborationclient-init-service-internal-error","_isLoaded","realtimecollaborationclient-handleserverresponse","_compressOperations","apply","decompress","realtimecollaborationclient-init-session-connection-error","_handleSendingSelectionMarkers","requires","slice","compress","getIdOfTheLastOperation","_isDisconnection","message","includes","set","createUserMarkerOperations","_hasSelectionChanged","rtc-destroyed","bind","Synchronization issue","version","removeFromReconnectionStack","startsWith","_bufferedOperations","_addKnownRoot","setIdForTheLastOperation","lastDocumentSession","entries","code","cs:removeUser","getOperations","lastOperationAcceptedAt","currentDocumentSession","_document","change:range","addRootAttribute","locale","toJSON","_updateServerHistory","_decompressOperations","createPositionAt","_baseBufferDelay","_setPendingAction","_clearPendingAction","wereChangesApplied","_handleReconnectionError","root","_isEditingAllowed","_crash","_currentBufferDelay","_handleExternalOperations","Permissions","_isConnected","_waitUntilSynced","sessionCreatedAt","_bufferRootLoad","_operationToId","forEach","string","setPermissions","has","stop","disconnected","showWarning","editing","RealTimeCollaborationClient","_shouldSendUpdate","map","attributes","_handleReceivedOperations","reconnect","model","CommentsOnly","realtimecollaborationclient-error","6PDSzaw","connected","_service","_saveOperationInBuffer","The document cannot be connected back to the server. To not lose your content save it locally and refresh the editor.","_handleServerResponse","collaboration","targetPosition","cloud-services-internal-error: Not connected.","4ycTRww","finally","disconnect","off","cloud-services-internal-error: Collaborative Editing Service is not connected.","batch","register","addRoot","disableReadOnlyMode","marker","real-time-collaboration","_connectService","getMany","lastSyncVersion","_disconnectionOperations","_ignoredOperations","_handleReconnectionResponse","getConnectedSessions","1415886lPIvGS","__className","view","collaboration.channelId","_handleInitialConnectionData","destroy","5744089jXuTGK","addOperation","CollaborativeEditingService","createRoot","cloudDocumentVersion","fire","_isInit","enableReadOnlyMode","The last saved version of the document does not match the local version. To not lose your content save it locally and refresh the editor.","36TwDTRN","newRange","_setUpDataInit","_sendBufferedOperations","userId","5455870HBglhP","3890ssUlrg","connect","_initSessionsHandling","realtimecollaborationclient-sendbufferedoperations","createRange","createPositionFromPath","getDocumentDetails","_compressor","affectedSelectable","pluginName","isUndoneOperation","isPremiumPlugin","_authorId","_knownRootNames","_channelId","config","affectsData"];return _0x3547=function(){return c},_0x3547()}class RealTimeCollaborationClient extends Plugin{static[_0x38e931(115)]=_0x5d4658;[_0x38e931(195)];[_0x38e931(179)];[_0x38e931(226)];[_0x38e931(142)];[_0x38e931(347)];[_0x38e931(304)];[_0x38e931(135)];[_0x38e931(294)];[_0x38e931(232)];[_0x38e931(141)];[_0x38e931(250)];[_0x38e931(287)];[_0x38e931(213)];[_0x38e931(312)];[_0x38e931(320)];[_0x38e931(190)];[_0x38e931(103)];[_0x38e931(160)];static get[_0x38e931(278)](){return[WebSocketGateway,Sessions,UserMarkers,PendingActions,Users,Notification]}static get[_0x38e931(137)](){return _0x38e931(336)}static get[_0x38e931(181)](){return!0}static get[_0x38e931(139)](){return!0}get[_0x38e931(117)](){const n=_0x38e931;return this[n(199)]+this[n(195)]}get[_0x38e931(199)](){const n=_0x38e931;return this[n(226)][n(291)]-this[n(195)]}get[_0x38e931(102)](){const n=_0x38e931,s=this[n(226)][n(301)]();for(let a=s[n(224)]-1;a>=0;a--){const o=s[a];if(!this[n(103)][n(331)](o))return o[n(165)]+1-this[n(195)]}return 0}constructor(n){const s=_0x38e931;if(super(n),this[s(195)]=0,this[s(179)]=null,this[s(226)]=new History,this[s(150)][s(143)][s(183)](s(351),{}),this[s(142)]=this[s(150)][s(143)][s(227)](s(110)),!this[s(142)])throw new CKEditorError(s(266),this);const a=n[s(143)][s(227)](s(248))||version;this[s(347)]=new RealTimeCollaborationClient[s(115)](a,this[s(142)]),this[s(304)]=this[s(150)][s(342)][s(178)],this[s(135)]=new Compressor,this[s(294)]=[],this[s(232)]=new WeakSet,this[s(141)]=new Set,this[s(285)](s(145),!1),this[s(285)](s(244),!1),this[s(250)]=null,this[s(287)]=!1,this[s(213)]=null,this[s(312)]=300,this[s(320)]=this[s(312)],this[s(190)]=null,this[s(103)]=new WeakSet,this[s(160)]=new Z(this[s(103)])}[_0x38e931(253)](){const n=_0x38e931,s=this[n(150)],a=s[n(208)][n(227)](Users),o=s[n(208)][n(227)](WebSocketGateway);this[n(146)](a,n(228),(t,e)=>{const r=n,d=e[0];d[r(140)]&&(t[r(161)]=a[r(187)](d[r(140)]),t[r(332)]()),d[r(140)]===null&&(t[r(161)]=null,t[r(332)]())},{priority:n(153)}),this[n(146)](s[n(342)][n(178)][n(202)],n(305),(t,e)=>{const r=n;e[r(167)]&&this[r(210)]()}),this[n(146)](s[n(335)][n(109)],n(198),()=>{this[n(210)]()}),this[n(263)](),s[n(342)].on(n(169),(t,e)=>{const r=n,d=e[0];d[r(192)]&&(this[r(348)](d),this[r(337)]()&&this[r(156)]())}),this[n(124)](),this[n(289)](n(318)).to(o,n(268),this,n(244),(t,e)=>n(346)===t&&!e),this.on(n(189),()=>{const t=n;this[t(318)]?s[t(362)](t(269)):s[t(120)](t(269))}),this[n(318)]?s[n(362)](n(269)):s[n(120)](n(269)),this[n(285)](n(323),!1)}async[_0x38e931(341)](){const n=_0x38e931,s=this[n(150)][n(208)][n(227)](Sessions),a=this[n(150)][n(208)][n(227)](WebSocketGateway);try{this[n(145)]=!0,s[n(152)](this[n(142)]);const o=await this[n(347)][n(341)](a[n(148)],this[n(102)]);await this[n(105)](o)&&(this[n(145)]=!1,this[n(314)]());const t=await this[n(347)][n(106)]();s[n(360)](this[n(142)],t),this[n(277)](),this[n(323)]=!0}catch(o){if((function(t){const e=n;return e(207)===t[e(299)]})(o)&&this[n(179)])await this[n(205)]();else if((function(t){const e=n;return e(257)===t[e(299)]})(o)){const t=getTranslation(this[n(150)][n(307)],n(349));this[n(316)](t)}else{if(!(o instanceof X))throw o;this[n(316)]()}}}[_0x38e931(112)](){const n=_0x38e931,s=this[n(150)][n(208)][n(227)](WebSocketGateway),a=this[n(150)][n(208)][n(227)](Sessions);this[n(150)][n(120)](n(288)),a[n(193)][n(331)](this[n(142)])&&a[n(152)](this[n(142)]),s[n(292)](this),this[n(196)](),super[n(112)]()}async[_0x38e931(105)](n){const s=_0x38e931;if(this[s(179)]!==n[s(179)]&&this[s(190)]!==n[s(258)])throw new X;return this[s(179)]=n[s(179)],this[s(350)]([],{...n,wereChangesApplied:!1,data:n[s(163)]},s(341))}async[_0x38e931(365)](n,s=!1){const a=_0x38e931,{connection:o}=this[a(150)][a(208)][a(227)](WebSocketGateway);RealTimeCollaborationClient[a(115)][a(106)](o,this[a(142)])[a(221)](r=>this[a(130)](r))[a(175)](r=>{const d=a;this[d(319)](d(276),r)}),this[a(146)](this[a(347)],a(223),this[a(340)][a(289)](this)),this[a(146)](this[a(347)],a(201),(r,d)=>{const u=a;this[u(319)](u(270),d)}),this[a(146)](this[a(347)],a(333),()=>{const r=a;this[r(323)]=!1});const t=this[a(160)][a(281)](n);this[a(145)]=!0;const e=await this[a(347)][a(129)](o,this[a(273)](n),t);if(this[a(179)]=e[a(179)],s){if(!e[a(315)])return void this[a(316)]();this[a(145)]=!1,this[a(314)](),this[a(226)][a(259)](),this[a(195)]=e[a(172)],this[a(226)][a(291)]=this[a(195)],await this[a(350)](n,e,a(214))}else await this[a(111)](e,n);this[a(277)](),this[a(323)]=!0}[_0x38e931(277)](){const n=_0x38e931,s=this[n(150)][n(208)][n(227)](Sessions),a=this[n(150)][n(208)][n(227)](UserMarkers),o=s[n(193)][n(227)](this[n(142)]);o&&o[n(224)]>1?a[n(286)]():this[n(146)](s,n(220)+this[n(142)],()=>{const t=n;s[t(193)][t(227)](this[t(142)])[t(224)]===2&&a[t(286)]()})}async[_0x38e931(340)](n,s,a,o){const t=_0x38e931;if(!this[t(145)]&&this[t(304)][t(291)]==s){const e=this[t(310)](a,o);await this[t(255)](e),this[t(321)](e,s,a[t(258)])||this[t(319)](t(249))}}async[_0x38e931(205)](){const n=_0x38e931;this[n(196)]();const{locale:s}=this[n(150)];let a;try{a=await this[n(347)][n(134)]()}catch{const t=getTranslation(s,n(204));return void this[n(316)](t)}const o=a[n(303)]||a[n(297)];if(this[n(190)]!==o[n(258)]){const t=getTranslation(s,n(121));return void this[n(316)](t)}await this[n(365)](this[n(150)][n(342)][n(178)][n(256)][n(301)](),!0)}[_0x38e931(196)](){const n=_0x38e931;this[n(347)][n(356)](),this[n(294)]=[],clearTimeout(this[n(213)]),this[n(233)](this[n(347)])}[_0x38e931(130)](n){const s=_0x38e931,a=this[s(150)][s(208)][s(227)](Sessions);this[s(146)](a,s(220)+this[s(142)],(o,{session:t})=>{const e=s;if(t.id===a[e(170)]){o[e(357)]();const r=this[e(150)][e(208)][e(331)](e(343))&&this[e(150)][e(208)][e(227)](e(343));let d=t[e(206)];r&&r[e(177)]&&(d=d[e(252)](u=>e(203)!==u)),this[e(150)][e(208)][e(227)](e(322))[e(330)](d,this[e(142)])}}),a[s(360)](this[s(142)],n)}[_0x38e931(263)](){const n=_0x38e931,s=this[n(150)][n(163)][n(285)];this[n(150)][n(163)][n(285)]=(...a)=>{const o=n;if(!a[a[o(224)]-1][o(158)])throw new CKEditorError(o(212),this);s[o(274)](this[o(150)][o(163)],a)}}[_0x38e931(124)](){const n=_0x38e931;this[n(150)][n(163)].on(n(253),(s,[a])=>{const o=n;if(this[o(304)][o(291)])throw new CKEditorError(o(267),this);s[o(332)](),this[o(313)]();const t=this[o(150)][o(143)][o(227)](o(162)),e=this[o(260)](a,t);e[o(224)]==0&&e[o(180)](new NoOperation(0)),s[o(161)]=this[o(365)](e)[o(221)](()=>{const r=o;this[r(150)][r(208)][r(227)](WebSocketGateway)[r(219)](this),this[r(150)][r(163)][r(118)](r(231))})[o(175)](r=>this[o(319)](o(245),r))[o(355)](()=>this[o(314)]())},{priority:n(153)}),this[n(150)].on(n(217),async(s,[a,o])=>{const t=n;s[t(332)]();const e=this[t(150)][t(342)][t(178)][t(251)](a);if(!this[t(141)][t(331)](a)){const r=o&&o[t(163)]?o[t(163)]:"",d=o&&o[t(339)]?o[t(339)]:{};await this[t(155)](a,r,d)}this[t(150)][t(342)][t(237)]({isUndoable:!1},()=>{const r=t;e[r(271)]=!0,this[r(150)][r(342)][r(178)][r(171)][r(326)](e)})},{priority:n(153)})}async[_0x38e931(255)](n){const s=_0x38e931,a=this[s(150)][s(208)][s(227)](Users),{connection:o}=this[s(150)][s(208)][s(227)](WebSocketGateway),t=new Set;for(const r of n){const d=r[s(140)];d&&!a[s(187)](d)&&t[s(154)](d)}if(t[s(157)]===0)return;const e=await User[s(101)](o,Array[s(168)](t));for(const r of e)a[s(187)](r.id)||a[s(218)](r)}[_0x38e931(260)](n,s={}){const a=_0x38e931,o=this[a(150)][a(342)],t=[];let e=0;const r=a(329)==typeof n?{main:n}:n;for(const d of Object[a(149)](r)){if(!this[a(304)][a(265)][a(331)](d))throw new CKEditorError(a(173),this);const u=this[a(150)][a(163)][a(225)](r[d]),l=this[a(304)][a(251)](d),m=new InsertOperation(o[a(311)](l,0),u,e++);t[a(180)](m);for(const[h,g]of u[a(229)]){const y=o[a(132)](o[a(133)](l,g[a(164)][a(246)][a(279)]()),o[a(133)](l,g[a(230)][a(246)][a(279)]())),S=new MarkerOperation(h,null,y,o[a(229)],!0,e++);t[a(180)](S)}}if(s)for(const[d,u]of Object[a(298)](s)){const l=o[a(178)][a(251)](d);if(!l)throw new CKEditorError(a(261),null);for(const[m,h]of Object[a(298)](u))if(h!==null){const g=new RootAttributeOperation(l,m,null,h,e++);t[a(180)](g)}}return t}async[_0x38e931(155)](n,s,a){const o=_0x38e931;this[o(260)]({[n]:s},{[n]:a})[o(328)]((t,e)=>{const r=o;t[r(165)]=this[r(304)][r(291)]+e,t[r(119)]=!0,this[r(348)](t)}),this[o(156)](),await this[o(324)]()}async[_0x38e931(111)](n,s){const a=_0x38e931;let o;this[a(195)]=n[a(172)];const t=n[a(315)]&&!n[a(191)],e=t?0:n[a(163)][a(165)];if(s[a(328)](r=>{const d=a;r[d(119)]=!0,r[d(243)]=n[d(325)],r[d(140)]=null}),t)o=s,this[a(216)](o,t);else{if(n[a(191)]){const r=this[a(260)](n[a(191)]);this[a(304)][a(256)][a(291)]=-r[a(224)],r[a(328)](d=>{const u=a;d[u(165)]-=r[u(224)],d[u(243)]=n[u(325)],d[u(119)]=!0,d[u(140)]=null}),this[a(216)](r,!0),this[a(226)][a(291)]=-r[a(224)]+this[a(195)],this[a(309)](r)}this[a(304)][a(256)][a(291)]=e,o=this[a(310)](n[a(163)],n[a(211)]),await this[a(255)](o),this[a(216)](o,t)}n[a(258)]&&(this[a(160)][a(296)](o,n[a(258)]),this[a(190)]=n[a(258)]),this[a(226)][a(291)]=e+this[a(195)],this[a(309)](o),s[a(252)](r=>{const d=a,u=this[d(186)](r);return u&&!this[d(141)][d(331)](u)})[a(328)]((r,d)=>{const u=a;r[u(165)]=this[u(304)][u(291)]+d,this[u(348)](r)}),this[a(337)]()?(this[a(320)]=0,this[a(156)](!0),await this[a(324)]()):(this[a(145)]=!1,this[a(314)]())}[_0x38e931(319)](n,s){const a=_0x38e931,o=s&&s[a(283)];if(o&&o[a(293)](a(254)))throw s;const t=this[a(150)][a(208)][a(227)](WebSocketGateway);throw this[a(145)]=!0,t[a(356)](),this[a(150)][a(120)](a(344)),new CKEditorError(n,this[a(150)],o?{originalError:o}:void 0)}[_0x38e931(348)](n){const s=_0x38e931;this[s(232)][s(331)](n)||(this[s(232)][s(154)](n),this[s(294)][s(180)](n),this[s(250)]||s(363)==n[s(242)]&&!n[s(144)]||this[s(313)]())}[_0x38e931(156)](n=!1){const s=_0x38e931;!n&&this[s(145)]||(this[s(145)]=!0,clearTimeout(this[s(213)]),this[s(213)]=setTimeout(()=>{const a=s;this[a(125)]()[a(221)](o=>{const t=a;o&&(this[t(314)](),this[t(145)]=!1)})[a(175)](o=>{const t=a;this[t(314)](),this[t(145)]=!1,(function(e){const r=t;return e[r(283)][r(293)](r(353))||e[r(283)][r(293)](r(358))||e[r(283)][r(293)](r(215))})(o)||this[t(319)](o[t(283)],o)})},this[s(320)]))}[_0x38e931(324)](){return new Promise(n=>{const s=_0x381c;this.on(s(182),()=>{n()})})}async[_0x38e931(125)](){const n=_0x38e931,s=this[n(150)][n(208)][n(227)](UserMarkers);if(this[n(176)]()&&(s[n(286)](),this[n(287)]=!1),!this[n(337)]())return!0;const a=[...this[n(294)]];for(const d of a)d[n(238)]=this[n(304)][n(256)][n(138)](d);const o=this[n(160)][n(281)](a),t=Q++,e=this[n(273)](a),r=await this[n(347)][n(240)](e,e[n(165)],o);try{return await this[n(350)](a,r,t)}catch(d){return this[n(319)](n(131),d)}}async[_0x38e931(350)](n,s,a){const o=_0x38e931;if(o(201)in s)throw s[o(201)];let t=!1;if(s[o(315)]){s[o(258)]&&(this[o(190)]=s[o(258)]),this[o(294)]=this[o(294)][o(252)](r=>!n[o(284)](r));for(const r of n)r[o(243)]=o(302)in s&&s[o(302)]||void 0;Y(n,s[o(291)]-n[o(224)]),this[o(309)](n);const e=n[o(252)](r=>{const d=o;if(!r[d(119)])return!1;const u=this[d(186)](r);return u&&!this[d(141)][d(331)](u)});Y(e,this[o(304)][o(291)]),this[o(216)](e),t=!0,this[o(320)]=this[o(312)]}else{const e=this[o(310)](s[o(163)],s[o(211)])[o(252)](r=>r[o(165)]>=this[o(199)]);e[o(328)](r=>this[o(295)](r)),this[o(294)]=this[o(294)][o(252)](r=>!r[o(119)]||!this[o(141)][o(331)](this[o(186)](r))),this[o(294)][o(224)]&&Y(this[o(294)],this[o(294)][0][o(165)]),await this[o(255)](e),t=this[o(321)](e,s[o(291)],s[o(258)]),this[o(320)]=Math[o(166)](this[o(320)]/2)}return t?!this[o(337)]()||(this[o(156)](!0),!1):this[o(319)](o(272))}[_0x38e931(321)](n,s,a){const o=_0x38e931;try{const t={document:this[o(304)],useRelations:!1,padWithNoOps:!0},{operationsA:e,operationsB:r,originalOperations:d}=transformOperationSets(n,this[o(294)],t);Y(e,this[o(304)][o(291)]),Y(r,s);for(const u of e){const l=d[o(227)](u);u[o(140)]=l?l[o(140)]:null}a&&(this[o(160)][o(296)](n,a),this[o(190)]=a),this[o(294)]=[...r],this[o(216)](e),this[o(309)](n)}catch(t){return console[o(201)](t),!1}return!0}[_0x38e931(216)](n,s=!1){const a=_0x38e931;this[a(150)][a(342)][a(237)]({isUndoable:!1,isLocal:!1},o=>{const t=a;for(const e of n)this[t(232)][t(154)](e),this[t(295)](e),o[t(359)][t(114)](e),this[t(150)][t(342)][t(169)](e)})}[_0x38e931(295)](n){const s=_0x38e931,a=this[s(186)](n);a&&this[s(141)][s(154)](a)}[_0x38e931(186)](n){const s=_0x38e931;let a,o;switch(n[s(242)]){case s(264):a=n[s(188)][s(317)];break;case s(363):if(o=n[s(123)],!o)return null;a=o[s(317)];break;case s(306):a=n[s(317)];break;case s(361):a=n[s(136)];break;case s(239):a=n[s(352)][s(317)];break;default:return null}return a[s(200)]}[_0x38e931(309)](n){const s=_0x38e931;n[s(328)](a=>{const o=s,t=a[o(174)]();t[o(140)]=a[o(140)],t[o(119)]=!!a[o(119)],t[o(243)]=a[o(243)],t[o(165)]+=this[o(195)],a[o(282)]&&this[o(103)][o(154)](t),this[o(226)][o(114)](t)})}[_0x38e931(316)](n){const s=_0x38e931,a=this[s(150)][s(208)][s(227)](s(184)),o=this[s(150)][s(307)];n||(n=getTranslation(o,s(234))),a[s(334)](n,{title:getTranslation(o,s(290)),namespace:s(364)}),this[s(244)]=!0,clearTimeout(this[s(213)]),this[s(294)]=[],this[s(150)][s(208)][s(227)](WebSocketGateway)[s(356)]()}[_0x38e931(313)](){const n=_0x38e931;this[n(250)]||(this[n(250)]=this[n(150)][n(208)][n(227)](PendingActions)[n(154)](getTranslation(this[n(150)][n(307)],n(222))))}[_0x38e931(314)](){const n=_0x38e931;this[n(250)]&&(this[n(150)][n(208)][n(227)](PendingActions)[n(209)](this[n(250)]),this[n(250)]=null)}[_0x38e931(273)](n){const s=_0x38e931,a=n[s(338)](o=>o[s(308)]());return this[s(135)][s(280)](a)}[_0x38e931(310)](n,s){const a=_0x38e931;return this[a(135)][a(275)](n)[a(338)]((o,t)=>{const e=a,r=e(253)==s[t][e(242)];if(e(247)==o[e(108)]){const u=o[e(188)][e(317)];!this[e(304)][e(251)](u)&&(this[e(304)][e(116)](e(185),u)[e(147)]=!1)}const d=OperationFactory[e(151)](o,this[e(304)]);return d[e(238)]=o[e(238)],d[e(119)]=r,d[e(140)]=r?null:s[t][e(126)],d[e(282)]=e(300)===s[t][e(242)],d[e(243)]=s[t][e(243)],d})}[_0x38e931(210)](){const n=_0x38e931;this[n(287)]=!0,this[n(176)]()?this[n(156)]():this[n(287)]=!1}[_0x38e931(176)](){const n=_0x38e931,s=this[n(150)][n(208)][n(227)](Sessions)[n(193)][n(227)](this[n(142)]);return!this[n(150)][n(236)]&&!!s&&s[n(224)]>1&&this[n(287)]}[_0x38e931(337)](){const n=_0x38e931;return this[n(294)][n(224)]>0||this[n(176)]()}}class X extends Error{}function Y(c,n){const s=_0x38e931;for(const a of c)a[s(165)]=n++}class Z{[_0x38e931(104)];[_0x38e931(327)];constructor(n){const s=_0x38e931;this[s(104)]=n,this[s(327)]=new WeakMap}[_0x38e931(281)](n){const s=_0x38e931;let a=n[s(224)];for(;a--;){const o=n[a];if(!this[s(104)][s(331)](o)){if(!this[s(327)][s(331)](o)){const t=uid()[s(279)](1,18);this[s(327)][s(285)](o,t)}return this[s(327)][s(227)](o)}}}[_0x38e931(296)](n,s){const a=_0x38e931;if(!s)return;let o=n[a(224)];for(;o--;){const t=n[o];this[a(104)][a(331)](t)||this[a(327)][a(285)](t,s)}}}var _0x510397=_0x4bae;function _0x1182(){var c=["isPremiumPlugin","16209BauQFu","14425TWoVnq","604XPhwAy","isOfficialPlugin","RealTimeCollaborativeEditing","407890OSRbZA","231CknJqE","1096xdyOAZ","1503552sIOFpx","pluginName","2323349hrDivA","248784TsrbRU","3awYOzv","requires","1029531ypKRsU"];return _0x1182=function(){return c},_0x1182()}(function(c,n){for(var s=_0x4bae,a=c();;)try{var o=parseInt(s(304))/1*(-parseInt(s(303))/2)+parseInt(s(306))/3+parseInt(s(294))/4*(-parseInt(s(293))/5)+-parseInt(s(300))/6+parseInt(s(302))/7+parseInt(s(299))/8*(-parseInt(s(292))/9)+parseInt(s(297))/10*(parseInt(s(298))/11);if(o===n)break;a.push(a.shift())}catch{a.push(a.shift())}})(_0x1182,225513);function _0x4bae(c,n){var s=_0x1182();return _0x4bae=function(a,o){a=a-292;var t=s[a];return t},_0x4bae(c,n)}class RealTimeCollaborativeEditing extends Plugin{static get[_0x510397(305)](){return[RealTimeCollaborationClient]}static get[_0x510397(301)](){var n=_0x510397;return n(296)}static get[_0x510397(295)](){return!0}static get[_0x510397(307)](){return!0}}const _0x410e11=_0x5e47;(function(c,n){const s=_0x5e47,a=c();for(;;)try{if(-parseInt(s(207))/1*(-parseInt(s(211))/2)+parseInt(s(190))/3+-parseInt(s(249))/4*(parseInt(s(179))/5)+-parseInt(s(275))/6+-parseInt(s(203))/7*(-parseInt(s(229))/8)+-parseInt(s(244))/9+parseInt(s(210))/10===n)break;a.push(a.shift())}catch{a.push(a.shift())}})(_0x2867,475104);function _0x5e47(c,n){const s=_0x2867();return _0x5e47=function(a,o){return a=a-179,s[a]},_0x5e47(c,n)}function _0x2867(){const c=["message","isOfficialPlugin","updateCommentThread","set","CommentsService","catch","keys","requires","unregister","createdAt","getUser","addComment","cloudservicescommentsadapter-disconnect-not-exist","65880DoYKMa","getCommentThread","from","get","_connectService","4PBryHL","getConnectedSessions","commentId","_getService","commentAdded","cloud-services-internal-error: Not connected.","connect","register","deletedAt","cloudservicescommentsadapter-service-not-exist","update","disconnect","context","startsWith","Permissions","listenTo","isPremiumPlugin","init","addCommentThread","destroy","commentRemoved","comments","getCommentThreads","permissions","setPermissions","pluginName","1720860ylCWFj","_fetchMissingUsersForThreads","assign","commentThreadUpdated","commentThreadId","add","1997955DRkMYz","reopenCommentThread","commentThreadRemoved","off","cloud-services-internal-error: Comments Service is not connected.","attributes","_services","plugins","resolvedAt","_setUpService","_terminateService","316290TwFBuF","resolvedBy","updateComment","404","reopen","collaboration.channelId","size","remove","CloudServicesCommentsAdapter","cloud-services-internal-error: Request timeout.","removeComment","reconnect","getMany","338905YfDWow","config","addToReconnectionStack","mySessionId","1roQinn","cloudservicescommentsadapter-connect-already-connected","commentThreadResolved","7888060oqyEay","65028qpVLVA","commentUpdated","userId","getComment","map","resolveCommentThread","sessionAdd:","delete","code","content","CommentsRepository","removeCommentThread","addUser","adapter","authorId","commentThreadAdded","commentThreadReopened","has","40QCUysn","resolve"];return _0x2867=function(){return c},_0x2867()}class CloudServicesCommentsAdapter extends ContextPlugin{static[_0x410e11(235)]=CommentsService;[_0x410e11(185)];static get[_0x410e11(238)](){return[WebSocketGateway,_0x410e11(221),Sessions,Users]}static get[_0x410e11(274)](){return _0x410e11(198)}static get[_0x410e11(232)](){return!0}static get[_0x410e11(265)](){return!0}constructor(n){const s=_0x410e11;super(n),this[s(185)]=new Map}async[_0x410e11(266)](){const n=_0x410e11,s=this[n(261)],a=s[n(186)][n(247)](n(221));if(s[n(186)][n(247)](WebSocketGateway)[n(205)](this),a[n(224)]={addCommentThread:async({channelId:o,threadId:t,comments:e,resolvedAt:r,resolvedBy:d,context:u,attributes:l})=>{const m=n,h=await this[m(252)](o)[m(267)]({commentThreadId:t,comments:e[m(215)](g=>(function(y,S,T){const w=m;return{commentThreadId:T,commentId:y[w(251)],userId:y[w(225)],content:y[w(220)],documentId:S,createdAt:y[w(240)],attributes:y[w(184)]||{}}})(g,o,t)),resolvedAt:r,resolvedBy:d,context:u,attributes:l})[m(236)](A$1);return{threadId:h[m(279)],comments:h[m(270)]}},getCommentThread:async({channelId:o,threadId:t})=>{const e=n,r=await this[e(252)](o)[e(245)](t)[e(236)](f)[e(236)](A$1);return r?r[e(257)]?null:(await this[e(276)]([r]),{threadId:r[e(279)],comments:r[e(270)][e(215)](p),context:r[e(261)],resolvedAt:r[e(187)],resolvedBy:r[e(191)],attributes:r[e(184)]||{}}):null},updateCommentThread:async({channelId:o,threadId:t,context:e,unlinkedAt:r,attributes:d})=>this[n(252)](o)[n(233)]({commentThreadId:t,context:e,attributes:d,unlinkedAt:r})[n(236)](f)[n(236)](A$1),resolveCommentThread:async({channelId:o,threadId:t})=>{const e=n,r=await this[e(252)](o)[e(216)](t)[e(236)](f)[e(236)](A$1);return{threadId:r[e(279)],resolvedAt:r[e(187)],resolvedBy:r[e(191)]}},reopenCommentThread:async({channelId:o,threadId:t})=>this[n(252)](o)[n(180)](t)[n(236)](f)[n(236)](A$1),removeCommentThread:({channelId:o,threadId:t})=>this[n(252)](o)[n(222)](t)[n(236)](f)[n(236)](A$1),addComment:({channelId:o,threadId:t,commentId:e,content:r,attributes:d})=>this[n(252)](o)[n(242)](t,e,r,d)[n(236)](A$1),updateComment:({channelId:o,threadId:t,commentId:e,content:r,attributes:d})=>this[n(252)](o)[n(192)](t,e,r,d)[n(236)](f)[n(236)](A$1),removeComment:({channelId:o,threadId:t,commentId:e})=>this[n(252)](o)[n(200)](t,e)[n(236)](f)[n(236)](A$1)},s instanceof Context){const o=s[n(204)][n(247)](n(195)),t=s[n(186)][n(247)](Sessions);await this[n(188)](o);const e=await this[n(185)][n(247)](o)[n(250)]();this[n(264)](t,n(217)+o,(r,{session:d})=>{const u=n;d.id===t[u(206)]&&(r[u(182)](),this[u(261)][u(186)][u(247)](u(263))[u(273)](d[u(272)],o))}),t[n(256)](o,e)}}async[_0x410e11(188)](n){const s=_0x410e11;if(this[s(185)][s(228)](n))throw new CKEditorError(s(208),null,{channelId:n});const a=this[s(261)][s(186)][s(247)](s(221)),o=new CloudServicesCommentsAdapter[s(235)](n);this[s(185)][s(234)](n,o),this[s(264)](o,s(226),(t,e)=>{const r=s,{commentThreadId:d,documentId:u,context:l,attributes:m,resolvedAt:h,resolvedBy:g,comments:y}=e;a[r(245)](d)||a[r(267)]({threadId:d,channelId:u,comments:y?y[r(215)](p):[],context:l,attributes:m,resolvedAt:h,resolvedBy:g,isFromAdapter:!0})}),this[s(264)](o,s(278),(t,{commentThreadId:e,documentId:r,context:d,unlinkedAt:u,attributes:l})=>{const m=s;a[m(245)](e)&&a[m(233)]({threadId:e,channelId:r,context:d,unlinkedAt:u,attributes:l,isFromAdapter:!0})}),this[s(264)](o,s(209),(t,{commentThreadId:e,resolvedBy:r,resolvedAt:d})=>{const u=s,l=a[u(245)](e);l&&l[u(230)]({resolvedBy:r,resolvedAt:d,isFromAdapter:!0})}),this[s(264)](o,s(227),(t,{commentThreadId:e})=>{const r=s,d=a[r(245)](e);d&&d[r(194)]({isFromAdapter:!0})}),this[s(264)](o,s(181),(t,{commentThreadId:e})=>{const r=s,d=a[r(245)](e);d&&d[r(197)]({isFromAdapter:!0})}),this[s(264)](o,s(253),(t,e)=>{const r=s,d=e[r(279)],u=a[r(245)](d);u&&u[r(242)]({...p(e),isFromAdapter:!0})}),this[s(264)](o,s(212),(t,{commentThreadId:e,commentId:r,content:d,attributes:u})=>{const l=s,m=a[l(245)](e);if(m){const h=m[l(214)](r);h&&h[l(259)]({content:d,attributes:u,isFromAdapter:!0})}}),this[s(264)](o,s(269),(t,{commentThreadId:e,commentId:r})=>{const d=s,u=a[d(245)](e);if(u){const l=u[d(214)](r);l&&l[d(197)]({isFromAdapter:!0})}}),await this[s(248)](n)}[_0x410e11(268)](){const n=_0x410e11;if(this[n(261)]instanceof Context){const s=this[n(261)][n(204)][n(247)](n(195));this[n(189)](s)}}[_0x410e11(189)](n){const s=_0x410e11;if(!this[s(185)][s(228)](n))throw new CKEditorError(s(243),null,{channelId:n});this[s(252)](n)[s(260)](),this[s(185)][s(218)](n)}async[_0x410e11(201)](){const n=_0x410e11;for(const s of this[n(185)][n(237)]())await this[n(248)](s);if(this[n(261)]instanceof Context){const s=this[n(261)][n(204)][n(247)](n(195)),a=this[n(261)][n(186)][n(247)](Sessions);a[n(239)](s);const o=await this[n(185)][n(247)](s)[n(250)]();a[n(256)](s,o)}}async[_0x410e11(248)](n){const s=_0x410e11,{connection:a}=this[s(261)][s(186)][s(247)](WebSocketGateway),o=this[s(261)][s(186)][s(247)](s(221)),t=this[s(185)][s(247)](n),e=await t[s(255)](a);await this[s(276)](e);const r=new Set(Array[s(246)](o[s(271)]({channelId:n}),d=>d.id));for(const d of e)d[s(257)]||r[s(218)](d[s(279)]);for(const d of r)o[s(245)](d)[s(197)]({isFromAdapter:!0});for(const d of e){let u=o[s(245)](d[s(279)]);const{commentThreadId:l,context:m,attributes:h,resolvedBy:g,resolvedAt:y,unlinkedAt:S,deletedAt:T}=d;if(T)continue;u||(u=o[s(267)]({channelId:n,threadId:l,context:m,attributes:h||{},resolvedBy:g,resolvedAt:y,unlinkedAt:S,isFromAdapter:!0}));const w=new Set(Array[s(246)](u[s(270)],I=>I.id));for(const I of d[s(270)])w[s(218)](I[s(251)]);for(const I of w)u[s(214)](I)[s(197)]({isFromAdapter:!0});for(const I of d[s(270)]){const O=u[s(214)](I[s(251)]);O?O[s(220)]!==I[s(220)]&&O[s(259)]({content:I[s(220)],isFromAdapter:!0}):u[s(242)](Object[s(277)](p(I),{isFromAdapter:!0}))}}}[_0x410e11(252)](n){const s=_0x410e11;if(!this[s(185)][s(228)](n))throw new CKEditorError(s(258),null,{channelId:n});return this[s(185)][s(247)](n)}async[_0x410e11(276)](n){const s=_0x410e11,a=this[s(261)][s(186)][s(247)](Users),{connection:o}=this[s(261)][s(186)][s(247)](WebSocketGateway),t=new Set;for(const{resolvedBy:r,comments:d}of n){r&&!a[s(241)](r)&&t[s(280)](r);for(const{userId:u}of d)a[s(241)](u)||t[s(280)](u)}if(t[s(196)]===0)return;const e=await User[s(202)](o,Array[s(246)](t));for(const r of e)a[s(241)](r.id)||a[s(223)](r)}}async function f(c){const n=_0x410e11;if(n(193)!==c[n(219)])throw c}function A$1(c){const n=_0x410e11;if((s=c)[n(231)][n(262)](n(183))||s[n(231)][n(262)](n(254))||s[n(231)][n(262)](n(199)))return new Promise(()=>{});var s;throw c}function p(c){const n=_0x410e11;return{threadId:c[n(279)],commentId:c[n(251)],content:c[n(220)],createdAt:c[n(240)],authorId:c[n(213)],attributes:c[n(184)]||{}}}const _0x1de2f8=_0x4cb8;(function(c,n){const s=_0x4cb8,a=c();for(;;)try{if(-parseInt(s(499))/1+parseInt(s(515))/2+-parseInt(s(533))/3*(parseInt(s(517))/4)+-parseInt(s(540))/5+-parseInt(s(524))/6+parseInt(s(553))/7+parseInt(s(514))/8===n)break;a.push(a.shift())}catch{a.push(a.shift())}})(_0x5d5f,663157);function _0x4cb8(c,n){const s=_0x5d5f();return _0x4cb8=function(a,o){return a=a-495,s[a]},_0x4cb8(c,n)}class CloudServicesTrackChangesAdapter extends Plugin{static[_0x1de2f8(527)]=TrackChangesService;[_0x1de2f8(498)];[_0x1de2f8(549)];static get[_0x1de2f8(529)](){return[CloudServicesCommentsAdapter,_0x1de2f8(511),WebSocketGateway]}static get[_0x1de2f8(519)](){return _0x1de2f8(523)}static get[_0x1de2f8(539)](){return!0}static get[_0x1de2f8(522)](){return!0}constructor(n){const s=_0x1de2f8;super(n);const a=this[s(502)][s(504)][s(507)](s(526));this[s(498)]=new Map,this[s(549)]=new CloudServicesTrackChangesAdapter[s(527)](a)}[_0x1de2f8(510)](){const n=_0x1de2f8,s=this[n(502)][n(544)][n(507)](WebSocketGateway),a=this[n(502)][n(544)][n(507)](n(511));return a[n(534)]={getSuggestion:async o=>{const t=n;await this[t(551)]();const e=await this[t(549)][t(507)](o)[t(535)](A);return await this[t(508)]([e]),e},addSuggestion:async({id:o,type:t,data:e,originalSuggestionId:r,attributes:d})=>{const u=n;await this[u(551)]();const l={id:o,type:t,data:e,originalSuggestionId:r,attributes:d},m=await this[u(549)][u(509)](o,t,e,r,d)[u(535)](h=>{if(M$1(h))return new Promise(g=>{const y=_0x4cb8;this[y(498)][y(552)](o,{resolve:g,suggestionData:l})});throw h});return this[u(498)][u(520)](o),m},updateSuggestion:async(o,t)=>{const e=n;if(await this[e(551)](),e(536)!==t[e(542)])return this[e(549)][e(548)](o,t)[e(535)](A)}},this[n(503)](this[n(549)],n(538),(o,t)=>{const e=n;a[e(496)](t.id)&&(a[e(513)](t.id)[e(537)]=t[e(537)])}),this[n(549)][n(532)](s[n(545)])[n(543)](o=>(s[n(541)](this),this[n(508)](o)[n(543)](()=>{const t=n;for(const e of o)a[t(501)](e)[t(516)]=!0})))}async[_0x1de2f8(521)](){const n=_0x1de2f8,s=this[n(502)][n(544)][n(507)](n(511)),{connection:a}=this[n(502)][n(544)][n(507)](WebSocketGateway),o=await this[n(549)][n(532)](a);await this[n(508)](o);for(const{suggestionData:t,resolve:e}of this[n(498)][n(550)]()){let r=o[n(506)](d=>d.id===t.id);r||(r=await this[n(549)][n(509)](t.id,t[n(547)],t[n(530)],t[n(500)])),e(r)}for(const t of o)s[n(496)](t.id)||s[n(501)](t)}async[_0x1de2f8(551)](){const n=_0x1de2f8;this[n(549)][n(518)]||await new Promise(s=>{const a=n;this[a(503)](this[a(549)],a(512),o=>{o[a(546)](),s()})})}async[_0x1de2f8(508)](n){const s=_0x1de2f8,a=this[s(502)][s(544)][s(507)](Users),{connection:o}=this[s(502)][s(544)][s(507)](WebSocketGateway),t=new Set;for(const{authorId:r}of n)a[s(505)](r)||t[s(509)](r);if(t[s(497)]===0)return;const e=await User[s(554)](o,Array[s(495)](t));for(const r of e)a[s(505)](r.id)||a[s(555)](r)}}function _0x5d5f(){const c=["update","_trackChangesService","values","_waitForServiceReady","set","7308525uZfcTW","getMany","addUser","cloud-services-internal-error: Not connected.","from","hasSuggestion","size","_bufferedRequests","653285QBHaWy","originalSuggestionId","addSuggestionData","editor","listenTo","config","getUser","find","get","_fetchMissingUsersForThreads","add","init","TrackChangesEditing","connected","getSuggestion","15437656COaqDn","2420550jlysNF","_saved","421556uAvthS","isConnected","pluginName","delete","reconnect","isPremiumPlugin","CloudServicesTrackChangesAdapter","3321264fHizGo","message","collaboration.channelId","TrackChangesService","cloud-services-internal-error: Request timeout.","requires","data","startsWith","connect","33ZRJbov","adapter","catch","open","attributes","suggestionUpdated","isOfficialPlugin","5773960kXFKlp","addToReconnectionStack","state","then","plugins","connection","off","type"];return _0x5d5f=function(){return c},_0x5d5f()}function A(c){if(M$1(c))return new Promise(()=>{});throw c}function M$1(c){const n=_0x1de2f8;return c[n(525)][n(531)](n(556))||c[n(525)][n(531)](n(528))}const _0x573e11=_0x3c4a;(function(c,n){const s=_0x3c4a,a=c();for(;;)try{if(parseInt(s(163))/1+-parseInt(s(168))/2*(parseInt(s(177))/3)+-parseInt(s(170))/4*(parseInt(s(161))/5)+parseInt(s(175))/6*(parseInt(s(171))/7)+parseInt(s(193))/8+-parseInt(s(195))/9*(-parseInt(s(166))/10)+parseInt(s(187))/11*(-parseInt(s(196))/12)===n)break;a.push(a.shift())}catch{a.push(a.shift())}})(_0x3705,610044);function _0x3c4a(c,n){const s=_0x3705();return _0x3c4a=function(a,o){return a=a-161,s[a]},_0x3c4a(c,n)}class RealTimeCollaborativeComments extends Plugin{static get[_0x573e11(183)](){return[_0x573e11(190),CloudServicesCommentsAdapter,RealTimeCollaborativeEditing,WebSocketGateway]}static get[_0x573e11(192)](){return _0x573e11(186)}static get[_0x573e11(191)](){return!0}static get[_0x573e11(172)](){return!0}[_0x573e11(182)](){const n=_0x573e11,s=this[n(164)][n(194)][n(197)](WebSocketGateway),a=this[n(164)][n(194)][n(197)](n(174)),o=this[n(164)][n(194)][n(197)](CloudServicesCommentsAdapter);return this[n(164)][n(167)][n(169)](n(173),()=>{const t=n;this[t(188)](s,t(179),(e,r,d)=>{const u=t;a[u(178)]=u(162)!==d})}),this[n(188)](s,n(179),(t,e,r)=>{const d=n;this[d(164)][d(194)][d(197)](d(180))[d(165)](d(162)!==r)}),o[n(189)](this[n(164)][n(185)][n(197)](n(181)))}[_0x573e11(176)](){const n=_0x573e11;this[n(164)][n(194)][n(197)](CloudServicesCommentsAdapter)[n(184)](this[n(164)][n(185)][n(197)](n(181))),super[n(176)]()}}function _0x3705(){const c=["5ixZurG","connected","274943udpeGH","editor","switchReadOnly","1203810XvUoUm","data","21402AXzdnO","once","1060432ZNNvHH","245CLTbbu","isPremiumPlugin","ready","CommentsEditing","1962QtIVZp","destroy","6MuAIyL","isThreadsLoadingPaused","change:state","CommentsRepository","collaboration.channelId","init","requires","_terminateService","config","RealTimeCollaborativeComments","738111EiGnna","listenTo","_setUpService","Comments","isOfficialPlugin","pluginName","4139416spdwGw","plugins","27GHhIdt","48mUTnTl","get"];return _0x3705=function(){return c},_0x3705()}var _0x169836=_0x27fb;(function(c,n){for(var s=_0x27fb,a=c();;)try{var o=-parseInt(s(114))/1*(-parseInt(s(103))/2)+-parseInt(s(117))/3*(parseInt(s(108))/4)+parseInt(s(106))/5+-parseInt(s(107))/6+parseInt(s(109))/7*(parseInt(s(112))/8)+parseInt(s(102))/9+parseInt(s(116))/10;if(o===n)break;a.push(a.shift())}catch{a.push(a.shift())}})(_0xda25,213695);function _0x27fb(c,n){var s=_0xda25();return _0x27fb=function(a,o){a=a-102;var t=s[a];return t},_0x27fb(c,n)}function _0xda25(){var c=["1PvbspX","isOfficialPlugin","1279280mhWiDl","3450hiulpH","814851pLIvQC","758462jflXfc","RealTimeCollaborativeTrackChanges","isPremiumPlugin","53390XPCCRX","2434776vsRmIt","388ApXrDZ","858655XXhRxW","TrackChanges","pluginName","8pkXZyq","requires"];return _0xda25=function(){return c},_0xda25()}class RealTimeCollaborativeTrackChanges extends Plugin{static get[_0x169836(113)](){var n=_0x169836;return[RealTimeCollaborativeComments,CloudServicesTrackChangesAdapter,n(110)]}static get[_0x169836(111)](){var n=_0x169836;return n(104)}static get[_0x169836(115)](){return!0}static get[_0x169836(105)](){return!0}}const _0x412485=_0x36ad;(function(c,n){const s=_0x36ad,a=c();for(;;)try{if(parseInt(s(366))/1+-parseInt(s(437))/2*(parseInt(s(383))/3)+-parseInt(s(359))/4+-parseInt(s(424))/5+parseInt(s(404))/6+-parseInt(s(395))/7+-parseInt(s(392))/8*(-parseInt(s(401))/9)===n)break;a.push(a.shift())}catch{a.push(a.shift())}})(_0x4589,926490);function _0x4589(){const c=["connection","cloud-services-internal-error: Not connected.","keys","reverse","wrongRequestId","requires","connected","addRevisionData","map","isEmptyCurrent","_startingVersion","config","data","getMany","isBundleUploaded","getRevisions","bind","remove","RevisionHistory","_fetchMissingUsers","cloud-services-internal-error: Revision History Service is not connected.","collaboration.channelId","updateRevisions","_bufferUpdate","getOperations","RevisionTracker","setRevisionData","startsWith","get","code","state","CONNECTED","adapter","catch","5839452SfoqFc","buildRevisionData","_revisionDataBuilder","revisionsUpdated","destroy","add","_revisionTracker","400469Aqjpsp","editor","diffData","cloudServices.bundleVersion","addToReconnectionStack","isEnabled","baseVersion","reInit","_waitForServiceReady","_lastRequestId","reconnect","plugins","isConnected","400","creatorId","pluginName","_handleRevisionsUpdate","2270604dGjavA","then","fromVersion","once","getRevision","sendBufferedUpdates","currentRevision","has","_isConnected","136JzswgG","type","authors","10417400KAHbsb","_fixRevision","change:_isPendingUpdate","setSource","marker","_update","2146617xnJloE","from","createdAt","10291332KfoumC","serverHistory","_isPendingUpdate","CloudServicesRevisionHistoryAdapter","_handleReconnectionError","isOfficialPlugin","repository","_getLatestVersionFromServerOperations","affectsData","size","addUser","off","cloud-services-internal-error: Request timeout.","getUser","_getLatestVersion","authorsIds","sessionId","_oldOffset","_offset","length","3910615WUCwIu","message","_revisionHistoryService","connect","_createCurrentRevision","_bufferedUpdates","_revisions","isPremiumPlugin","max","init","toVersion","_preventResendingRevisionData","listenTo","4mEiinD","change:_isConnected","RevisionHistoryService"];return _0x4589=function(){return c},_0x4589()}function _0x36ad(c,n){const s=_0x4589();return _0x36ad=function(a,o){return a=a-344,s[a]},_0x36ad(c,n)}class CloudServicesRevisionHistoryAdapter extends Plugin{static[_0x412485(439)]=RevisionHistoryService;[_0x412485(375)];[_0x412485(365)];[_0x412485(426)];[_0x412485(421)];static get[_0x412485(445)](){return[WebSocketGateway,RealTimeCollaborationClient,_0x412485(458),Sessions,Users]}static get[_0x412485(381)](){return _0x412485(407)}static get[_0x412485(409)](){return!0}static get[_0x412485(431)](){return!0}constructor(n){const s=_0x412485;super(n);const a=this[s(367)][s(451)][s(353)](s(346));this[s(375)]=null,this[s(365)]=this[s(367)][s(377)][s(353)](s(350)),this[s(426)]=new CloudServicesRevisionHistoryAdapter[s(439)](a)}async[_0x412485(433)](){const n=_0x412485,s=this[n(367)][n(377)][n(353)](RealTimeCollaborationClient),a=s[n(405)],o=this[n(367)][n(377)][n(353)](WebSocketGateway);this[n(365)][n(398)]({history:a,getLatestVersion:()=>this[n(418)](),getCurrentRevisionId:()=>s[n(420)]});const t=this[n(367)][n(451)][n(353)](n(369))||version,e=await EditorService[n(454)](o[n(440)],t);this[n(367)][n(377)][n(353)](n(458))[n(357)]={getRevision:async({revisionId:u})=>(await this[n(374)](),await this[n(426)][n(387)](u)),updateRevisions:async u=>{const l=n;await this[l(374)]();const m=this[l(365)][l(389)];if(e&&u[l(423)]===1&&u[0].id===m.id)return u;for(const h of u)h.id===m.id&&(h[l(449)]=h[l(385)]===h[l(434)]);return this[l(426)][l(347)](u,this[l(375)])[l(384)](h=>(this[l(375)]=h,u))[l(358)](h=>{const g=l;if(M(h)||g(379)===h[g(354)]&&h[g(452)][g(444)]!==void 0){for(const y of u)!this[g(365)][g(410)][g(387)](y.id)||this[g(365)][g(348)](y.id,y,!1);if(M(h))throw h;return u}throw h})}},this[n(436)](this[n(426)],n(362),(u,{revisionsData:l,requestId:m})=>{const h=n;Math[h(432)](...l[h(448)](g=>g[h(434)]))>this[h(411)]()-1?this[h(418)]()[h(384)](()=>{this[h(382)](l,m)}):this[h(382)](l,m)});const{revisions:r,requestId:d}=await this[n(426)][n(427)](o[n(440)]);o[n(370)](this),this[n(375)]=d,await this[n(344)](r);for(const u of r)this[n(365)][n(447)](u);this[n(436)](s,n(438),(u,l,m)=>{const h=n;m&&(this[h(421)]=s[h(422)],u[h(415)]())}),this[n(365)][n(456)](n(371)).to(o,n(355),u=>u===WEB_SOCKET_GATEWAY_STATES[n(356)])}async[_0x412485(376)](){const n=_0x412485,s=this[n(367)][n(377)][n(353)](WebSocketGateway),a=this[n(367)][n(377)][n(353)](RealTimeCollaborationClient),o=async()=>{const t=n,e=this[t(365)][t(389)],r=e.id,d=r!==a[t(420)];if(d){const m=a[t(422)]-this[t(421)],h=this[t(411)]();if(this[t(365)][t(361)][t(373)](),e[t(434)]+m!==h){const g=e[t(385)]+m,y=this[t(367)][t(377)][t(353)](Users),S=this[t(365)][t(360)]({revision:e,from:g,to:h});S.id=e.id;const T=S[t(419)][t(448)](w=>y[t(417)](w));e[t(400)]({...S,authors:T},!0),this[t(365)][t(348)](e.id,S,!0)}this[t(365)][t(450)]=h,e[t(434)]===e[t(385)]&&!this[t(365)][t(429)][t(390)](r)&&this[t(365)][t(410)][t(430)][t(457)](r),this[t(365)][t(428)](h)}const{revisions:u,requestId:l}=await this[t(426)][t(376)](s[t(440)],this[t(375)]);d&&u[t(423)]>0?a[t(408)]():(await this[t(344)](u),this[t(382)](u,l),this[t(365)][t(388)]())};return a[n(391)]?o():new Promise((t,e)=>{const r=n;a[r(386)](r(438),()=>{const d=r;o()[d(384)](t)[d(358)](e)})})}[_0x412485(363)](){const n=_0x412485;super[n(363)]()}async[_0x412485(374)](){const n=_0x412485;this[n(426)][n(378)]||await new Promise(s=>{const a=n;this[a(436)](this[a(426)],a(446),o=>{o[a(415)](),s()})})}[_0x412485(411)](){const n=_0x412485,s=this[n(367)][n(377)][n(353)](RealTimeCollaborationClient)[n(405)][n(349)]()[n(443)]();for(const a of s)if(n(399)!==a[n(393)]||a[n(412)])return a[n(372)]+1}[_0x412485(418)](){const n=_0x412485,s=this[n(367)][n(377)][n(353)](RealTimeCollaborationClient);return new Promise(a=>{const o=n;s[o(406)]?s[o(386)](o(397),()=>{a(this[o(411)]())}):a(this[o(411)]())})}[_0x412485(382)](n,s){const a=_0x412485,o=this[a(365)][a(410)];this[a(375)]=s;for(const e of n){const r=o[a(387)](e.id);if(r){if((e[a(385)]||e[a(434)])&&(e[a(368)]=null),r===this[a(365)][a(389)]){const d=Math[a(432)](r[a(434)],e[a(434)]),u=Math[a(432)](r[a(385)],e[a(385)]);let l;r[a(434)]===e[a(434)]&&r[a(385)]===e[a(385)]?(l=!0,this[a(435)](e)):e[a(434)]===d&&e[a(385)]===u?l=!1:(r[a(434)]===d&&r[a(385)]===u||this[a(396)]({revision:r,from:u,to:d}),l=!0),l&&(delete e[a(385)],delete e[a(434)],delete e[a(368)],delete e[a(403)],delete e[a(419)])}this[a(365)][a(351)](e),this[a(435)](e)}else this[a(365)][a(447)](e)}const t=o[a(455)]();t[a(443)]();for(let e=0;e<t[a(423)]-1;e++){const r=t[e],d=t[e+1];if(r[a(385)]<d[a(434)]){const u=d[a(434)],l=Math[a(432)](u,r[a(434)]);this[a(396)]({revision:r,from:u,to:l})}}}[_0x412485(396)]({revision:n,from:s,to:a}={}){const o=_0x412485,t=this[o(367)][o(377)][o(353)](Users),e=this[o(365)][o(360)]({revision:n,from:s,to:a});e[o(394)]=e[o(419)][o(448)](r=>t[o(417)](r)),n[o(400)](e)}[_0x412485(435)](n){const s=_0x412485,a={};a.id=n.id;for(const o of Object[s(442)](n))o!=="id"&&(a[o]=void 0);this[s(365)][s(348)](a.id,a,!0)}async[_0x412485(344)](n){const s=_0x412485,a=this[s(367)][s(377)][s(353)](Users),{connection:o}=this[s(367)][s(377)][s(353)](WebSocketGateway),t=new Set;for(const d of n){for(const u of d[s(419)])r(u);d[s(380)]&&r(d[s(380)])}if(t[s(413)]===0)return;const e=await User[s(453)](o,Array[s(402)](t));for(const d of e)a[s(417)](d.id)||a[s(414)](d);function r(d){const u=s;a[u(417)](d)||t[u(364)](d)}}}function M(c){const n=_0x412485;return c[n(425)][n(352)](n(345))||c[n(425)][n(352)](n(441))||c[n(425)][n(352)](n(416))}var _0x399547=_0x2293;(function(c,n){for(var s=_0x2293,a=c();;)try{var o=-parseInt(s(119))/1*(-parseInt(s(133))/2)+parseInt(s(130))/3+parseInt(s(123))/4*(-parseInt(s(127))/5)+-parseInt(s(125))/6+parseInt(s(132))/7*(-parseInt(s(129))/8)+parseInt(s(126))/9*(-parseInt(s(120))/10)+parseInt(s(124))/11*(parseInt(s(128))/12);if(o===n)break;a.push(a.shift())}catch{a.push(a.shift())}})(_0x5df5,320187);function _0x2293(c,n){var s=_0x5df5();return _0x2293=function(a,o){a=a-118;var t=s[a];return t},_0x2293(c,n)}function _0x5df5(){var c=["requires","RevisionHistory","4ElMSBE","317845QtVXbb","1878036PtvFMO","198XAupIy","1192535TlnBYO","408YkhCjm","1110392YnNoGg","1171884fFvNTw","isPremiumPlugin","7rZQuar","15434GlapeD","pluginName","isOfficialPlugin","RealTimeCollaborativeRevisionHistory","35DceaYS","287570xibdlw"];return _0x5df5=function(){return c},_0x5df5()}class RealTimeCollaborativeRevisionHistory extends Plugin{static get[_0x399547(121)](){var n=_0x399547;return[n(122),CloudServicesRevisionHistoryAdapter,RealTimeCollaborativeEditing]}static get[_0x399547(134)](){var n=_0x399547;return n(118)}static get[_0x399547(135)](){return!0}static get[_0x399547(131)](){return!0}}function isObjectLike(c){return typeof c=="object"&&c!==null}function isPlainObject(c){if(typeof c!="object"||c==null)return!1;if(Object.getPrototypeOf(c)===null)return!0;if(Object.prototype.toString.call(c)!=="[object Object]"){const s=c[Symbol.toStringTag];return s==null||!Object.getOwnPropertyDescriptor(c,Symbol.toStringTag)?.writable?!1:c.toString()===`[object ${s}]`}let n=c;for(;Object.getPrototypeOf(n)!==null;)n=Object.getPrototypeOf(n);return Object.getPrototypeOf(c)===n}function isElement(c){return isObjectLike(c)&&c.nodeType===1&&!isPlainObject(c)}function _0x1dd1(){const c=["usersCount","bind","9oOUwop","793355WkrbzH","listitem","toString","755280HqLbKJ","ck-presence-list__list-item","_collapseAt","isHidden","set","ck-presence-list__counter--hidden","1093036xYdtkn","14yhwAkG","ck-presence-list__users-counter","setTemplate","9AeLEWQ","div","3920384MViUfN","1096934xMZaHS","ck-presence-list__users-counter__text","7286650BLfXHe","bindTemplate","2039574bxSFbb"];return _0x1dd1=function(){return c},_0x1dd1()}const _0x36c10a=_0xa83f;(function(c,n){const s=_0xa83f,a=c();for(;;)try{if(-parseInt(s(435))/1+-parseInt(s(424))/2+-parseInt(s(421))/3*(-parseInt(s(441))/4)+parseInt(s(432))/5+parseInt(s(428))/6*(parseInt(s(442))/7)+-parseInt(s(423))/8+-parseInt(s(431))/9*(-parseInt(s(426))/10)===n)break;a.push(a.shift())}catch{a.push(a.shift())}})(_0x1dd1,593176);function _0xa83f(c,n){const s=_0x1dd1();return _0xa83f=function(a,o){return a=a-420,s[a]},_0xa83f(c,n)}class PresenceCounterView extends View{[_0x36c10a(437)];constructor(n,s=6){const a=_0x36c10a;super(n);const o=this[a(427)];this[a(439)](a(438),!0),this[a(439)](a(429),0),this[a(437)]=s,this[a(430)](a(438)).to(this,a(429),t=>t<s),this[a(420)]({tag:a(422),attributes:{class:["ck",a(436),o.if(a(438),a(440))],role:a(433)},children:[{tag:a(422),attributes:{class:["ck",a(443)]},children:[{tag:a(422),attributes:{class:["ck",a(425)]},children:[{text:o.to(a(429),t=>"+"+(t-this[a(437)]+2)[a(434)]())}]}]}]})}}function _0x30d9(c,n){const s=_0x26a6();return _0x30d9=function(a,o){return a=a-443,s[a]},_0x30d9(c,n)}const _0x1bdd93=_0x30d9;(function(c,n){const s=_0x30d9,a=c();for(;;)try{if(-parseInt(s(451))/1*(parseInt(s(458))/2)+-parseInt(s(481))/3+-parseInt(s(446))/4*(parseInt(s(462))/5)+-parseInt(s(479))/6+parseInt(s(472))/7+parseInt(s(448))/8*(-parseInt(s(450))/9)+parseInt(s(452))/10===n)break;a.push(a.shift())}catch{a.push(a.shift())}})(_0x26a6,937986);function _0x26a6(){const c=["element","1843016DtQAGg","items","isExpanded","list","presencelist:hide","removeAttribute","set","10993788AVQwza","focus","5271807aHLOYq","hasPopup","bindTemplate","listenTo","20dmAFtx","createCollection","256PSLmmo","ck-presence-list__list","138789HBCZID","11mXWUmk","67349330yntpbm","keystrokes","contains",".ck-presence-list__dropdown-list","fire","Collapsed connected users list (press ENTER to open it)","264362YarpWb","change:hasPopup","querySelector",".ck-balloon-panel_with-arrow","523205ldfnkX","div","setTemplate","Connected users list","aria-expanded","relatedTarget","render","setAttribute","presencelist:show"];return _0x26a6=function(){return c},_0x26a6()}class PresenceInlineListView extends View{[_0x1bdd93(473)];[_0x1bdd93(453)];constructor(n){const s=_0x1bdd93;super(n);const a=this[s(444)];this[s(473)]=this[s(447)](),this[s(453)]=new KeystrokeHandler,this[s(478)]({hasPopup:!1,isExpanded:!1}),this[s(464)]({tag:s(463),attributes:{"aria-haspopup":a.if(s(443)),"aria-expanded":a.to(s(474),o=>this[s(443)]&&String(o)),"aria-label":a.to(s(443),o=>getTranslation(n,s(o?457:465))),role:s(475),tabindex:a.to(s(443),o=>!!o&&0),class:["ck",s(449)]},children:this[s(473)],on:{mouseenter:a.to(()=>this[s(456)](s(470))),mouseleave:a.to(o=>{const t=s,e=o,r=document[t(460)](t(455)),d=document[t(460)](t(461));r?.[t(454)](e[t(467)])||d?.[t(454)](e[t(467)])||this[t(456)](t(476))})}}),this.on(s(459),(o,t,e)=>{const r=s;this[r(471)]&&(e?this[r(471)][r(469)](r(466),String(this[r(474)])):this[r(471)][r(477)](r(466)))})}[_0x1bdd93(480)](){const n=_0x1bdd93;this[n(471)][n(480)]()}[_0x1bdd93(468)](){const n=_0x1bdd93;super[n(468)](),this[n(453)][n(445)](this[n(471)])}}styleInject('.ck.ck-balloon-panel.ck-tooltip{-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none;z-index:calc(var(--ck-z-dialog) + 100)}:root{--ck-color-presence-list-dropdown-background:#fff;--ck-color-presence-list-dropdown-arrow-border:#ebebeb;--ck-presence-list-dropdown-list-max-width:250px;--ck-presence-list-dropdown-list-min-width:180px;--ck-presence-list-users-tooltip-max-width:120px;--ck-presence-list-users-tooltip-min-width:25px}.ck.ck-presence-list{align-items:center;display:inline-flex;font-size:var(--ck-font-size-base);margin-right:var(--ck-spacing-standard);transition:margin-right .2s ease-in-out}.ck.ck-presence-list *{box-sizing:border-box}.ck.ck-presence-list__list{display:flex;flex-direction:row;justify-content:flex-end;position:relative}.ck.ck-presence-list__list:after{background:transparent;bottom:-15px;content:"";height:15px;left:0;position:absolute;width:100%}.ck.ck-presence-list__counter--hidden{display:none}.ck.ck-presence-list__list-item{background:none;border:1px solid transparent;color:inherit;font:inherit;margin-left:var(--ck-spacing-medium);outline:none;padding:0;position:relative}.ck.ck-presence-list__list-item:focus{border:var(--ck-focus-ring);border-radius:0;box-shadow:var(--ck-focus-outer-shadow),0 0;outline:none}.ck-rounded-corners .ck.ck-presence-list__list-item:focus,.ck.ck-presence-list__list-item.ck-rounded-corners:focus{border-radius:var(--ck-border-radius)}.ck.ck-presence-list__list-item .ck-label{height:0;overflow:hidden;width:0}.ck.ck-presence-list__list-item:first-child{margin-left:0}.ck.ck-tooltip.ck-presence-list__list-item__tooltip>.ck-tooltip__text{display:inline-block;max-width:var(--ck-presence-list-users-tooltip-max-width);overflow:hidden;text-align:center;text-overflow:ellipsis;white-space:nowrap}.ck.ck-presence-list__marker{display:block;height:3px;margin-top:5px;position:relative;width:100%}.ck-presence-list__balloon button.ck-presence-list__dropdown-list-item *,.ck-presence-list__list button.ck-presence-list__list-item *{cursor:pointer}.ck.ck-presence-list--collapsed .ck-presence-list__list{border:1px solid transparent;min-width:calc(var(--ck-user-avatar-size)*2);padding-left:1px}.ck.ck-presence-list--collapsed .ck-presence-list__list *{cursor:pointer;transition:all .4s ease-in-out}.ck.ck-presence-list--collapsed .ck-presence-list__list:focus{border:var(--ck-focus-ring);border-radius:0;box-shadow:var(--ck-focus-outer-shadow),0 0;outline:none}.ck-rounded-corners .ck.ck-presence-list--collapsed .ck-presence-list__list:focus,.ck.ck-presence-list--collapsed .ck-presence-list__list.ck-rounded-corners:focus{border-radius:var(--ck-border-radius)}.ck.ck-presence-list--collapsed .ck.ck-presence-list__list-item{border:0;margin-left:calc(var(--ck-user-avatar-size)*-.35);padding:0}.ck.ck-presence-list--collapsed .ck.ck-presence-list__list-item:first-child{margin-left:0}.ck.ck-presence-list--collapsed .ck.ck-presence-list__list-item:last-child{order:unset}.ck.ck-presence-list--collapsed .ck.ck-presence-list__list-item .ck-user{--ck-presence-list-avatar-border-color:var(--ck-color-base-foreground);border:2px solid var(--ck-presence-list-avatar-border-color);margin-left:0;margin-right:0}.ck.ck-presence-list--collapsed .ck.ck-presence-list__list-item.ck-presence-list__users-counter{margin-left:0;margin-right:0}.ck.ck-presence-list__balloon{--ck-color-panel-border:var(--ck-color-presence-list-dropdown-arrow-border);--ck-color-panel-background:var(--ck-color-presence-list-dropdown-background);animation:fadeIn .3s ease-in-out;background-color:var(--ck-color-presence-list-dropdown-background);border:0;opacity:1}@media (prefers-reduced-motion:reduce){.ck.ck-presence-list__balloon{animation:none}}.ck.ck-presence-list__balloon ul{background-color:var(--ck-color-presence-list-dropdown-background)}.ck.ck-presence-list__balloon .ck.ck-presence-list__dropdown-list-wrapper{border-radius:var(--ck-border-radius);max-width:var(--ck-presence-list-dropdown-list-max-width);min-width:var(--ck-presence-list-dropdown-list-min-width)}.ck.ck-presence-list__balloon .ck.ck-presence-list__dropdown-list-wrapper.ck-presence-list__dropdown-list-wrapper_scrollable{max-height:80vh;overflow-x:hidden;overflow-y:auto}.ck.ck-presence-list__balloon .ck.ck-presence-list__dropdown-list-item{align-items:center;background:none;border:0;color:inherit;display:flex;font:inherit;outline:none;padding:var(--ck-spacing-standard);position:relative}.ck.ck-presence-list__balloon .ck.ck-presence-list__dropdown-list-item:focus{box-shadow:var(--ck-focus-outer-shadow),0 0;outline:var(--ck-focus-ring);outline-offset:-1px;position:relative;z-index:1}.ck.ck-presence-list__balloon .ck.ck-presence-list__dropdown-list-item:first-of-type .ck-presence-list__marker{border-top-left-radius:var(--ck-border-radius)}.ck.ck-presence-list__balloon .ck.ck-presence-list__dropdown-list-item:last-of-type .ck-presence-list__marker{border-bottom-left-radius:var(--ck-border-radius)}.ck.ck-presence-list__balloon .ck.ck-presence-list__dropdown-list .ck-user__full-name{color:var(--ck-color-base-text);margin-left:var(--ck-spacing-standard);overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.ck.ck-presence-list__balloon .ck.ck-presence-list__dropdown-list .ck.ck-presence-list__marker{height:100%;left:0;margin:0;position:absolute;width:3px}.ck.ck-presence-list__users-counter{--ck-presence-list-counter-border-color:var(--ck-user-avatar-background);--ck-presence-list-counter-background-color:var(--ck-user-avatar-color);align-items:center;background-color:var(--ck-presence-list-counter-background-color);border:2px solid var(--ck-presence-list-counter-border-color);border-radius:50%;box-sizing:border-box;display:flex;height:calc(var(--ck-user-avatar-size) - 4px);justify-content:center;line-height:100%;margin:4px 2px 2px;position:relative;width:calc(var(--ck-user-avatar-size) - 4px)}.ck.ck-presence-list__users-counter__text{--ck-presence-list-counter-text-color:var(--ck-user-avatar-background);color:var(--ck-presence-list-counter-text-color);cursor:default;-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none}@keyframes fadeIn{0%{opacity:0}to{opacity:1}}');const _0x2622ea=_0x5593;(function(c,n){const s=_0x5593,a=c();for(;;)try{if(-parseInt(s(439))/1+parseInt(s(422))/2*(-parseInt(s(426))/3)+parseInt(s(420))/4*(parseInt(s(442))/5)+parseInt(s(433))/6*(parseInt(s(438))/7)+parseInt(s(431))/8*(parseInt(s(428))/9)+-parseInt(s(436))/10*(-parseInt(s(432))/11)+-parseInt(s(447))/12===n)break;a.push(a.shift())}catch{a.push(a.shift())}})(_0x27b9,878066);function _0x27b9(){const c=["tooltipPosition","648549XZXdom","inlineListView","locale","136LKCyzc","3476EFLQbb","65298ZEFjwJ","bindTemplate","ck-reset","13650sqmHWi","div","1050NIWdCz","829908IRvwMr","counterView","ck-rounded-corners","7912085LINCPy","set","first","listenTo","bind","34589160nsWwhs","ck-presence-list--collapsed","hasPopup","ck-presence-list","4tvzQFW","setTemplate","8260PvBSFI","isCollapsed","items","change","204qXJrcr"];return _0x27b9=function(){return c},_0x27b9()}function _0x5593(c,n){const s=_0x27b9();return _0x5593=function(a,o){return a=a-418,s[a]},_0x5593(c,n)}class PresenceListView extends View{[_0x2622ea(440)];[_0x2622ea(429)];constructor(n,s=6){const a=_0x2622ea;super(n);const o=this[a(434)];this[a(443)](a(423),!0),this[a(440)]=new PresenceCounterView(this[a(430)],s),this[a(429)]=new PresenceInlineListView(n),this[a(429)][a(446)](a(418)).to(this,a(423)),this[a(445)](this[a(429)][a(424)],a(425),()=>{const t=a;for(const e of this[t(429)][t(424)])e[t(427)]="s";this[t(429)][t(424)][t(444)]&&(this[t(429)][t(424)][t(444)][t(427)]="se")}),this[a(421)]({tag:a(437),attributes:{class:["ck",a(419),a(435),a(441),o.if(a(423),a(448))]},children:[this[a(429)]]})}}const _0x58aa53=_0x46bf;(function(c,n){const s=_0x46bf,a=c();for(;;)try{if(parseInt(s(447))/1*(parseInt(s(423))/2)+-parseInt(s(456))/3+-parseInt(s(440))/4+parseInt(s(436))/5*(parseInt(s(425))/6)+-parseInt(s(426))/7*(-parseInt(s(424))/8)+-parseInt(s(458))/9+parseInt(s(420))/10===n)break;a.push(a.shift())}catch{a.push(a.shift())}})(_0x3ecc,610858);function _0x3ecc(){const c=[".ck-balloon-panel_with-arrow","ck-presence-list__dropdown-list","checkIfScrollable","relatedTarget","render","3188262cWIRlz","scrollHeight","5546070XGhaCK","listenTo","listWrapperView","_isScrollable",".ck-presence-list__list","items","clientHeight","14273970gjKzEP","ariaLabelledBy","ariaLabel","22FXczFc","72rZnEMA","7764QXiUbc","540099kPPCsq","fire","element","bindTemplate","max","presencelist:hide","role","Connected users list dropdown menu","contains","resize","775wbaBki","change","set","ck-presence-list__dropdown-list-wrapper_scrollable","1576520sPJBpr","ck-presence-list__dropdown-list-wrapper","setTemplate","application","div","window","ck-list","32872STvMJZ","querySelector","innerHeight","ck-reset"];return _0x3ecc=function(){return c},_0x3ecc()}function _0x46bf(c,n){const s=_0x3ecc();return _0x46bf=function(a,o){return a=a-417,s[a]},_0x46bf(c,n)}class PresenceDropdownListView extends View{[_0x58aa53(460)];constructor(n,s){const a=_0x58aa53;super(n);const o=this[a(429)];this[a(460)]=new PresenceDropdownListWrapperView(n,s),this[a(442)]({tag:a(444),attributes:{tabindex:-1,role:a(443),class:["ck",a(452)],"aria-label":getTranslation(n,a(433))},children:[this[a(460)]],on:{mouseleave:o.to(t=>{const e=a,r=t,d=document[e(448)](e(417)),u=document[e(448)](e(451));d?.[e(434)](r[e(454)])||u?.[e(434)](r[e(454)])||this[e(427)](e(431))})}})}}class PresenceDropdownListWrapperView extends ListView{constructor(n,s){const a=_0x58aa53;super(n);const o=this[a(429)];this[a(438)](a(461),!1),this[a(442)]({tag:s?a(444):"ul",attributes:{class:["ck",a(450),a(446),a(441),o.if(a(461),a(439))],role:o.to(a(432)),"aria-label":o.to(a(422)),"aria-labelledby":o.to(a(421))},children:this[a(418)]}),this[a(459)](global$1[a(445)],a(435),()=>this[a(453)]()),this[a(418)].on(a(437),()=>this[a(453)]())}[_0x58aa53(455)](){const n=_0x58aa53;super[n(455)](),this[n(453)]()}[_0x58aa53(453)](){const n=_0x58aa53,s=this[n(428)];s&&(this[n(461)]=Math[n(430)](s[n(457)],s[n(419)])>.8*window[n(449)])}}const _0xf3e479=_0x3816;(function(c,n){const s=_0x3816,a=c();for(;;)try{if(parseInt(s(128))/1*(-parseInt(s(149))/2)+parseInt(s(137))/3*(parseInt(s(142))/4)+-parseInt(s(150))/5*(parseInt(s(136))/6)+parseInt(s(133))/7*(parseInt(s(155))/8)+parseInt(s(154))/9+parseInt(s(135))/10*(-parseInt(s(153))/11)+-parseInt(s(143))/12*(parseInt(s(129))/13)===n)break;a.push(a.shift())}catch{a.push(a.shift())}})(_0x578d,989987);function _0x3816(c,n){const s=_0x578d();return _0x3816=function(a,o){return a=a-126,s[a]},_0x3816(c,n)}function _0x578d(){const c=["2631321xkHMGl","233560rBzQBG","bindTemplate","color","button","1tKbDwg","12213539EAdCVJ","name","ck-presence-list__marker","fire","399agZTas","ck-user__full-name","1168780VXosQd","771306mtekVq","3TaRGLN","tag","element","focus","span","7218196Adxbgc","12BxjSKu","userView","setTemplate","ck-presence-list__dropdown-list-item","presentation","true","227080pQNYan","35APUBaL","execute","getBackgroundColorClass","77mGhsoK"];return _0x578d=function(){return c},_0x578d()}class PresenceDropdownListItemView extends ListItemView{[_0xf3e479(144)];constructor(n,s,a){const o=_0xf3e479;super(n);const t=this[o(156)];this[o(144)]=new UserView(n,s);const e={tag:"li",attributes:{class:["ck",o(146)],tabindex:-1,role:o(147),"aria-label":s[o(130)]},children:[this[o(144)],{tag:o(141),attributes:{class:["ck",o(134)]},children:[{text:s[o(130)]}]},{tag:o(141),attributes:{class:["ck",o(131),s[o(126)][o(152)]()],"aria-hidden":o(148)}}]};a&&(e[o(138)]=o(127),e.on={click:t.to(()=>this[o(132)](o(151)))}),this[o(145)](e)}[_0xf3e479(140)](){const n=_0xf3e479;this[n(139)][n(140)]()}}function _0x4786(){const c=["div","button","ck-presence-list__list-item__tooltip","userView","1268ahSnPz","172167ckNlPg","2499JtgNaq","1TpmYiX","getBackgroundColorClass","execute","markerView","4377210nZwjwp","bindTemplate","true","2912024fJcqBc","fire","tooltipPosition","188622jHFjYx","listitem","isFocusable","template","ck-presence-list__marker","hasTooltip","tag","span","text","color","11910SwczJf","setTemplate","3415bwMCfR","ck-presence-list__list-item","set","500986VkTFIh","name"];return _0x4786=function(){return c},_0x4786()}const _0x21e8aa=_0x454e;(function(c,n){const s=_0x454e,a=c();for(;;)try{if(-parseInt(s(349))/1*(-parseInt(s(340))/2)+-parseInt(s(347))/3+parseInt(s(346))/4*(parseInt(s(337))/5)+-parseInt(s(335))/6*(parseInt(s(348))/7)+parseInt(s(356))/8+-parseInt(s(359))/9+parseInt(s(353))/10===n)break;a.push(a.shift())}catch{a.push(a.shift())}})(_0x4786,481736);class PresenceInlineListItemView extends View{[_0x21e8aa(345)];[_0x21e8aa(352)];constructor(n,s,a){const o=_0x21e8aa;super(n);const t=this[o(354)];this[o(339)](o(361),!1),this[o(339)](o(330),!0),this[o(339)](o(358),""),this[o(345)]=new UserView(n,s),this[o(352)]=new ot(n,s);const e=new LabelView(n);e[o(362)][o(331)]=o(332),e[o(333)]=s[o(341)];const r={tag:o(342),attributes:{class:["ck",o(338)],role:o(360),tabindex:t.to(o(361),d=>!!d&&0),"aria-labelledby":e.id,"data-cke-tooltip-text":this[o(345)][o(341)],"data-cke-tooltip-position":t.to(o(358)),"data-cke-tooltip-disabled":t.to(o(330),d=>!d),"data-cke-tooltip-class":o(344)},children:[this[o(345)],this[o(352)],e]};a&&(r[o(331)]=o(343),r.on={click:t.to(()=>this[o(357)](o(351)))}),this[o(336)](r)}}function _0x454e(c,n){const s=_0x4786();return _0x454e=function(a,o){return a=a-329,s[a]},_0x454e(c,n)}class ot extends View{constructor(n,s){const a=_0x21e8aa;super(n),this[a(336)]({tag:a(332),attributes:{class:["ck",a(329),s[a(334)][a(350)]()],"aria-hidden":a(355)}})}}const _0x569e40=_0x46fe;(function(c,n){const s=_0x46fe,a=c();for(;;)try{if(-parseInt(s(524))/1+parseInt(s(494))/2*(parseInt(s(495))/3)+parseInt(s(484))/4+-parseInt(s(461))/5*(-parseInt(s(441))/6)+parseInt(s(506))/7*(parseInt(s(449))/8)+-parseInt(s(457))/9+parseInt(s(480))/10===n)break;a.push(a.shift())}catch{a.push(a.shift())}})(_0x19ed,599472);function _0x46fe(c,n){const s=_0x19ed();return _0x46fe=function(a,o){return a=a-434,s[a]},_0x46fe(c,n)}function _0x19ed(){const c=["element","4nvsCQO","1256529HkQrfG","map","isMe","min","counterView","unpin","join","isVisible","detachFromDom","presencelist:hide","hideDropdown","7HaNoPv","filter","balloonPanelView","execute","body","displayMe","focusTracker","appendChild","destroy","remove","activeElement","from","length","Shift+Tab","pin","using","isRendered",':not([disabled]):not([tabindex="-1"])',"1189571MJdDrn","hasTooltip","isPremiumPlugin","allConnectedUsers","tabIndex","ck ck-presence-list__balloon","number","_bodyCollection","presenceDropdownView","plugins","_handleUserRemove","Tab","presenceList.container","get","currentDisplayedUsers","onClick","items","view","init","requires","showDropdown","input","find","bind","30VHMvqY","define","context","config","presenceList.collapseAt","querySelectorAll","usersCount","_createView","206120mSddjL","indexOf","bindTo","PresenceListUI","textarea","change:isFocused","presencelist-collapseat-invalid-format","presenceList","3740562jUHGND","class","set","select","673315ComogW","sort","inlineListView","content","_handleUserAdd","render","keystrokes","_allConnectedUsers","isOfficialPlugin","reverse","presencelist:show","attachToDom","offsetHeight","isExpanded","[tabindex]","presenceList.displayMe","[contenteditable]","button","isFocusable","1669730xlOjYY","Enter","offsetWidth","Esc","2003688vSyYTz","pluginName","checkIfScrollable","listenTo","focus","presencelist-missing-container","add","locale","isCollapsed"];return _0x19ed=function(){return c},_0x19ed()}const U={collapseAt:6,displayMe:!0};class PresenceListUI extends ContextPlugin{[_0x569e40(538)];[_0x569e40(508)];[_0x569e40(434)];[_0x569e40(532)];[_0x569e40(531)]=null;static get[_0x569e40(485)](){return _0x569e40(452)}static get[_0x569e40(469)](){return!0}static get[_0x569e40(526)](){return!0}constructor(n){const s=_0x569e40;super(n),this[s(443)][s(444)][s(442)](s(456),U);const a=n[s(444)][s(537)](s(445));if(s(530)!=typeof a)throw new CKEditorError(s(455),this);if(a<1)throw new CKEditorError(s(455),this);this[s(468)]=this[s(443)][s(533)][s(537)](Sessions)[s(527)],this[s(459)](s(447),0),this[s(538)]=new Collection,this[s(508)]=new BalloonPanelView,this[s(508)][s(458)]=s(529),this[s(434)]=this[s(448)](),this[s(532)]=void 0}static get[_0x569e40(436)](){return[Sessions]}[_0x569e40(435)](){const n=_0x569e40;for(const s of this[n(468)])this[n(465)](s);this[n(487)](this[n(468)],n(490),(s,a)=>{this[n(465)](a)}),this[n(487)](this[n(468)],n(515),(s,a)=>{this[n(534)](a)})}[_0x569e40(448)](){const n=_0x569e40,s=this[n(443)],a=new PresenceListView(this[n(443)][n(491)],this[n(443)][n(444)][n(537)](n(445))),o=this[n(508)];if(!isElement(s[n(444)][n(537)](n(536))))throw new CKEditorError(n(489),this);return a[n(499)][n(440)](n(447)).to(this),a[n(440)](n(492)).to(this,n(447),t=>{const e=n,{collapseAt:r}=s[e(444)][e(537)](e(456)),d=t>=r;if(d&&!a[e(463)][e(540)][e(439)](u=>u instanceof PresenceCounterView)){const u=this[e(443)][e(444)][e(537)](e(445))-1;this[e(538)][e(518)]==u&&this[e(538)][e(518)]>1&&this[e(538)][e(515)](this[e(538)][e(518)]-1),a[e(463)][e(540)][e(490)](a[e(499)])}return d||this[e(505)](),d}),a[n(463)][n(540)][n(451)](this[n(538)])[n(521)](t=>{const e=n,r=s[e(444)][e(537)](e(456)),d=new PresenceInlineListItemView(s[e(491)],t,!!r[e(539)]);return d[e(440)](e(525)).to(a,e(492),u=>!u),d[e(440)](e(479)).to(a,e(492),u=>!u),r[e(539)]&&this[e(487)](d,e(509),()=>{const u=e;this[u(434)][u(492)]||r[u(539)](t,d[u(493)])}),d}),this[n(487)](a[n(463)],n(471),()=>{const t=n;this[t(434)][t(492)]&&this[t(437)]()}),this[n(487)](a[n(463)],n(504),()=>{const t=n;this[t(532)]&&this[t(505)]()}),a[n(463)][n(467)][n(459)](n(481),(t,e)=>{const r=n;this[r(434)][r(492)]&&(this[r(437)](),e())}),a[n(466)](),o[n(466)](),clickOutsideHandler({emitter:a,activator:()=>o[n(502)],contextElements:[o[n(493)],a[n(463)][n(493)]],callback:()=>this[n(505)]()}),s[n(444)][n(537)](n(536))[n(513)](a[n(493)]),this[n(531)]=new BodyCollection(this[n(443)][n(491)]),this[n(531)][n(472)](),this[n(531)][n(490)](this[n(508)]),a}[_0x569e40(465)](n){const s=_0x569e40;if(!this[s(443)][s(444)][s(537)](s(476))&&n[s(497)])return;const a=this[s(443)][s(444)][s(537)](s(445))-1;for(this[s(447)]++;this[s(538)][s(518)]>=a-(this[s(434)][s(492)]?1:0)&&this[s(538)][s(518)]>1;)this[s(538)][s(515)](1);const o=n[s(497)]?0:this[s(538)][s(518)];this[s(538)][s(490)](n,o)}[_0x569e40(534)](n){const s=_0x569e40;this[s(447)]--;const{collapseAt:a}=this[s(443)][s(444)][s(537)](s(456)),o=this[s(447)]>=a;if(this[s(538)][s(537)](n.id))this[s(538)][s(515)](n.id);else if(o&&this[s(538)][s(518)]+1===a-1)return;if(this[s(538)][s(518)]+(o?1:0)<this[s(447)]){for(const t of Array[s(517)](this[s(468)])[s(470)]())if(!this[s(538)][s(537)](t.id)&&(this[s(538)][s(490)](t,Math[s(498)](this[s(538)][s(518)]-(o?1:0),1)),this[s(538)][s(518)]+(o?1:0)===a-1))return}}[_0x569e40(437)](){const n=_0x569e40;if(this[n(532)])return;const s=this[n(443)][n(444)][n(537)](n(456));this[n(532)]=new PresenceDropdownListView(this[n(443)][n(491)],!!s[n(539)]),this[n(434)][n(463)][n(474)]=!0,this[n(487)](this[n(532)],n(504),()=>{const t=n;this[t(532)]&&this[t(505)]()});const{listWrapperView:a}=this[n(532)];a[n(540)][n(451)](this[n(468)])[n(521)](t=>{const e=n;if(!s[e(511)]&&t[e(497)])return null;const r=new PresenceDropdownListItemView(this[e(443)][e(491)],t,!!s[e(539)]);return s[e(539)]&&this[e(487)](r,e(509),()=>{const d=e;s[d(539)](t,r[d(493)])}),r}),this[n(508)][n(464)][n(490)](this[n(532)]),this[n(508)][n(520)]({target:this[n(434)][n(463)][n(493)]}),a[n(488)](),a[n(486)]();const o=(t,e)=>{const r=n;this[r(505)](),this[r(434)][r(463)][r(488)](),e()};a[n(467)][n(459)](n(483),o),a[n(467)][n(459)](n(519),o),a[n(467)][n(459)](n(535),(t,e)=>{const r=n;(function(d){const u=_0x46fe,l=["a",u(478),u(438),u(460),u(453),u(475),u(477)][u(496)](y=>y+u(523))[u(501)](","),m=[...document[u(510)][u(446)](l)][u(507)](y=>y===document[u(516)]||y[u(482)]+y[u(473)]>0)[u(462)]((y,S)=>(y[u(528)]||0)-(S[u(528)]||0)),h=m[u(450)](d),g=m[(h+1)%m[u(518)]];g&&g[u(488)]()})(this[r(434)][r(493)]),this[r(505)](),e()}),a[n(512)][n(490)](this[n(434)][n(493)]),a[n(512)].on(n(454),(t,e,r)=>{r||this[n(505)]()})}[_0x569e40(505)](){const n=_0x569e40;this[n(532)]&&(this[n(434)][n(463)][n(474)]=!1,this[n(508)][n(500)](),this[n(508)][n(464)][n(515)](this[n(532)]),this[n(532)][n(514)](),this[n(532)]=void 0)}[_0x569e40(514)](){const n=_0x569e40;super[n(514)](),this[n(434)]&&this[n(434)][n(522)]&&this[n(434)][n(514)](),this[n(531)]&&(this[n(531)][n(503)](),this[n(531)][n(514)](),this[n(531)]=null)}}var _0x422f92=_0x32ec;function _0x32ec(c,n){var s=_0x1210();return _0x32ec=function(a,o){a=a-227;var t=s[a];return t},_0x32ec(c,n)}(function(c,n){for(var s=_0x32ec,a=c();;)try{var o=-parseInt(s(238))/1+-parseInt(s(236))/2+-parseInt(s(231))/3*(-parseInt(s(237))/4)+parseInt(s(242))/5+parseInt(s(227))/6*(parseInt(s(229))/7)+parseInt(s(241))/8*(parseInt(s(240))/9)+-parseInt(s(228))/10*(parseInt(s(230))/11);if(o===n)break;a.push(a.shift())}catch{a.push(a.shift())}})(_0x1210,537586);function _0x1210(){var c=["4900300RmECjQ","6VZgHkK","13364090ylzGhp","6499591oMIhjF","11FjWVaf","918462IMazmQ","PresenceList","pluginName","isOfficialPlugin","requires","1771836SBWCgI","8lhQIMI","783554dVBpGQ","isPremiumPlugin","35127QdNJHE","2096RQkvWN"];return _0x1210=function(){return c},_0x1210()}class PresenceList extends ContextPlugin{static get[_0x422f92(235)](){return[Sessions,PresenceListUI]}static get[_0x422f92(233)](){var n=_0x422f92;return n(232)}static get[_0x422f92(234)](){return!0}static get[_0x422f92(239)](){return!0}}(function(c,n){for(var s=_0x488c,a=c();;)try{var o=-parseInt(s(247))/1+parseInt(s(244))/2*(-parseInt(s(246))/3)+parseInt(s(245))/4*(-parseInt(s(249))/5)+parseInt(s(250))/6+parseInt(s(251))/7+parseInt(s(252))/8+parseInt(s(248))/9;if(o===n)break;a.push(a.shift())}catch{a.push(a.shift())}})(_0x53bc,167919);function _0x488c(c,n){var s=_0x53bc();return _0x488c=function(a,o){a=a-244;var t=s[a];return t},_0x488c(c,n)}function _0x53bc(){var c=["836685NiNUNe","185wjzDAh","1359312MhVasQ","1014447mwoKnk","128552CqMgXR","138FwEVJr","1252OClLNa","5043AISFOI","185018vUVylW"];return _0x53bc=function(){return c},_0x53bc()}export{CloudServicesCommentsAdapter,CloudServicesRevisionHistoryAdapter,CloudServicesTrackChangesAdapter,PresenceList,PresenceListUI,RealTimeCollaborationClient,RealTimeCollaborativeComments,RealTimeCollaborativeEditing,RealTimeCollaborativeRevisionHistory,RealTimeCollaborativeTrackChanges,Sessions,WebSocketGateway};
